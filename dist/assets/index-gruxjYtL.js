(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nd={exports:{}},Ha={},Dd={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function vT(){if(Kg)return ke;Kg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function b(V,K,de){this.props=V,this.context=K,this.refs=j,this.updater=de||R}b.prototype.isReactComponent={},b.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function W(){}W.prototype=b.prototype;function q(V,K,de){this.props=V,this.context=K,this.refs=j,this.updater=de||R}var ee=q.prototype=new W;ee.constructor=q,P(ee,b.prototype),ee.isPureReactComponent=!0;var le=Array.isArray,_e=Object.prototype.hasOwnProperty,we={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function S(V,K,de){var Ce,Re={},De=null,Fe=null;if(K!=null)for(Ce in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(De=""+K.key),K)_e.call(K,Ce)&&!D.hasOwnProperty(Ce)&&(Re[Ce]=K[Ce]);var Ue=arguments.length-2;if(Ue===1)Re.children=de;else if(1<Ue){for(var He=Array(Ue),Et=0;Et<Ue;Et++)He[Et]=arguments[Et+2];Re.children=He}if(V&&V.defaultProps)for(Ce in Ue=V.defaultProps,Ue)Re[Ce]===void 0&&(Re[Ce]=Ue[Ce]);return{$$typeof:t,type:V,key:De,ref:Fe,props:Re,_owner:we.current}}function C(V,K){return{$$typeof:t,type:V.type,key:K,ref:V.ref,props:V.props,_owner:V._owner}}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function L(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return K[de]})}var M=/\/+/g;function k(V,K){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):K.toString(36)}function st(V,K,de,Ce,Re){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Fe=!1;if(V===null)Fe=!0;else switch(De){case"string":case"number":Fe=!0;break;case"object":switch(V.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=V,Re=Re(Fe),V=Ce===""?"."+k(Fe,0):Ce,le(Re)?(de="",V!=null&&(de=V.replace(M,"$&/")+"/"),st(Re,K,de,"",function(Et){return Et})):Re!=null&&(N(Re)&&(Re=C(Re,de+(!Re.key||Fe&&Fe.key===Re.key?"":(""+Re.key).replace(M,"$&/")+"/")+V)),K.push(Re)),1;if(Fe=0,Ce=Ce===""?".":Ce+":",le(V))for(var Ue=0;Ue<V.length;Ue++){De=V[Ue];var He=Ce+k(De,Ue);Fe+=st(De,K,de,He,Re)}else if(He=I(V),typeof He=="function")for(V=He.call(V),Ue=0;!(De=V.next()).done;)De=De.value,He=Ce+k(De,Ue++),Fe+=st(De,K,de,He,Re);else if(De==="object")throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Vt(V,K,de){if(V==null)return V;var Ce=[],Re=0;return st(V,Ce,"","",function(De){return K.call(de,De,Re++)}),Ce}function Mt(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var ze={current:null},re={transition:null},me={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:re,ReactCurrentOwner:we};function se(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Vt,forEach:function(V,K,de){Vt(V,function(){K.apply(this,arguments)},de)},count:function(V){var K=0;return Vt(V,function(){K++}),K},toArray:function(V){return Vt(V,function(K){return K})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ke.Component=b,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=q,ke.StrictMode=i,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ke.act=se,ke.cloneElement=function(V,K,de){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ce=P({},V.props),Re=V.key,De=V.ref,Fe=V._owner;if(K!=null){if(K.ref!==void 0&&(De=K.ref,Fe=we.current),K.key!==void 0&&(Re=""+K.key),V.type&&V.type.defaultProps)var Ue=V.type.defaultProps;for(He in K)_e.call(K,He)&&!D.hasOwnProperty(He)&&(Ce[He]=K[He]===void 0&&Ue!==void 0?Ue[He]:K[He])}var He=arguments.length-2;if(He===1)Ce.children=de;else if(1<He){Ue=Array(He);for(var Et=0;Et<He;Et++)Ue[Et]=arguments[Et+2];Ce.children=Ue}return{$$typeof:t,type:V.type,key:Re,ref:De,props:Ce,_owner:Fe}},ke.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},ke.createElement=S,ke.createFactory=function(V){var K=S.bind(null,V);return K.type=V,K},ke.createRef=function(){return{current:null}},ke.forwardRef=function(V){return{$$typeof:d,render:V}},ke.isValidElement=N,ke.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:Mt}},ke.memo=function(V,K){return{$$typeof:y,type:V,compare:K===void 0?null:K}},ke.startTransition=function(V){var K=re.transition;re.transition={};try{V()}finally{re.transition=K}},ke.unstable_act=se,ke.useCallback=function(V,K){return ze.current.useCallback(V,K)},ke.useContext=function(V){return ze.current.useContext(V)},ke.useDebugValue=function(){},ke.useDeferredValue=function(V){return ze.current.useDeferredValue(V)},ke.useEffect=function(V,K){return ze.current.useEffect(V,K)},ke.useId=function(){return ze.current.useId()},ke.useImperativeHandle=function(V,K,de){return ze.current.useImperativeHandle(V,K,de)},ke.useInsertionEffect=function(V,K){return ze.current.useInsertionEffect(V,K)},ke.useLayoutEffect=function(V,K){return ze.current.useLayoutEffect(V,K)},ke.useMemo=function(V,K){return ze.current.useMemo(V,K)},ke.useReducer=function(V,K,de){return ze.current.useReducer(V,K,de)},ke.useRef=function(V){return ze.current.useRef(V)},ke.useState=function(V){return ze.current.useState(V)},ke.useSyncExternalStore=function(V,K,de){return ze.current.useSyncExternalStore(V,K,de)},ke.useTransition=function(){return ze.current.useTransition()},ke.version="18.3.1",ke}var Gg;function Lf(){return Gg||(Gg=1,Dd.exports=vT()),Dd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function _T(){if(Qg)return Ha;Qg=1;var t=Lf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,E={},I=null,R=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(R=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:d,key:I,ref:R,props:E,_owner:o.current}}return Ha.Fragment=n,Ha.jsx=c,Ha.jsxs=c,Ha}var Yg;function wT(){return Yg||(Yg=1,Nd.exports=_T()),Nd.exports}var Q=wT(),z=Lf();const Ti=Vc(z);var qu={},Od={exports:{}},an={},Ld={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function ET(){return Xg||(Xg=1,function(t){function e(re,me){var se=re.length;re.push(me);e:for(;0<se;){var V=se-1>>>1,K=re[V];if(0<o(K,me))re[V]=me,re[se]=K,se=V;else break e}}function n(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var me=re[0],se=re.pop();if(se!==me){re[0]=se;e:for(var V=0,K=re.length,de=K>>>1;V<de;){var Ce=2*(V+1)-1,Re=re[Ce],De=Ce+1,Fe=re[De];if(0>o(Re,se))De<K&&0>o(Fe,Re)?(re[V]=Fe,re[De]=se,V=De):(re[V]=Re,re[Ce]=se,V=Ce);else if(De<K&&0>o(Fe,se))re[V]=Fe,re[De]=se,V=De;else break e}}return me}function o(re,me){var se=re.sortIndex-me.sortIndex;return se!==0?se:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,E=null,I=3,R=!1,P=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(re){for(var me=n(y);me!==null;){if(me.callback===null)i(y);else if(me.startTime<=re)i(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=n(y)}}function le(re){if(j=!1,ee(re),!P)if(n(p)!==null)P=!0,Mt(_e);else{var me=n(y);me!==null&&ze(le,me.startTime-re)}}function _e(re,me){P=!1,j&&(j=!1,W(S),S=-1),R=!0;var se=I;try{for(ee(me),E=n(p);E!==null&&(!(E.expirationTime>me)||re&&!L());){var V=E.callback;if(typeof V=="function"){E.callback=null,I=E.priorityLevel;var K=V(E.expirationTime<=me);me=t.unstable_now(),typeof K=="function"?E.callback=K:E===n(p)&&i(p),ee(me)}else i(p);E=n(p)}if(E!==null)var de=!0;else{var Ce=n(y);Ce!==null&&ze(le,Ce.startTime-me),de=!1}return de}finally{E=null,I=se,R=!1}}var we=!1,D=null,S=-1,C=5,N=-1;function L(){return!(t.unstable_now()-N<C)}function M(){if(D!==null){var re=t.unstable_now();N=re;var me=!0;try{me=D(!0,re)}finally{me?k():(we=!1,D=null)}}else we=!1}var k;if(typeof q=="function")k=function(){q(M)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,Vt=st.port2;st.port1.onmessage=M,k=function(){Vt.postMessage(null)}}else k=function(){b(M,0)};function Mt(re){D=re,we||(we=!0,k())}function ze(re,me){S=b(function(){re(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,Mt(_e))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(re){switch(I){case 1:case 2:case 3:var me=3;break;default:me=I}var se=I;I=me;try{return re()}finally{I=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var se=I;I=re;try{return me()}finally{I=se}},t.unstable_scheduleCallback=function(re,me,se){var V=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?V+se:V):se=V,re){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,re={id:_++,callback:me,priorityLevel:re,startTime:se,expirationTime:K,sortIndex:-1},se>V?(re.sortIndex=se,e(y,re),n(p)===null&&re===n(y)&&(j?(W(S),S=-1):j=!0,ze(le,se-V))):(re.sortIndex=K,e(p,re),P||R||(P=!0,Mt(_e))),re},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(re){var me=I;return function(){var se=I;I=me;try{return re.apply(this,arguments)}finally{I=se}}}}(bd)),bd}var Jg;function TT(){return Jg||(Jg=1,Ld.exports=ET()),Ld.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function IT(){if(Zg)return an;Zg=1;var t=Lf(),e=TT();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function I(r){return p.call(E,r)?!0:p.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function R(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,s,l,h){if(s===null||typeof s>"u"||R(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,l,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(W,q);b[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(W,q);b[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(W,q);b[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function ee(r,s,l,h){var f=b.hasOwnProperty(s)?b[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,l,f,h)&&(l=null),h||f===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var le=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_e=Symbol.for("react.element"),we=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),Vt=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,V;function K(r){if(V===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+r}var de=!1;function Ce(r,s){if(!r||de)return"";de=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(r,[],s)}else{try{s.call()}catch($){h=$}r.call(s.prototype)}else{try{throw Error()}catch($){h=$}r()}}catch($){if($&&h&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,A=g.length-1;1<=w&&0<=A&&f[w]!==g[A];)A--;for(;1<=w&&0<=A;w--,A--)if(f[w]!==g[A]){if(w!==1||A!==1)do if(w--,A--,0>A||f[w]!==g[A]){var x=`
`+f[w].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=w&&0<=A);break}}}finally{de=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?K(r):""}function Re(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case we:return"Portal";case C:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case st:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Vt:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case Mt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Et(r){var s=He(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function fr(r){r._valueTracker||(r._valueTracker=Et(r))}function Is(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=He(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function Wr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Vi(r,s){var l=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ss(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ue(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Yo(r,s){s=s.checked,s!=null&&ee(r,"checked",s,!1)}function Xo(r,s){Yo(r,s);var l=Ue(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?As(r,s.type,l):s.hasOwnProperty("defaultValue")&&As(r,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Nl(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function As(r,s,l){(s!=="number"||Wr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var pr=Array.isArray;function mr(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Ue(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Jo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Cs(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(pr(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ue(l)}}function Rs(r,s){var l=Ue(s.value),h=Ue(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Zo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var gr,ea=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=gr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function qr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fi=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(r){Fi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Mi[s]=Mi[r]})});function ta(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Mi.hasOwnProperty(r)&&Mi[r]?(""+s).trim():s+"px"}function na(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=ta(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var ra=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ia(r,s){if(s){if(ra[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function sa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function ks(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ps=null,_n=null,qn=null;function xs(r){if(r=Pa(r)){if(typeof Ps!="function")throw Error(n(280));var s=r.stateNode;s&&(s=au(s),Ps(r.stateNode,r.type,s))}}function Kn(r){_n?qn?qn.push(r):qn=[r]:_n=r}function oa(){if(_n){var r=_n,s=qn;if(qn=_n=null,xs(r),s)for(r=0;r<s.length;r++)xs(s[r])}}function ji(r,s){return r(s)}function aa(){}var yr=!1;function la(r,s,l){if(yr)return r(s,l);yr=!0;try{return ji(r,s,l)}finally{yr=!1,(_n!==null||qn!==null)&&(aa(),oa())}}function ot(r,s){var l=r.stateNode;if(l===null)return null;var h=au(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Ns=!1;if(d)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{Ns=!1}function Bi(r,s,l,h,f,g,w,A,x){var $=Array.prototype.slice.call(arguments,3);try{s.apply(l,$)}catch(Y){this.onError(Y)}}var zi=!1,Ds=null,xn=!1,ua=null,sh={onError:function(r){zi=!0,Ds=r}};function Os(r,s,l,h,f,g,w,A,x){zi=!1,Ds=null,Bi.apply(sh,arguments)}function Dl(r,s,l,h,f,g,w,A,x){if(Os.apply(this,arguments),zi){if(zi){var $=Ds;zi=!1,Ds=null}else throw Error(n(198));xn||(xn=!0,ua=$)}}function Nn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function $i(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Dn(r){if(Nn(r)!==r)throw Error(n(188))}function Ol(r){var s=r.alternate;if(!s){if(s=Nn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Dn(f),r;if(g===h)return Dn(f),s;g=g.sibling}throw Error(n(188))}if(l.return!==h.return)l=f,h=g;else{for(var w=!1,A=f.child;A;){if(A===l){w=!0,l=f,h=g;break}if(A===h){w=!0,h=f,l=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===l){w=!0,l=g,h=f;break}if(A===h){w=!0,h=g,l=f;break}A=A.sibling}if(!w)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function ca(r){return r=Ol(r),r!==null?Ls(r):null}function Ls(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ls(r);if(s!==null)return s;r=r.sibling}return null}var bs=e.unstable_scheduleCallback,ha=e.unstable_cancelCallback,Ll=e.unstable_shouldYield,oh=e.unstable_requestPaint,We=e.unstable_now,bl=e.unstable_getCurrentPriorityLevel,Hi=e.unstable_ImmediatePriority,Kr=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,da=e.unstable_LowPriority,Vl=e.unstable_IdlePriority,Wi=null,hn=null;function Ml(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Wi,r,void 0,(r.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Ul,fa=Math.log,Fl=Math.LN2;function Ul(r){return r>>>=0,r===0?32:31-(fa(r)/Fl|0)|0}var Vs=64,Ms=4194304;function Gr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function qi(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var A=w&~f;A!==0?h=Gr(A):(g&=w,g!==0&&(h=Gr(g)))}else w=l&~f,w!==0?h=Gr(w):g!==0&&(h=Gr(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Gt(s),f=1<<l,h|=r[l],s&=~f;return h}function ah(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Gt(g),A=1<<w,x=f[w];x===-1?((A&l)===0||(A&h)!==0)&&(f[w]=ah(A,s)):x<=s&&(r.expiredLanes|=A),g&=~A}}function dn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ki(){var r=Vs;return Vs<<=1,(Vs&4194240)===0&&(Vs=64),r}function Qr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Yr(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Gt(s),r[s]=l}function $e(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-Gt(l),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function Xr(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Gt(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var xe=0;function Jr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var jl,Fs,Bl,zl,$l,pa=!1,Gn=[],Rt=null,On=null,Ln=null,Zr=new Map,En=new Map,Qn=[],lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hl(r,s){switch(r){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Zr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(s.pointerId)}}function Zt(r,s,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Pa(s),s!==null&&Fs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function uh(r,s,l,h,f){switch(s){case"focusin":return Rt=Zt(Rt,r,s,l,h,f),!0;case"dragenter":return On=Zt(On,r,s,l,h,f),!0;case"mouseover":return Ln=Zt(Ln,r,s,l,h,f),!0;case"pointerover":var g=f.pointerId;return Zr.set(g,Zt(Zr.get(g)||null,r,s,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,En.set(g,Zt(En.get(g)||null,r,s,l,h,f)),!0}return!1}function Wl(r){var s=Ji(r.target);if(s!==null){var l=Nn(s);if(l!==null){if(s=l.tag,s===13){if(s=$i(l),s!==null){r.blockedOn=s,$l(r.priority,function(){Bl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _r(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Us(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Ui=h,l.target.dispatchEvent(h),Ui=null}else return s=Pa(l),s!==null&&Fs(s),r.blockedOn=l,!1;s.shift()}return!0}function Gi(r,s,l){_r(r)&&l.delete(s)}function ql(){pa=!1,Rt!==null&&_r(Rt)&&(Rt=null),On!==null&&_r(On)&&(On=null),Ln!==null&&_r(Ln)&&(Ln=null),Zr.forEach(Gi),En.forEach(Gi)}function bn(r,s){r.blockedOn===s&&(r.blockedOn=null,pa||(pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ql)))}function Vn(r){function s(f){return bn(f,r)}if(0<Gn.length){bn(Gn[0],r);for(var l=1;l<Gn.length;l++){var h=Gn[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Rt!==null&&bn(Rt,r),On!==null&&bn(On,r),Ln!==null&&bn(Ln,r),Zr.forEach(s),En.forEach(s),l=0;l<Qn.length;l++)h=Qn[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Qn.length&&(l=Qn[0],l.blockedOn===null);)Wl(l),l.blockedOn===null&&Qn.shift()}var wr=le.ReactCurrentBatchConfig,ei=!0;function Ye(r,s,l,h){var f=xe,g=wr.transition;wr.transition=null;try{xe=1,ma(r,s,l,h)}finally{xe=f,wr.transition=g}}function ch(r,s,l,h){var f=xe,g=wr.transition;wr.transition=null;try{xe=4,ma(r,s,l,h)}finally{xe=f,wr.transition=g}}function ma(r,s,l,h){if(ei){var f=Us(r,s,l,h);if(f===null)Eh(r,s,h,Qi,l),Hl(r,h);else if(uh(f,r,s,l,h))h.stopPropagation();else if(Hl(r,h),s&4&&-1<lh.indexOf(r)){for(;f!==null;){var g=Pa(f);if(g!==null&&jl(g),g=Us(r,s,l,h),g===null&&Eh(r,s,h,Qi,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else Eh(r,s,h,null,l)}}var Qi=null;function Us(r,s,l,h){if(Qi=null,r=ks(h),r=Ji(r),r!==null)if(s=Nn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=$i(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Qi=r,null}function ga(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bl()){case Hi:return 1;case Kr:return 4;case wn:case da:return 16;case Vl:return 536870912;default:return 16}default:return 16}}var fn=null,js=null,en=null;function ya(){if(en)return en;var r,s=js,l=s.length,h,f="value"in fn?fn.value:fn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var w=l-r;for(h=1;h<=w&&s[l-h]===f[g-h];h++);return en=f.slice(r,1<h?1-h:void 0)}function Bs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Yn(){return!0}function va(){return!1}function kt(r){function s(l,h,f,g,w){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Yn:va,this.isPropagationStopped=va,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),s}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=kt(Mn),Xn=se({},Mn,{view:0,detail:0}),hh=kt(Xn),$s,Er,ti,Yi=se({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ti&&(ti&&r.type==="mousemove"?($s=r.screenX-ti.screenX,Er=r.screenY-ti.screenY):Er=$s=0,ti=r),$s)},movementY:function(r){return"movementY"in r?r.movementY:Er}}),Hs=kt(Yi),_a=se({},Yi,{dataTransfer:0}),Kl=kt(_a),Ws=se({},Xn,{relatedTarget:0}),qs=kt(Ws),Gl=se({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tr=kt(Gl),Ql=se({},Mn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Yl=kt(Ql),Xl=se({},Mn,{data:0}),wa=kt(Xl),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Jl[r])?!!s[r]:!1}function Jn(){return Zl}var u=se({},Xn,{key:function(r){if(r.key){var s=Ks[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Bs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jn,charCode:function(r){return r.type==="keypress"?Bs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Bs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(u),v=se({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=kt(v),F=se({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jn}),H=kt(F),ne=se({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=kt(ne),gt=se({},Yi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=kt(gt),Tt=[9,13,27,32],ut=d&&"CompositionEvent"in window,Tn=null;d&&"documentMode"in document&&(Tn=document.documentMode);var pn=d&&"TextEvent"in window&&!Tn,Xi=d&&(!ut||Tn&&8<Tn&&11>=Tn),Gs=" ",Bp=!1;function zp(r,s){switch(r){case"keyup":return Tt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $p(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qs=!1;function mE(r,s){switch(r){case"compositionend":return $p(s);case"keypress":return s.which!==32?null:(Bp=!0,Gs);case"textInput":return r=s.data,r===Gs&&Bp?null:r;default:return null}}function gE(r,s){if(Qs)return r==="compositionend"||!ut&&zp(r,s)?(r=ya(),en=js=fn=null,Qs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xi&&s.locale!=="ko"?null:s.data;default:return null}}var yE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!yE[r.type]:s==="textarea"}function Wp(r,s,l,h){Kn(h),s=iu(s,"onChange"),0<s.length&&(l=new zs("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Ea=null,Ta=null;function vE(r){um(r,0)}function eu(r){var s=eo(r);if(Is(s))return r}function _E(r,s){if(r==="change")return s}var qp=!1;if(d){var dh;if(d){var fh="oninput"in document;if(!fh){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),fh=typeof Kp.oninput=="function"}dh=fh}else dh=!1;qp=dh&&(!document.documentMode||9<document.documentMode)}function Gp(){Ea&&(Ea.detachEvent("onpropertychange",Qp),Ta=Ea=null)}function Qp(r){if(r.propertyName==="value"&&eu(Ta)){var s=[];Wp(s,Ta,r,ks(r)),la(vE,s)}}function wE(r,s,l){r==="focusin"?(Gp(),Ea=s,Ta=l,Ea.attachEvent("onpropertychange",Qp)):r==="focusout"&&Gp()}function EE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return eu(Ta)}function TE(r,s){if(r==="click")return eu(s)}function IE(r,s){if(r==="input"||r==="change")return eu(s)}function SE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Fn=typeof Object.is=="function"?Object.is:SE;function Ia(r,s){if(Fn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!Fn(r[f],s[f]))return!1}return!0}function Yp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Xp(r,s){var l=Yp(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Yp(l)}}function Jp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Jp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Zp(){for(var r=window,s=Wr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Wr(r.document)}return s}function ph(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function AE(r){var s=Zp(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Jp(l.ownerDocument.documentElement,l)){if(h!==null&&ph(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Xp(l,g);var w=Xp(l,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var CE=d&&"documentMode"in document&&11>=document.documentMode,Ys=null,mh=null,Sa=null,gh=!1;function em(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gh||Ys==null||Ys!==Wr(h)||(h=Ys,"selectionStart"in h&&ph(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sa&&Ia(Sa,h)||(Sa=h,h=iu(mh,"onSelect"),0<h.length&&(s=new zs("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=Ys)))}function tu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Xs={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionend:tu("Transition","TransitionEnd")},yh={},tm={};d&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function nu(r){if(yh[r])return yh[r];if(!Xs[r])return r;var s=Xs[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in tm)return yh[r]=s[l];return r}var nm=nu("animationend"),rm=nu("animationiteration"),im=nu("animationstart"),sm=nu("transitionend"),om=new Map,am="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(r,s){om.set(r,s),a(s,[r])}for(var vh=0;vh<am.length;vh++){var _h=am[vh],RE=_h.toLowerCase(),kE=_h[0].toUpperCase()+_h.slice(1);ni(RE,"on"+kE)}ni(nm,"onAnimationEnd"),ni(rm,"onAnimationIteration"),ni(im,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(sm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function lm(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Dl(h,s,void 0,r),r.currentTarget=null}function um(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var A=h[w],x=A.instance,$=A.currentTarget;if(A=A.listener,x!==g&&f.isPropagationStopped())break e;lm(f,A,$),g=x}else for(w=0;w<h.length;w++){if(A=h[w],x=A.instance,$=A.currentTarget,A=A.listener,x!==g&&f.isPropagationStopped())break e;lm(f,A,$),g=x}}}if(xn)throw r=ua,xn=!1,ua=null,r}function Ke(r,s){var l=s[Rh];l===void 0&&(l=s[Rh]=new Set);var h=r+"__bubble";l.has(h)||(cm(s,r,2,!1),l.add(h))}function wh(r,s,l){var h=0;s&&(h|=4),cm(l,r,h,s)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Ca(r){if(!r[ru]){r[ru]=!0,i.forEach(function(l){l!=="selectionchange"&&(PE.has(l)||wh(l,!1,r),wh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ru]||(s[ru]=!0,wh("selectionchange",!1,s))}}function cm(r,s,l,h){switch(ga(s)){case 1:var f=Ye;break;case 4:f=ch;break;default:f=ma}l=f.bind(null,s,l,r),f=void 0,!Ns||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Eh(r,s,l,h,f){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var A=h.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var x=w.tag;if((x===3||x===4)&&(x=w.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;w=w.return}for(;A!==null;){if(w=Ji(A),w===null)return;if(x=w.tag,x===5||x===6){h=g=w;continue e}A=A.parentNode}}h=h.return}la(function(){var $=g,Y=ks(l),Z=[];e:{var G=om.get(r);if(G!==void 0){var ie=zs,ae=r;switch(r){case"keypress":if(Bs(l)===0)break e;case"keydown":case"keyup":ie=m;break;case"focusin":ae="focus",ie=qs;break;case"focusout":ae="blur",ie=qs;break;case"beforeblur":case"afterblur":ie=qs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=H;break;case nm:case rm:case im:ie=Tr;break;case sm:ie=je;break;case"scroll":ie=hh;break;case"wheel":ie=Oe;break;case"copy":case"cut":case"paste":ie=Yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=T}var ue=(s&4)!==0,at=!ue&&r==="scroll",U=ue?G!==null?G+"Capture":null:G;ue=[];for(var O=$,B;O!==null;){B=O;var te=B.stateNode;if(B.tag===5&&te!==null&&(B=te,U!==null&&(te=ot(O,U),te!=null&&ue.push(Ra(O,te,B)))),at)break;O=O.return}0<ue.length&&(G=new ie(G,ae,null,l,Y),Z.push({event:G,listeners:ue}))}}if((s&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",G&&l!==Ui&&(ae=l.relatedTarget||l.fromElement)&&(Ji(ae)||ae[Ir]))break e;if((ie||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,ie?(ae=l.relatedTarget||l.toElement,ie=$,ae=ae?Ji(ae):null,ae!==null&&(at=Nn(ae),ae!==at||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ie=null,ae=$),ie!==ae)){if(ue=Hs,te="onMouseLeave",U="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(ue=T,te="onPointerLeave",U="onPointerEnter",O="pointer"),at=ie==null?G:eo(ie),B=ae==null?G:eo(ae),G=new ue(te,O+"leave",ie,l,Y),G.target=at,G.relatedTarget=B,te=null,Ji(Y)===$&&(ue=new ue(U,O+"enter",ae,l,Y),ue.target=B,ue.relatedTarget=at,te=ue),at=te,ie&&ae)t:{for(ue=ie,U=ae,O=0,B=ue;B;B=Js(B))O++;for(B=0,te=U;te;te=Js(te))B++;for(;0<O-B;)ue=Js(ue),O--;for(;0<B-O;)U=Js(U),B--;for(;O--;){if(ue===U||U!==null&&ue===U.alternate)break t;ue=Js(ue),U=Js(U)}ue=null}else ue=null;ie!==null&&hm(Z,G,ie,ue,!1),ae!==null&&at!==null&&hm(Z,at,ae,ue,!0)}}e:{if(G=$?eo($):window,ie=G.nodeName&&G.nodeName.toLowerCase(),ie==="select"||ie==="input"&&G.type==="file")var he=_E;else if(Hp(G))if(qp)he=IE;else{he=EE;var ge=wE}else(ie=G.nodeName)&&ie.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(he=TE);if(he&&(he=he(r,$))){Wp(Z,he,l,Y);break e}ge&&ge(r,G,$),r==="focusout"&&(ge=G._wrapperState)&&ge.controlled&&G.type==="number"&&As(G,"number",G.value)}switch(ge=$?eo($):window,r){case"focusin":(Hp(ge)||ge.contentEditable==="true")&&(Ys=ge,mh=$,Sa=null);break;case"focusout":Sa=mh=Ys=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,em(Z,l,Y);break;case"selectionchange":if(CE)break;case"keydown":case"keyup":em(Z,l,Y)}var ye;if(ut)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Qs?zp(r,l)&&(Ee="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Xi&&l.locale!=="ko"&&(Qs||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Qs&&(ye=ya()):(fn=Y,js="value"in fn?fn.value:fn.textContent,Qs=!0)),ge=iu($,Ee),0<ge.length&&(Ee=new wa(Ee,r,null,l,Y),Z.push({event:Ee,listeners:ge}),ye?Ee.data=ye:(ye=$p(l),ye!==null&&(Ee.data=ye)))),(ye=pn?mE(r,l):gE(r,l))&&($=iu($,"onBeforeInput"),0<$.length&&(Y=new wa("onBeforeInput","beforeinput",null,l,Y),Z.push({event:Y,listeners:$}),Y.data=ye))}um(Z,s)})}function Ra(r,s,l){return{instance:r,listener:s,currentTarget:l}}function iu(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ot(r,l),g!=null&&h.unshift(Ra(r,g,f)),g=ot(r,s),g!=null&&h.push(Ra(r,g,f))),r=r.return}return h}function Js(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function hm(r,s,l,h,f){for(var g=s._reactName,w=[];l!==null&&l!==h;){var A=l,x=A.alternate,$=A.stateNode;if(x!==null&&x===h)break;A.tag===5&&$!==null&&(A=$,f?(x=ot(l,g),x!=null&&w.unshift(Ra(l,x,A))):f||(x=ot(l,g),x!=null&&w.push(Ra(l,x,A)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var xE=/\r\n?/g,NE=/\u0000|\uFFFD/g;function dm(r){return(typeof r=="string"?r:""+r).replace(xE,`
`).replace(NE,"")}function su(r,s,l){if(s=dm(s),dm(r)!==s&&l)throw Error(n(425))}function ou(){}var Th=null,Ih=null;function Sh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,DE=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(r){return fm.resolve(null).then(r).catch(LE)}:Ah;function LE(r){setTimeout(function(){throw r})}function Ch(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Vn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Vn(s)}function ri(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function pm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Zs,ka="__reactProps$"+Zs,Ir="__reactContainer$"+Zs,Rh="__reactEvents$"+Zs,bE="__reactListeners$"+Zs,VE="__reactHandles$"+Zs;function Ji(r){var s=r[Zn];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Ir]||l[Zn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=pm(r);r!==null;){if(l=r[Zn])return l;r=pm(r)}return s}r=l,l=r.parentNode}return null}function Pa(r){return r=r[Zn]||r[Ir],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function eo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function au(r){return r[ka]||null}var kh=[],to=-1;function ii(r){return{current:r}}function Ge(r){0>to||(r.current=kh[to],kh[to]=null,to--)}function qe(r,s){to++,kh[to]=r.current,r.current=s}var si={},Ft=ii(si),tn=ii(!1),Zi=si;function no(r,s){var l=r.type.contextTypes;if(!l)return si;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function nn(r){return r=r.childContextTypes,r!=null}function lu(){Ge(tn),Ge(Ft)}function mm(r,s,l){if(Ft.current!==si)throw Error(n(168));qe(Ft,s),qe(tn,l)}function gm(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(n(108,Fe(r)||"Unknown",f));return se({},l,h)}function uu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||si,Zi=Ft.current,qe(Ft,r),qe(tn,tn.current),!0}function ym(r,s,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=gm(r,s,Zi),h.__reactInternalMemoizedMergedChildContext=r,Ge(tn),Ge(Ft),qe(Ft,r)):Ge(tn),qe(tn,l)}var Sr=null,cu=!1,Ph=!1;function vm(r){Sr===null?Sr=[r]:Sr.push(r)}function ME(r){cu=!0,vm(r)}function oi(){if(!Ph&&Sr!==null){Ph=!0;var r=0,s=xe;try{var l=Sr;for(xe=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Sr=null,cu=!1}catch(f){throw Sr!==null&&(Sr=Sr.slice(r+1)),bs(Hi,oi),f}finally{xe=s,Ph=!1}}return null}var ro=[],io=0,hu=null,du=0,In=[],Sn=0,es=null,Ar=1,Cr="";function ts(r,s){ro[io++]=du,ro[io++]=hu,hu=r,du=s}function _m(r,s,l){In[Sn++]=Ar,In[Sn++]=Cr,In[Sn++]=es,es=r;var h=Ar;r=Cr;var f=32-Gt(h)-1;h&=~(1<<f),l+=1;var g=32-Gt(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,Ar=1<<32-Gt(s)+f|l<<f|h,Cr=g+r}else Ar=1<<g|l<<f|h,Cr=r}function xh(r){r.return!==null&&(ts(r,1),_m(r,1,0))}function Nh(r){for(;r===hu;)hu=ro[--io],ro[io]=null,du=ro[--io],ro[io]=null;for(;r===es;)es=In[--Sn],In[Sn]=null,Cr=In[--Sn],In[Sn]=null,Ar=In[--Sn],In[Sn]=null}var mn=null,gn=null,Xe=!1,Un=null;function wm(r,s){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Em(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,mn=r,gn=ri(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,mn=r,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=es!==null?{id:Ar,overflow:Cr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,mn=r,gn=null,!0):!1;default:return!1}}function Dh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Oh(r){if(Xe){var s=gn;if(s){var l=s;if(!Em(r,s)){if(Dh(r))throw Error(n(418));s=ri(l.nextSibling);var h=mn;s&&Em(r,s)?wm(h,l):(r.flags=r.flags&-4097|2,Xe=!1,mn=r)}}else{if(Dh(r))throw Error(n(418));r.flags=r.flags&-4097|2,Xe=!1,mn=r}}}function Tm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;mn=r}function fu(r){if(r!==mn)return!1;if(!Xe)return Tm(r),Xe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Sh(r.type,r.memoizedProps)),s&&(s=gn)){if(Dh(r))throw Im(),Error(n(418));for(;s;)wm(r,s),s=ri(s.nextSibling)}if(Tm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){gn=ri(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}gn=null}}else gn=mn?ri(r.stateNode.nextSibling):null;return!0}function Im(){for(var r=gn;r;)r=ri(r.nextSibling)}function so(){gn=mn=null,Xe=!1}function Lh(r){Un===null?Un=[r]:Un.push(r)}var FE=le.ReactCurrentBatchConfig;function xa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var A=f.refs;w===null?delete A[g]:A[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function pu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Sm(r){var s=r._init;return s(r._payload)}function Am(r){function s(U,O){if(r){var B=U.deletions;B===null?(U.deletions=[O],U.flags|=16):B.push(O)}}function l(U,O){if(!r)return null;for(;O!==null;)s(U,O),O=O.sibling;return null}function h(U,O){for(U=new Map;O!==null;)O.key!==null?U.set(O.key,O):U.set(O.index,O),O=O.sibling;return U}function f(U,O){return U=pi(U,O),U.index=0,U.sibling=null,U}function g(U,O,B){return U.index=B,r?(B=U.alternate,B!==null?(B=B.index,B<O?(U.flags|=2,O):B):(U.flags|=2,O)):(U.flags|=1048576,O)}function w(U){return r&&U.alternate===null&&(U.flags|=2),U}function A(U,O,B,te){return O===null||O.tag!==6?(O=Ad(B,U.mode,te),O.return=U,O):(O=f(O,B),O.return=U,O)}function x(U,O,B,te){var he=B.type;return he===D?Y(U,O,B.props.children,te,B.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Mt&&Sm(he)===O.type)?(te=f(O,B.props),te.ref=xa(U,O,B),te.return=U,te):(te=Fu(B.type,B.key,B.props,null,U.mode,te),te.ref=xa(U,O,B),te.return=U,te)}function $(U,O,B,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Cd(B,U.mode,te),O.return=U,O):(O=f(O,B.children||[]),O.return=U,O)}function Y(U,O,B,te,he){return O===null||O.tag!==7?(O=us(B,U.mode,te,he),O.return=U,O):(O=f(O,B),O.return=U,O)}function Z(U,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Ad(""+O,U.mode,B),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _e:return B=Fu(O.type,O.key,O.props,null,U.mode,B),B.ref=xa(U,null,O),B.return=U,B;case we:return O=Cd(O,U.mode,B),O.return=U,O;case Mt:var te=O._init;return Z(U,te(O._payload),B)}if(pr(O)||me(O))return O=us(O,U.mode,B,null),O.return=U,O;pu(U,O)}return null}function G(U,O,B,te){var he=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return he!==null?null:A(U,O,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _e:return B.key===he?x(U,O,B,te):null;case we:return B.key===he?$(U,O,B,te):null;case Mt:return he=B._init,G(U,O,he(B._payload),te)}if(pr(B)||me(B))return he!==null?null:Y(U,O,B,te,null);pu(U,B)}return null}function ie(U,O,B,te,he){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(B)||null,A(O,U,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _e:return U=U.get(te.key===null?B:te.key)||null,x(O,U,te,he);case we:return U=U.get(te.key===null?B:te.key)||null,$(O,U,te,he);case Mt:var ge=te._init;return ie(U,O,B,ge(te._payload),he)}if(pr(te)||me(te))return U=U.get(B)||null,Y(O,U,te,he,null);pu(O,te)}return null}function ae(U,O,B,te){for(var he=null,ge=null,ye=O,Ee=O=0,At=null;ye!==null&&Ee<B.length;Ee++){ye.index>Ee?(At=ye,ye=null):At=ye.sibling;var Ve=G(U,ye,B[Ee],te);if(Ve===null){ye===null&&(ye=At);break}r&&ye&&Ve.alternate===null&&s(U,ye),O=g(Ve,O,Ee),ge===null?he=Ve:ge.sibling=Ve,ge=Ve,ye=At}if(Ee===B.length)return l(U,ye),Xe&&ts(U,Ee),he;if(ye===null){for(;Ee<B.length;Ee++)ye=Z(U,B[Ee],te),ye!==null&&(O=g(ye,O,Ee),ge===null?he=ye:ge.sibling=ye,ge=ye);return Xe&&ts(U,Ee),he}for(ye=h(U,ye);Ee<B.length;Ee++)At=ie(ye,U,Ee,B[Ee],te),At!==null&&(r&&At.alternate!==null&&ye.delete(At.key===null?Ee:At.key),O=g(At,O,Ee),ge===null?he=At:ge.sibling=At,ge=At);return r&&ye.forEach(function(mi){return s(U,mi)}),Xe&&ts(U,Ee),he}function ue(U,O,B,te){var he=me(B);if(typeof he!="function")throw Error(n(150));if(B=he.call(B),B==null)throw Error(n(151));for(var ge=he=null,ye=O,Ee=O=0,At=null,Ve=B.next();ye!==null&&!Ve.done;Ee++,Ve=B.next()){ye.index>Ee?(At=ye,ye=null):At=ye.sibling;var mi=G(U,ye,Ve.value,te);if(mi===null){ye===null&&(ye=At);break}r&&ye&&mi.alternate===null&&s(U,ye),O=g(mi,O,Ee),ge===null?he=mi:ge.sibling=mi,ge=mi,ye=At}if(Ve.done)return l(U,ye),Xe&&ts(U,Ee),he;if(ye===null){for(;!Ve.done;Ee++,Ve=B.next())Ve=Z(U,Ve.value,te),Ve!==null&&(O=g(Ve,O,Ee),ge===null?he=Ve:ge.sibling=Ve,ge=Ve);return Xe&&ts(U,Ee),he}for(ye=h(U,ye);!Ve.done;Ee++,Ve=B.next())Ve=ie(ye,U,Ee,Ve.value,te),Ve!==null&&(r&&Ve.alternate!==null&&ye.delete(Ve.key===null?Ee:Ve.key),O=g(Ve,O,Ee),ge===null?he=Ve:ge.sibling=Ve,ge=Ve);return r&&ye.forEach(function(yT){return s(U,yT)}),Xe&&ts(U,Ee),he}function at(U,O,B,te){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case _e:e:{for(var he=B.key,ge=O;ge!==null;){if(ge.key===he){if(he=B.type,he===D){if(ge.tag===7){l(U,ge.sibling),O=f(ge,B.props.children),O.return=U,U=O;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Mt&&Sm(he)===ge.type){l(U,ge.sibling),O=f(ge,B.props),O.ref=xa(U,ge,B),O.return=U,U=O;break e}l(U,ge);break}else s(U,ge);ge=ge.sibling}B.type===D?(O=us(B.props.children,U.mode,te,B.key),O.return=U,U=O):(te=Fu(B.type,B.key,B.props,null,U.mode,te),te.ref=xa(U,O,B),te.return=U,U=te)}return w(U);case we:e:{for(ge=B.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){l(U,O.sibling),O=f(O,B.children||[]),O.return=U,U=O;break e}else{l(U,O);break}else s(U,O);O=O.sibling}O=Cd(B,U.mode,te),O.return=U,U=O}return w(U);case Mt:return ge=B._init,at(U,O,ge(B._payload),te)}if(pr(B))return ae(U,O,B,te);if(me(B))return ue(U,O,B,te);pu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,O!==null&&O.tag===6?(l(U,O.sibling),O=f(O,B),O.return=U,U=O):(l(U,O),O=Ad(B,U.mode,te),O.return=U,U=O),w(U)):l(U,O)}return at}var oo=Am(!0),Cm=Am(!1),mu=ii(null),gu=null,ao=null,bh=null;function Vh(){bh=ao=gu=null}function Mh(r){var s=mu.current;Ge(mu),r._currentValue=s}function Fh(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function lo(r,s){gu=r,bh=ao=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(rn=!0),r.firstContext=null)}function An(r){var s=r._currentValue;if(bh!==r)if(r={context:r,memoizedValue:s,next:null},ao===null){if(gu===null)throw Error(n(308));ao=r,gu.dependencies={lanes:0,firstContext:r}}else ao=ao.next=r;return s}var ns=null;function Uh(r){ns===null?ns=[r]:ns.push(r)}function Rm(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,Uh(s)):(l.next=f.next,f.next=l),s.interleaved=l,Rr(r,h)}function Rr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ai=!1;function jh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function km(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function kr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function li(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(be&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Rr(r,l)}return f=h.interleaved,f===null?(s.next=s,Uh(h)):(s.next=f.next,f.next=s),h.interleaved=s,Rr(r,l)}function yu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Xr(r,l)}}function Pm(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function vu(r,s,l,h){var f=r.updateQueue;ai=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var x=A,$=x.next;x.next=null,w===null?g=$:w.next=$,w=x;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==w&&(A===null?Y.firstBaseUpdate=$:A.next=$,Y.lastBaseUpdate=x))}if(g!==null){var Z=f.baseState;w=0,Y=$=x=null,A=g;do{var G=A.lane,ie=A.eventTime;if((h&G)===G){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ae=r,ue=A;switch(G=s,ie=l,ue.tag){case 1:if(ae=ue.payload,typeof ae=="function"){Z=ae.call(ie,Z,G);break e}Z=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ue.payload,G=typeof ae=="function"?ae.call(ie,Z,G):ae,G==null)break e;Z=se({},Z,G);break e;case 2:ai=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,G=f.effects,G===null?f.effects=[A]:G.push(A))}else ie={eventTime:ie,lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?($=Y=ie,x=Z):Y=Y.next=ie,w|=G;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;G=A,A=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);if(Y===null&&(x=Z),f.baseState=x,f.firstBaseUpdate=$,f.lastBaseUpdate=Y,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);ss|=w,r.lanes=w,r.memoizedState=Z}}function xm(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(n(191,f));f.call(h)}}}var Na={},er=ii(Na),Da=ii(Na),Oa=ii(Na);function rs(r){if(r===Na)throw Error(n(174));return r}function Bh(r,s){switch(qe(Oa,s),qe(Da,r),qe(er,Na),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=mt(s,r)}Ge(er),qe(er,s)}function uo(){Ge(er),Ge(Da),Ge(Oa)}function Nm(r){rs(Oa.current);var s=rs(er.current),l=mt(s,r.type);s!==l&&(qe(Da,r),qe(er,l))}function zh(r){Da.current===r&&(Ge(er),Ge(Da))}var et=ii(0);function _u(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $h=[];function Hh(){for(var r=0;r<$h.length;r++)$h[r]._workInProgressVersionPrimary=null;$h.length=0}var wu=le.ReactCurrentDispatcher,Wh=le.ReactCurrentBatchConfig,is=0,tt=null,yt=null,It=null,Eu=!1,La=!1,ba=0,UE=0;function Ut(){throw Error(n(321))}function qh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Fn(r[l],s[l]))return!1;return!0}function Kh(r,s,l,h,f,g){if(is=g,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,wu.current=r===null||r.memoizedState===null?$E:HE,r=l(h,f),La){g=0;do{if(La=!1,ba=0,25<=g)throw Error(n(301));g+=1,It=yt=null,s.updateQueue=null,wu.current=WE,r=l(h,f)}while(La)}if(wu.current=Su,s=yt!==null&&yt.next!==null,is=0,It=yt=tt=null,Eu=!1,s)throw Error(n(300));return r}function Gh(){var r=ba!==0;return ba=0,r}function tr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?tt.memoizedState=It=r:It=It.next=r,It}function Cn(){if(yt===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=It===null?tt.memoizedState:It.next;if(s!==null)It=s,yt=r;else{if(r===null)throw Error(n(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?tt.memoizedState=It=r:It=It.next=r}return It}function Va(r,s){return typeof s=="function"?s(r):s}function Qh(r){var s=Cn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=yt,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var A=w=null,x=null,$=g;do{var Y=$.lane;if((is&Y)===Y)x!==null&&(x=x.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:r(h,$.action);else{var Z={lane:Y,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};x===null?(A=x=Z,w=h):x=x.next=Z,tt.lanes|=Y,ss|=Y}$=$.next}while($!==null&&$!==g);x===null?w=h:x.next=A,Fn(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=x,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,tt.lanes|=g,ss|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Yh(r){var s=Cn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);Fn(g,s.memoizedState)||(rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function Dm(){}function Om(r,s){var l=tt,h=Cn(),f=s(),g=!Fn(h.memoizedState,f);if(g&&(h.memoizedState=f,rn=!0),h=h.queue,Xh(Vm.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Ma(9,bm.bind(null,l,h,f,s),void 0,null),St===null)throw Error(n(349));(is&30)!==0||Lm(l,s,f)}return f}function Lm(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function bm(r,s,l,h){s.value=l,s.getSnapshot=h,Mm(s)&&Fm(r)}function Vm(r,s,l){return l(function(){Mm(s)&&Fm(r)})}function Mm(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Fn(r,l)}catch{return!0}}function Fm(r){var s=Rr(r,1);s!==null&&$n(s,r,1,-1)}function Um(r){var s=tr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:r},s.queue=r,r=r.dispatch=zE.bind(null,tt,r),[s.memoizedState,r]}function Ma(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function jm(){return Cn().memoizedState}function Tu(r,s,l,h){var f=tr();tt.flags|=r,f.memoizedState=Ma(1|s,l,void 0,h===void 0?null:h)}function Iu(r,s,l,h){var f=Cn();h=h===void 0?null:h;var g=void 0;if(yt!==null){var w=yt.memoizedState;if(g=w.destroy,h!==null&&qh(h,w.deps)){f.memoizedState=Ma(s,l,g,h);return}}tt.flags|=r,f.memoizedState=Ma(1|s,l,g,h)}function Bm(r,s){return Tu(8390656,8,r,s)}function Xh(r,s){return Iu(2048,8,r,s)}function zm(r,s){return Iu(4,2,r,s)}function $m(r,s){return Iu(4,4,r,s)}function Hm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Wm(r,s,l){return l=l!=null?l.concat([r]):null,Iu(4,4,Hm.bind(null,s,r),l)}function Jh(){}function qm(r,s){var l=Cn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&qh(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Km(r,s){var l=Cn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&qh(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Gm(r,s,l){return(is&21)===0?(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=l):(Fn(l,s)||(l=Ki(),tt.lanes|=l,ss|=l,r.baseState=!0),s)}function jE(r,s){var l=xe;xe=l!==0&&4>l?l:4,r(!0);var h=Wh.transition;Wh.transition={};try{r(!1),s()}finally{xe=l,Wh.transition=h}}function Qm(){return Cn().memoizedState}function BE(r,s,l){var h=di(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Ym(r))Xm(s,l);else if(l=Rm(r,s,l,h),l!==null){var f=Xt();$n(l,r,h,f),Jm(l,s,h)}}function zE(r,s,l){var h=di(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ym(r))Xm(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,l);if(f.hasEagerState=!0,f.eagerState=A,Fn(A,w)){var x=s.interleaved;x===null?(f.next=f,Uh(s)):(f.next=x.next,x.next=f),s.interleaved=f;return}}catch{}finally{}l=Rm(r,s,f,h),l!==null&&(f=Xt(),$n(l,r,h,f),Jm(l,s,h))}}function Ym(r){var s=r.alternate;return r===tt||s!==null&&s===tt}function Xm(r,s){La=Eu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Jm(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Xr(r,l)}}var Su={readContext:An,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},$E={readContext:An,useCallback:function(r,s){return tr().memoizedState=[r,s===void 0?null:s],r},useContext:An,useEffect:Bm,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Tu(4194308,4,Hm.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Tu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Tu(4,2,r,s)},useMemo:function(r,s){var l=tr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=tr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=BE.bind(null,tt,r),[h.memoizedState,r]},useRef:function(r){var s=tr();return r={current:r},s.memoizedState=r},useState:Um,useDebugValue:Jh,useDeferredValue:function(r){return tr().memoizedState=r},useTransition:function(){var r=Um(!1),s=r[0];return r=jE.bind(null,r[1]),tr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=tt,f=tr();if(Xe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),St===null)throw Error(n(349));(is&30)!==0||Lm(h,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Bm(Vm.bind(null,h,g,r),[r]),h.flags|=2048,Ma(9,bm.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=tr(),s=St.identifierPrefix;if(Xe){var l=Cr,h=Ar;l=(h&~(1<<32-Gt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=ba++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=UE++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},HE={readContext:An,useCallback:qm,useContext:An,useEffect:Xh,useImperativeHandle:Wm,useInsertionEffect:zm,useLayoutEffect:$m,useMemo:Km,useReducer:Qh,useRef:jm,useState:function(){return Qh(Va)},useDebugValue:Jh,useDeferredValue:function(r){var s=Cn();return Gm(s,yt.memoizedState,r)},useTransition:function(){var r=Qh(Va)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:Dm,useSyncExternalStore:Om,useId:Qm,unstable_isNewReconciler:!1},WE={readContext:An,useCallback:qm,useContext:An,useEffect:Xh,useImperativeHandle:Wm,useInsertionEffect:zm,useLayoutEffect:$m,useMemo:Km,useReducer:Yh,useRef:jm,useState:function(){return Yh(Va)},useDebugValue:Jh,useDeferredValue:function(r){var s=Cn();return yt===null?s.memoizedState=r:Gm(s,yt.memoizedState,r)},useTransition:function(){var r=Yh(Va)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:Dm,useSyncExternalStore:Om,useId:Qm,unstable_isNewReconciler:!1};function jn(r,s){if(r&&r.defaultProps){s=se({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Zh(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:se({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Au={isMounted:function(r){return(r=r._reactInternals)?Nn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Xt(),f=di(r),g=kr(h,f);g.payload=s,l!=null&&(g.callback=l),s=li(r,g,f),s!==null&&($n(s,r,f,h),yu(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Xt(),f=di(r),g=kr(h,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=li(r,g,f),s!==null&&($n(s,r,f,h),yu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Xt(),h=di(r),f=kr(l,h);f.tag=2,s!=null&&(f.callback=s),s=li(r,f,h),s!==null&&($n(s,r,h,l),yu(s,r,h))}};function Zm(r,s,l,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!Ia(l,h)||!Ia(f,g):!0}function eg(r,s,l){var h=!1,f=si,g=s.contextType;return typeof g=="object"&&g!==null?g=An(g):(f=nn(s)?Zi:Ft.current,h=s.contextTypes,g=(h=h!=null)?no(r,f):si),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Au,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function tg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Au.enqueueReplaceState(s,s.state,null)}function ed(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},jh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=An(g):(g=nn(s)?Zi:Ft.current,f.context=no(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Zh(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Au.enqueueReplaceState(f,f.state,null),vu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function co(r,s){try{var l="",h=s;do l+=Re(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function td(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function nd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var qE=typeof WeakMap=="function"?WeakMap:Map;function ng(r,s,l){l=kr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Du||(Du=!0,yd=h),nd(r,s)},l}function rg(r,s,l){l=kr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){nd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){nd(r,s),typeof h!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function ig(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new qE;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=oT.bind(null,r,s,l),s.then(r,r))}function sg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function og(r,s,l,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=kr(-1,1),s.tag=2,li(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var KE=le.ReactCurrentOwner,rn=!1;function Yt(r,s,l,h){s.child=r===null?Cm(s,null,l,h):oo(s,r.child,l,h)}function ag(r,s,l,h,f){l=l.render;var g=s.ref;return lo(s,f),h=Kh(r,s,l,h,g,f),l=Gh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Pr(r,s,f)):(Xe&&l&&xh(s),s.flags|=1,Yt(r,s,h,f),s.child)}function lg(r,s,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!Sd(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,ug(r,s,g,h,f)):(r=Fu(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ia,l(w,h)&&r.ref===s.ref)return Pr(r,s,f)}return s.flags|=1,r=pi(g,h),r.ref=s.ref,r.return=s,s.child=r}function ug(r,s,l,h,f){if(r!==null){var g=r.memoizedProps;if(Ia(g,h)&&r.ref===s.ref)if(rn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(rn=!0);else return s.lanes=r.lanes,Pr(r,s,f)}return rd(r,s,l,h,f)}function cg(r,s,l){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(fo,yn),yn|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(fo,yn),yn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,qe(fo,yn),yn|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,qe(fo,yn),yn|=h;return Yt(r,s,f,l),s.child}function hg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function rd(r,s,l,h,f){var g=nn(l)?Zi:Ft.current;return g=no(s,g),lo(s,f),l=Kh(r,s,l,h,g,f),h=Gh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Pr(r,s,f)):(Xe&&h&&xh(s),s.flags|=1,Yt(r,s,l,f),s.child)}function dg(r,s,l,h,f){if(nn(l)){var g=!0;uu(s)}else g=!1;if(lo(s,f),s.stateNode===null)Ru(r,s),eg(s,l,h),ed(s,l,h,f),h=!0;else if(r===null){var w=s.stateNode,A=s.memoizedProps;w.props=A;var x=w.context,$=l.contextType;typeof $=="object"&&$!==null?$=An($):($=nn(l)?Zi:Ft.current,$=no(s,$));var Y=l.getDerivedStateFromProps,Z=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==h||x!==$)&&tg(s,w,h,$),ai=!1;var G=s.memoizedState;w.state=G,vu(s,h,w,f),x=s.memoizedState,A!==h||G!==x||tn.current||ai?(typeof Y=="function"&&(Zh(s,l,Y,h),x=s.memoizedState),(A=ai||Zm(s,l,A,h,G,x,$))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=x),w.props=h,w.state=x,w.context=$,h=A):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,km(r,s),A=s.memoizedProps,$=s.type===s.elementType?A:jn(s.type,A),w.props=$,Z=s.pendingProps,G=w.context,x=l.contextType,typeof x=="object"&&x!==null?x=An(x):(x=nn(l)?Zi:Ft.current,x=no(s,x));var ie=l.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==Z||G!==x)&&tg(s,w,h,x),ai=!1,G=s.memoizedState,w.state=G,vu(s,h,w,f);var ae=s.memoizedState;A!==Z||G!==ae||tn.current||ai?(typeof ie=="function"&&(Zh(s,l,ie,h),ae=s.memoizedState),($=ai||Zm(s,l,$,h,G,ae,x)||!1)?(Y||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ae,x),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ae,x)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ae),w.props=h,w.state=ae,w.context=x,h=$):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),h=!1)}return id(r,s,l,h,g,f)}function id(r,s,l,h,f,g){hg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&ym(s,l,!1),Pr(r,s,g);h=s.stateNode,KE.current=s;var A=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=oo(s,r.child,null,g),s.child=oo(s,null,A,g)):Yt(r,s,A,g),s.memoizedState=h.state,f&&ym(s,l,!0),s.child}function fg(r){var s=r.stateNode;s.pendingContext?mm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&mm(r,s.context,!1),Bh(r,s.containerInfo)}function pg(r,s,l,h,f){return so(),Lh(f),s.flags|=256,Yt(r,s,l,h),s.child}var sd={dehydrated:null,treeContext:null,retryLane:0};function od(r){return{baseLanes:r,cachePool:null,transitions:null}}function mg(r,s,l){var h=s.pendingProps,f=et.current,g=!1,w=(s.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),qe(et,f&1),r===null)return Oh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Uu(w,h,0,null),r=us(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=od(l),s.memoizedState=sd,r):ad(s,w));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return GE(r,s,w,h,A,f,l);if(g){g=h.fallback,w=s.mode,f=r.child,A=f.sibling;var x={mode:"hidden",children:h.children};return(w&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=x,s.deletions=null):(h=pi(f,x),h.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=pi(A,g):(g=us(g,w,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?od(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,s.memoizedState=sd,h}return g=r.child,r=g.sibling,h=pi(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function ad(r,s){return s=Uu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Cu(r,s,l,h){return h!==null&&Lh(h),oo(s,r.child,null,l),r=ad(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function GE(r,s,l,h,f,g,w){if(l)return s.flags&256?(s.flags&=-257,h=td(Error(n(422))),Cu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Uu({mode:"visible",children:h.children},f,0,null),g=us(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&oo(s,r.child,null,w),s.child.memoizedState=od(w),s.memoizedState=sd,g);if((s.mode&1)===0)return Cu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var A=h.dgst;return h=A,g=Error(n(419)),h=td(g,h,void 0),Cu(r,s,w,h)}if(A=(w&r.childLanes)!==0,rn||A){if(h=St,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|w))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Rr(r,f),$n(h,r,f,-1))}return Id(),h=td(Error(n(421))),Cu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=aT.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,gn=ri(f.nextSibling),mn=s,Xe=!0,Un=null,r!==null&&(In[Sn++]=Ar,In[Sn++]=Cr,In[Sn++]=es,Ar=r.id,Cr=r.overflow,es=s),s=ad(s,h.children),s.flags|=4096,s)}function gg(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Fh(r.return,s,l)}function ld(r,s,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function yg(r,s,l){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Yt(r,s,h.children,l),h=et.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&gg(r,l,s);else if(r.tag===19)gg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(qe(et,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&_u(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),ld(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&_u(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}ld(s,!0,l,null,g);break;case"together":ld(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ru(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Pr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ss|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=pi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=pi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function QE(r,s,l){switch(s.tag){case 3:fg(s),so();break;case 5:Nm(s);break;case 1:nn(s.type)&&uu(s);break;case 4:Bh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;qe(mu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(qe(et,et.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?mg(r,s,l):(qe(et,et.current&1),r=Pr(r,s,l),r!==null?r.sibling:null);qe(et,et.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return yg(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),qe(et,et.current),h)break;return null;case 22:case 23:return s.lanes=0,cg(r,s,l)}return Pr(r,s,l)}var vg,ud,_g,wg;vg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ud=function(){},_g=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,rs(er.current);var g=null;switch(l){case"input":f=Vi(r,f),h=Vi(r,h),g=[];break;case"select":f=se({},f,{value:void 0}),h=se({},h,{value:void 0}),g=[];break;case"textarea":f=Jo(r,f),h=Jo(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=ou)}ia(l,h);var w;l=null;for($ in f)if(!h.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var A=f[$];for(w in A)A.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in h){var x=h[$];if(A=f!=null?f[$]:void 0,h.hasOwnProperty($)&&x!==A&&(x!=null||A!=null))if($==="style")if(A){for(w in A)!A.hasOwnProperty(w)||x&&x.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in x)x.hasOwnProperty(w)&&A[w]!==x[w]&&(l||(l={}),l[w]=x[w])}else l||(g||(g=[]),g.push($,l)),l=x;else $==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,A=A?A.__html:void 0,x!=null&&A!==x&&(g=g||[]).push($,x)):$==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push($,""+x):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(x!=null&&$==="onScroll"&&Ke("scroll",r),g||A===x||(g=[])):(g=g||[]).push($,x))}l&&(g=g||[]).push("style",l);var $=g;(s.updateQueue=$)&&(s.flags|=4)}},wg=function(r,s,l,h){l!==h&&(s.flags|=4)};function Fa(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function YE(r,s,l){var h=s.pendingProps;switch(Nh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return nn(s.type)&&lu(),jt(s),null;case 3:return h=s.stateNode,uo(),Ge(tn),Ge(Ft),Hh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(fu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Un!==null&&(wd(Un),Un=null))),ud(r,s),jt(s),null;case 5:zh(s);var f=rs(Oa.current);if(l=s.type,r!==null&&s.stateNode!=null)_g(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return jt(s),null}if(r=rs(er.current),fu(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[Zn]=s,h[ka]=g,r=(s.mode&1)!==0,l){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(f=0;f<Aa.length;f++)Ke(Aa[f],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":Ss(h,g),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ke("invalid",h);break;case"textarea":Cs(h,g),Ke("invalid",h)}ia(l,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var A=g[w];w==="children"?typeof A=="string"?h.textContent!==A&&(g.suppressHydrationWarning!==!0&&su(h.textContent,A,r),f=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&su(h.textContent,A,r),f=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&Ke("scroll",h)}switch(l){case"input":fr(h),Nl(h,g,!0);break;case"textarea":fr(h),Zo(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=ou)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[Zn]=s,r[ka]=h,vg(r,s,!1,!1),s.stateNode=r;e:{switch(w=sa(l,h),l){case"dialog":Ke("cancel",r),Ke("close",r),f=h;break;case"iframe":case"object":case"embed":Ke("load",r),f=h;break;case"video":case"audio":for(f=0;f<Aa.length;f++)Ke(Aa[f],r);f=h;break;case"source":Ke("error",r),f=h;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),f=h;break;case"details":Ke("toggle",r),f=h;break;case"input":Ss(r,h),f=Vi(r,h),Ke("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=se({},h,{value:void 0}),Ke("invalid",r);break;case"textarea":Cs(r,h),f=Jo(r,h),Ke("invalid",r);break;default:f=h}ia(l,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var x=A[g];g==="style"?na(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&ea(r,x)):g==="children"?typeof x=="string"?(l!=="textarea"||x!=="")&&qr(r,x):typeof x=="number"&&qr(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&Ke("scroll",r):x!=null&&ee(r,g,x,w))}switch(l){case"input":fr(r),Nl(r,h,!1);break;case"textarea":fr(r),Zo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?mr(r,!!h.multiple,g,!1):h.defaultValue!=null&&mr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=ou)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return jt(s),null;case 6:if(r&&s.stateNode!=null)wg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=rs(Oa.current),rs(er.current),fu(s)){if(h=s.stateNode,l=s.memoizedProps,h[Zn]=s,(g=h.nodeValue!==l)&&(r=mn,r!==null))switch(r.tag){case 3:su(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&su(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Zn]=s,s.stateNode=h}return jt(s),null;case 13:if(Ge(et),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Xe&&gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Im(),so(),s.flags|=98560,g=!1;else if(g=fu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Zn]=s}else so(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),g=!1}else Un!==null&&(wd(Un),Un=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(et.current&1)!==0?vt===0&&(vt=3):Id())),s.updateQueue!==null&&(s.flags|=4),jt(s),null);case 4:return uo(),ud(r,s),r===null&&Ca(s.stateNode.containerInfo),jt(s),null;case 10:return Mh(s.type._context),jt(s),null;case 17:return nn(s.type)&&lu(),jt(s),null;case 19:if(Ge(et),g=s.memoizedState,g===null)return jt(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Fa(g,!1);else{if(vt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=_u(r),w!==null){for(s.flags|=128,Fa(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return qe(et,et.current&1|2),s.child}r=r.sibling}g.tail!==null&&We()>po&&(s.flags|=128,h=!0,Fa(g,!1),s.lanes=4194304)}else{if(!h)if(r=_u(w),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Fa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Xe)return jt(s),null}else 2*We()-g.renderingStartTime>po&&l!==1073741824&&(s.flags|=128,h=!0,Fa(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(l=g.last,l!==null?l.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=We(),s.sibling=null,l=et.current,qe(et,h?l&1|2:l&1),s):(jt(s),null);case 22:case 23:return Td(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(yn&1073741824)!==0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function XE(r,s){switch(Nh(s),s.tag){case 1:return nn(s.type)&&lu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return uo(),Ge(tn),Ge(Ft),Hh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return zh(s),null;case 13:if(Ge(et),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));so()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ge(et),null;case 4:return uo(),null;case 10:return Mh(s.type._context),null;case 22:case 23:return Td(),null;case 24:return null;default:return null}}var ku=!1,Bt=!1,JE=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ho(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){rt(r,s,h)}else l.current=null}function cd(r,s,l){try{l()}catch(h){rt(r,s,h)}}var Eg=!1;function ZE(r,s){if(Th=ei,r=Zp(),ph(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,A=-1,x=-1,$=0,Y=0,Z=r,G=null;t:for(;;){for(var ie;Z!==l||f!==0&&Z.nodeType!==3||(A=w+f),Z!==g||h!==0&&Z.nodeType!==3||(x=w+h),Z.nodeType===3&&(w+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)G=Z,Z=ie;for(;;){if(Z===r)break t;if(G===l&&++$===f&&(A=w),G===g&&++Y===h&&(x=w),(ie=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=ie}l=A===-1||x===-1?null:{start:A,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ih={focusedElem:r,selectionRange:l},ei=!1,oe=s;oe!==null;)if(s=oe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,oe=r;else for(;oe!==null;){s=oe;try{var ae=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ue=ae.memoizedProps,at=ae.memoizedState,U=s.stateNode,O=U.getSnapshotBeforeUpdate(s.elementType===s.type?ue:jn(s.type,ue),at);U.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){rt(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,oe=r;break}oe=s.return}return ae=Eg,Eg=!1,ae}function Ua(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&cd(s,l,g)}f=f.next}while(f!==h)}}function Pu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function hd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Tg(r){var s=r.alternate;s!==null&&(r.alternate=null,Tg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Zn],delete s[ka],delete s[Rh],delete s[bE],delete s[VE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ig(r){return r.tag===5||r.tag===3||r.tag===4}function Sg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ig(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ou));else if(h!==4&&(r=r.child,r!==null))for(dd(r,s,l),r=r.sibling;r!==null;)dd(r,s,l),r=r.sibling}function fd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(fd(r,s,l),r=r.sibling;r!==null;)fd(r,s,l),r=r.sibling}var Pt=null,Bn=!1;function ui(r,s,l){for(l=l.child;l!==null;)Ag(r,s,l),l=l.sibling}function Ag(r,s,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Wi,l)}catch{}switch(l.tag){case 5:Bt||ho(l,s);case 6:var h=Pt,f=Bn;Pt=null,ui(r,s,l),Pt=h,Bn=f,Pt!==null&&(Bn?(r=Pt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Pt.removeChild(l.stateNode));break;case 18:Pt!==null&&(Bn?(r=Pt,l=l.stateNode,r.nodeType===8?Ch(r.parentNode,l):r.nodeType===1&&Ch(r,l),Vn(r)):Ch(Pt,l.stateNode));break;case 4:h=Pt,f=Bn,Pt=l.stateNode.containerInfo,Bn=!0,ui(r,s,l),Pt=h,Bn=f;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&cd(l,s,w),f=f.next}while(f!==h)}ui(r,s,l);break;case 1:if(!Bt&&(ho(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){rt(l,s,A)}ui(r,s,l);break;case 21:ui(r,s,l);break;case 22:l.mode&1?(Bt=(h=Bt)||l.memoizedState!==null,ui(r,s,l),Bt=h):ui(r,s,l);break;default:ui(r,s,l)}}function Cg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new JE),s.forEach(function(h){var f=lT.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function zn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 5:Pt=A.stateNode,Bn=!1;break e;case 3:Pt=A.stateNode.containerInfo,Bn=!0;break e;case 4:Pt=A.stateNode.containerInfo,Bn=!0;break e}A=A.return}if(Pt===null)throw Error(n(160));Ag(g,w,f),Pt=null,Bn=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch($){rt(f,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Rg(s,r),s=s.sibling}function Rg(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zn(s,r),nr(r),h&4){try{Ua(3,r,r.return),Pu(3,r)}catch(ue){rt(r,r.return,ue)}try{Ua(5,r,r.return)}catch(ue){rt(r,r.return,ue)}}break;case 1:zn(s,r),nr(r),h&512&&l!==null&&ho(l,l.return);break;case 5:if(zn(s,r),nr(r),h&512&&l!==null&&ho(l,l.return),r.flags&32){var f=r.stateNode;try{qr(f,"")}catch(ue){rt(r,r.return,ue)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,A=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Yo(f,g),sa(A,w);var $=sa(A,g);for(w=0;w<x.length;w+=2){var Y=x[w],Z=x[w+1];Y==="style"?na(f,Z):Y==="dangerouslySetInnerHTML"?ea(f,Z):Y==="children"?qr(f,Z):ee(f,Y,Z,$)}switch(A){case"input":Xo(f,g);break;case"textarea":Rs(f,g);break;case"select":var G=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ie=g.value;ie!=null?mr(f,!!g.multiple,ie,!1):G!==!!g.multiple&&(g.defaultValue!=null?mr(f,!!g.multiple,g.defaultValue,!0):mr(f,!!g.multiple,g.multiple?[]:"",!1))}f[ka]=g}catch(ue){rt(r,r.return,ue)}}break;case 6:if(zn(s,r),nr(r),h&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ue){rt(r,r.return,ue)}}break;case 3:if(zn(s,r),nr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Vn(s.containerInfo)}catch(ue){rt(r,r.return,ue)}break;case 4:zn(s,r),nr(r);break;case 13:zn(s,r),nr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(gd=We())),h&4&&Cg(r);break;case 22:if(Y=l!==null&&l.memoizedState!==null,r.mode&1?(Bt=($=Bt)||Y,zn(s,r),Bt=$):zn(s,r),nr(r),h&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!Y&&(r.mode&1)!==0)for(oe=r,Y=r.child;Y!==null;){for(Z=oe=Y;oe!==null;){switch(G=oe,ie=G.child,G.tag){case 0:case 11:case 14:case 15:Ua(4,G,G.return);break;case 1:ho(G,G.return);var ae=G.stateNode;if(typeof ae.componentWillUnmount=="function"){h=G,l=G.return;try{s=h,ae.props=s.memoizedProps,ae.state=s.memoizedState,ae.componentWillUnmount()}catch(ue){rt(h,l,ue)}}break;case 5:ho(G,G.return);break;case 22:if(G.memoizedState!==null){xg(Z);continue}}ie!==null?(ie.return=G,oe=ie):xg(Z)}Y=Y.sibling}e:for(Y=null,Z=r;;){if(Z.tag===5){if(Y===null){Y=Z;try{f=Z.stateNode,$?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=Z.stateNode,x=Z.memoizedProps.style,w=x!=null&&x.hasOwnProperty("display")?x.display:null,A.style.display=ta("display",w))}catch(ue){rt(r,r.return,ue)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(ue){rt(r,r.return,ue)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:zn(s,r),nr(r),h&4&&Cg(r);break;case 21:break;default:zn(s,r),nr(r)}}function nr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Ig(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(qr(f,""),h.flags&=-33);var g=Sg(r);fd(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,A=Sg(r);dd(r,A,w);break;default:throw Error(n(161))}}catch(x){rt(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function eT(r,s,l){oe=r,kg(r)}function kg(r,s,l){for(var h=(r.mode&1)!==0;oe!==null;){var f=oe,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||ku;if(!w){var A=f.alternate,x=A!==null&&A.memoizedState!==null||Bt;A=ku;var $=Bt;if(ku=w,(Bt=x)&&!$)for(oe=f;oe!==null;)w=oe,x=w.child,w.tag===22&&w.memoizedState!==null?Ng(f):x!==null?(x.return=w,oe=x):Ng(f);for(;g!==null;)oe=g,kg(g),g=g.sibling;oe=f,ku=A,Bt=$}Pg(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,oe=g):Pg(r)}}function Pg(r){for(;oe!==null;){var s=oe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Bt||Pu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Bt)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:jn(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&xm(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}xm(s,w,l)}break;case 5:var A=s.stateNode;if(l===null&&s.flags&4){l=A;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&l.focus();break;case"img":x.src&&(l.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Y=$.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&Vn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bt||s.flags&512&&hd(s)}catch(G){rt(s,s.return,G)}}if(s===r){oe=null;break}if(l=s.sibling,l!==null){l.return=s.return,oe=l;break}oe=s.return}}function xg(r){for(;oe!==null;){var s=oe;if(s===r){oe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,oe=l;break}oe=s.return}}function Ng(r){for(;oe!==null;){var s=oe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Pu(4,s)}catch(x){rt(s,l,x)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(x){rt(s,f,x)}}var g=s.return;try{hd(s)}catch(x){rt(s,g,x)}break;case 5:var w=s.return;try{hd(s)}catch(x){rt(s,w,x)}}}catch(x){rt(s,s.return,x)}if(s===r){oe=null;break}var A=s.sibling;if(A!==null){A.return=s.return,oe=A;break}oe=s.return}}var tT=Math.ceil,xu=le.ReactCurrentDispatcher,pd=le.ReactCurrentOwner,Rn=le.ReactCurrentBatchConfig,be=0,St=null,ct=null,xt=0,yn=0,fo=ii(0),vt=0,ja=null,ss=0,Nu=0,md=0,Ba=null,sn=null,gd=0,po=1/0,xr=null,Du=!1,yd=null,ci=null,Ou=!1,hi=null,Lu=0,za=0,vd=null,bu=-1,Vu=0;function Xt(){return(be&6)!==0?We():bu!==-1?bu:bu=We()}function di(r){return(r.mode&1)===0?1:(be&2)!==0&&xt!==0?xt&-xt:FE.transition!==null?(Vu===0&&(Vu=Ki()),Vu):(r=xe,r!==0||(r=window.event,r=r===void 0?16:ga(r.type)),r)}function $n(r,s,l,h){if(50<za)throw za=0,vd=null,Error(n(185));Yr(r,l,h),((be&2)===0||r!==St)&&(r===St&&((be&2)===0&&(Nu|=l),vt===4&&fi(r,xt)),on(r,h),l===1&&be===0&&(s.mode&1)===0&&(po=We()+500,cu&&oi()))}function on(r,s){var l=r.callbackNode;vr(r,s);var h=qi(r,r===St?xt:0);if(h===0)l!==null&&ha(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&ha(l),s===1)r.tag===0?ME(Og.bind(null,r)):vm(Og.bind(null,r)),OE(function(){(be&6)===0&&oi()}),l=null;else{switch(Jr(h)){case 1:l=Hi;break;case 4:l=Kr;break;case 16:l=wn;break;case 536870912:l=Vl;break;default:l=wn}l=Bg(l,Dg.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Dg(r,s){if(bu=-1,Vu=0,(be&6)!==0)throw Error(n(327));var l=r.callbackNode;if(mo()&&r.callbackNode!==l)return null;var h=qi(r,r===St?xt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Mu(r,h);else{s=h;var f=be;be|=2;var g=bg();(St!==r||xt!==s)&&(xr=null,po=We()+500,as(r,s));do try{iT();break}catch(A){Lg(r,A)}while(!0);Vh(),xu.current=g,be=f,ct!==null?s=0:(St=null,xt=0,s=vt)}if(s!==0){if(s===2&&(f=dn(r),f!==0&&(h=f,s=_d(r,f))),s===1)throw l=ja,as(r,0),fi(r,h),on(r,We()),l;if(s===6)fi(r,h);else{if(f=r.current.alternate,(h&30)===0&&!nT(f)&&(s=Mu(r,h),s===2&&(g=dn(r),g!==0&&(h=g,s=_d(r,g))),s===1))throw l=ja,as(r,0),fi(r,h),on(r,We()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:ls(r,sn,xr);break;case 3:if(fi(r,h),(h&130023424)===h&&(s=gd+500-We(),10<s)){if(qi(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Xt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Ah(ls.bind(null,r,sn,xr),s);break}ls(r,sn,xr);break;case 4:if(fi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-Gt(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*tT(h/1960))-h,10<h){r.timeoutHandle=Ah(ls.bind(null,r,sn,xr),h);break}ls(r,sn,xr);break;case 5:ls(r,sn,xr);break;default:throw Error(n(329))}}}return on(r,We()),r.callbackNode===l?Dg.bind(null,r):null}function _d(r,s){var l=Ba;return r.current.memoizedState.isDehydrated&&(as(r,s).flags|=256),r=Mu(r,s),r!==2&&(s=sn,sn=l,s!==null&&wd(s)),r}function wd(r){sn===null?sn=r:sn.push.apply(sn,r)}function nT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!Fn(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fi(r,s){for(s&=~md,s&=~Nu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Gt(s),h=1<<l;r[l]=-1,s&=~h}}function Og(r){if((be&6)!==0)throw Error(n(327));mo();var s=qi(r,0);if((s&1)===0)return on(r,We()),null;var l=Mu(r,s);if(r.tag!==0&&l===2){var h=dn(r);h!==0&&(s=h,l=_d(r,h))}if(l===1)throw l=ja,as(r,0),fi(r,s),on(r,We()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ls(r,sn,xr),on(r,We()),null}function Ed(r,s){var l=be;be|=1;try{return r(s)}finally{be=l,be===0&&(po=We()+500,cu&&oi())}}function os(r){hi!==null&&hi.tag===0&&(be&6)===0&&mo();var s=be;be|=1;var l=Rn.transition,h=xe;try{if(Rn.transition=null,xe=1,r)return r()}finally{xe=h,Rn.transition=l,be=s,(be&6)===0&&oi()}}function Td(){yn=fo.current,Ge(fo)}function as(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,DE(l)),ct!==null)for(l=ct.return;l!==null;){var h=l;switch(Nh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&lu();break;case 3:uo(),Ge(tn),Ge(Ft),Hh();break;case 5:zh(h);break;case 4:uo();break;case 13:Ge(et);break;case 19:Ge(et);break;case 10:Mh(h.type._context);break;case 22:case 23:Td()}l=l.return}if(St=r,ct=r=pi(r.current,null),xt=yn=s,vt=0,ja=null,md=Nu=ss=0,sn=Ba=null,ns!==null){for(s=0;s<ns.length;s++)if(l=ns[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}l.pending=h}ns=null}return r}function Lg(r,s){do{var l=ct;try{if(Vh(),wu.current=Su,Eu){for(var h=tt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Eu=!1}if(is=0,It=yt=tt=null,La=!1,ba=0,pd.current=null,l===null||l.return===null){vt=1,ja=s,ct=null;break}e:{var g=r,w=l.return,A=l,x=s;if(s=xt,A.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=x,Y=A,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=sg(w);if(ie!==null){ie.flags&=-257,og(ie,w,A,g,s),ie.mode&1&&ig(g,$,s),s=ie,x=$;var ae=s.updateQueue;if(ae===null){var ue=new Set;ue.add(x),s.updateQueue=ue}else ae.add(x);break e}else{if((s&1)===0){ig(g,$,s),Id();break e}x=Error(n(426))}}else if(Xe&&A.mode&1){var at=sg(w);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),og(at,w,A,g,s),Lh(co(x,A));break e}}g=x=co(x,A),vt!==4&&(vt=2),Ba===null?Ba=[g]:Ba.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var U=ng(g,x,s);Pm(g,U);break e;case 1:A=x;var O=g.type,B=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ci===null||!ci.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=rg(g,A,s);Pm(g,te);break e}}g=g.return}while(g!==null)}Mg(l)}catch(he){s=he,ct===l&&l!==null&&(ct=l=l.return);continue}break}while(!0)}function bg(){var r=xu.current;return xu.current=Su,r===null?Su:r}function Id(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||(ss&268435455)===0&&(Nu&268435455)===0||fi(St,xt)}function Mu(r,s){var l=be;be|=2;var h=bg();(St!==r||xt!==s)&&(xr=null,as(r,s));do try{rT();break}catch(f){Lg(r,f)}while(!0);if(Vh(),be=l,xu.current=h,ct!==null)throw Error(n(261));return St=null,xt=0,vt}function rT(){for(;ct!==null;)Vg(ct)}function iT(){for(;ct!==null&&!Ll();)Vg(ct)}function Vg(r){var s=jg(r.alternate,r,yn);r.memoizedProps=r.pendingProps,s===null?Mg(r):ct=s,pd.current=null}function Mg(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=YE(l,s,yn),l!==null){ct=l;return}}else{if(l=XE(l,s),l!==null){l.flags&=32767,ct=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{vt=6,ct=null;return}}if(s=s.sibling,s!==null){ct=s;return}ct=s=r}while(s!==null);vt===0&&(vt=5)}function ls(r,s,l){var h=xe,f=Rn.transition;try{Rn.transition=null,xe=1,sT(r,s,l,h)}finally{Rn.transition=f,xe=h}return null}function sT(r,s,l,h){do mo();while(hi!==null);if((be&6)!==0)throw Error(n(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if($e(r,g),r===St&&(ct=St=null,xt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ou||(Ou=!0,Bg(wn,function(){return mo(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Rn.transition,Rn.transition=null;var w=xe;xe=1;var A=be;be|=4,pd.current=null,ZE(r,l),Rg(l,r),AE(Ih),ei=!!Th,Ih=Th=null,r.current=l,eT(l),oh(),be=A,xe=w,Rn.transition=g}else r.current=l;if(Ou&&(Ou=!1,hi=r,Lu=f),g=r.pendingLanes,g===0&&(ci=null),Ml(l.stateNode),on(r,We()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(Du)throw Du=!1,r=yd,yd=null,r;return(Lu&1)!==0&&r.tag!==0&&mo(),g=r.pendingLanes,(g&1)!==0?r===vd?za++:(za=0,vd=r):za=0,oi(),null}function mo(){if(hi!==null){var r=Jr(Lu),s=Rn.transition,l=xe;try{if(Rn.transition=null,xe=16>r?16:r,hi===null)var h=!1;else{if(r=hi,hi=null,Lu=0,(be&6)!==0)throw Error(n(331));var f=be;for(be|=4,oe=r.current;oe!==null;){var g=oe,w=g.child;if((oe.flags&16)!==0){var A=g.deletions;if(A!==null){for(var x=0;x<A.length;x++){var $=A[x];for(oe=$;oe!==null;){var Y=oe;switch(Y.tag){case 0:case 11:case 15:Ua(8,Y,g)}var Z=Y.child;if(Z!==null)Z.return=Y,oe=Z;else for(;oe!==null;){Y=oe;var G=Y.sibling,ie=Y.return;if(Tg(Y),Y===$){oe=null;break}if(G!==null){G.return=ie,oe=G;break}oe=ie}}}var ae=g.alternate;if(ae!==null){var ue=ae.child;if(ue!==null){ae.child=null;do{var at=ue.sibling;ue.sibling=null,ue=at}while(ue!==null)}}oe=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,oe=w;else e:for(;oe!==null;){if(g=oe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ua(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,oe=U;break e}oe=g.return}}var O=r.current;for(oe=O;oe!==null;){w=oe;var B=w.child;if((w.subtreeFlags&2064)!==0&&B!==null)B.return=w,oe=B;else e:for(w=O;oe!==null;){if(A=oe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Pu(9,A)}}catch(he){rt(A,A.return,he)}if(A===w){oe=null;break e}var te=A.sibling;if(te!==null){te.return=A.return,oe=te;break e}oe=A.return}}if(be=f,oi(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Wi,r)}catch{}h=!0}return h}finally{xe=l,Rn.transition=s}}return!1}function Fg(r,s,l){s=co(l,s),s=ng(r,s,1),r=li(r,s,1),s=Xt(),r!==null&&(Yr(r,1,s),on(r,s))}function rt(r,s,l){if(r.tag===3)Fg(r,r,l);else for(;s!==null;){if(s.tag===3){Fg(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ci===null||!ci.has(h))){r=co(l,r),r=rg(s,r,1),s=li(s,r,1),r=Xt(),s!==null&&(Yr(s,1,r),on(s,r));break}}s=s.return}}function oT(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&l,St===r&&(xt&l)===l&&(vt===4||vt===3&&(xt&130023424)===xt&&500>We()-gd?as(r,0):md|=l),on(r,s)}function Ug(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ms,Ms<<=1,(Ms&130023424)===0&&(Ms=4194304)));var l=Xt();r=Rr(r,s),r!==null&&(Yr(r,s,l),on(r,l))}function aT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Ug(r,l)}function lT(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),Ug(r,l)}var jg;jg=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return rn=!1,QE(r,s,l);rn=(r.flags&131072)!==0}else rn=!1,Xe&&(s.flags&1048576)!==0&&_m(s,du,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Ru(r,s),r=s.pendingProps;var f=no(s,Ft.current);lo(s,l),f=Kh(null,s,h,r,f,l);var g=Gh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(g=!0,uu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,jh(s),f.updater=Au,s.stateNode=f,f._reactInternals=s,ed(s,h,r,l),s=id(null,s,h,!0,g,l)):(s.tag=0,Xe&&g&&xh(s),Yt(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Ru(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=cT(h),r=jn(h,r),f){case 0:s=rd(null,s,h,r,l);break e;case 1:s=dg(null,s,h,r,l);break e;case 11:s=ag(null,s,h,r,l);break e;case 14:s=lg(null,s,h,jn(h.type,r),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:jn(h,f),rd(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:jn(h,f),dg(r,s,h,f,l);case 3:e:{if(fg(s),r===null)throw Error(n(387));h=s.pendingProps,g=s.memoizedState,f=g.element,km(r,s),vu(s,h,null,l);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=co(Error(n(423)),s),s=pg(r,s,h,l,f);break e}else if(h!==f){f=co(Error(n(424)),s),s=pg(r,s,h,l,f);break e}else for(gn=ri(s.stateNode.containerInfo.firstChild),mn=s,Xe=!0,Un=null,l=Cm(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(so(),h===f){s=Pr(r,s,l);break e}Yt(r,s,h,l)}s=s.child}return s;case 5:return Nm(s),r===null&&Oh(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,Sh(h,f)?w=null:g!==null&&Sh(h,g)&&(s.flags|=32),hg(r,s),Yt(r,s,w,l),s.child;case 6:return r===null&&Oh(s),null;case 13:return mg(r,s,l);case 4:return Bh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=oo(s,null,h,l):Yt(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:jn(h,f),ag(r,s,h,f,l);case 7:return Yt(r,s,s.pendingProps,l),s.child;case 8:return Yt(r,s,s.pendingProps.children,l),s.child;case 12:return Yt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,qe(mu,h._currentValue),h._currentValue=w,g!==null)if(Fn(g.value,w)){if(g.children===f.children&&!tn.current){s=Pr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){w=g.child;for(var x=A.firstContext;x!==null;){if(x.context===h){if(g.tag===1){x=kr(-1,l&-l),x.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var Y=$.pending;Y===null?x.next=x:(x.next=Y.next,Y.next=x),$.pending=x}}g.lanes|=l,x=g.alternate,x!==null&&(x.lanes|=l),Fh(g.return,l,s),A.lanes|=l;break}x=x.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(n(341));w.lanes|=l,A=w.alternate,A!==null&&(A.lanes|=l),Fh(w,l,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Yt(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,lo(s,l),f=An(f),h=h(f),s.flags|=1,Yt(r,s,h,l),s.child;case 14:return h=s.type,f=jn(h,s.pendingProps),f=jn(h.type,f),lg(r,s,h,f,l);case 15:return ug(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:jn(h,f),Ru(r,s),s.tag=1,nn(h)?(r=!0,uu(s)):r=!1,lo(s,l),eg(s,h,f),ed(s,h,f,l),id(null,s,h,!0,r,l);case 19:return yg(r,s,l);case 22:return cg(r,s,l)}throw Error(n(156,s.tag))};function Bg(r,s){return bs(r,s)}function uT(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,s,l,h){return new uT(r,s,l,h)}function Sd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function cT(r){if(typeof r=="function")return Sd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===Vt)return 14}return 2}function pi(r,s){var l=r.alternate;return l===null?(l=kn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Fu(r,s,l,h,f,g){var w=2;if(h=r,typeof r=="function")Sd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case D:return us(l.children,f,g,s);case S:w=8,f|=8;break;case C:return r=kn(12,l,s,f|2),r.elementType=C,r.lanes=g,r;case k:return r=kn(13,l,s,f),r.elementType=k,r.lanes=g,r;case st:return r=kn(19,l,s,f),r.elementType=st,r.lanes=g,r;case ze:return Uu(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:w=10;break e;case L:w=9;break e;case M:w=11;break e;case Vt:w=14;break e;case Mt:w=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=kn(w,l,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function us(r,s,l,h){return r=kn(7,r,h,s),r.lanes=l,r}function Uu(r,s,l,h){return r=kn(22,r,h,s),r.elementType=ze,r.lanes=l,r.stateNode={isHidden:!1},r}function Ad(r,s,l){return r=kn(6,r,null,s),r.lanes=l,r}function Cd(r,s,l){return s=kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function hT(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Rd(r,s,l,h,f,g,w,A,x){return r=new hT(r,s,l,A,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=kn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},jh(g),r}function dT(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function zg(r){if(!r)return si;r=r._reactInternals;e:{if(Nn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(nn(l))return gm(r,l,s)}return s}function $g(r,s,l,h,f,g,w,A,x){return r=Rd(l,h,!0,r,f,g,w,A,x),r.context=zg(null),l=r.current,h=Xt(),f=di(l),g=kr(h,f),g.callback=s??null,li(l,g,f),r.current.lanes=f,Yr(r,f,h),on(r,h),r}function ju(r,s,l,h){var f=s.current,g=Xt(),w=di(f);return l=zg(l),s.context===null?s.context=l:s.pendingContext=l,s=kr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=li(f,s,w),r!==null&&($n(r,f,w,g),yu(r,f,w)),w}function Bu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Hg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function kd(r,s){Hg(r,s),(r=r.alternate)&&Hg(r,s)}function fT(){return null}var Wg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Pd(r){this._internalRoot=r}zu.prototype.render=Pd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));ju(r,s,null,null)},zu.prototype.unmount=Pd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;os(function(){ju(null,r,null,null)}),s[Ir]=null}};function zu(r){this._internalRoot=r}zu.prototype.unstable_scheduleHydration=function(r){if(r){var s=zl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Qn.length&&s!==0&&s<Qn[l].priority;l++);Qn.splice(l,0,r),l===0&&Wl(r)}};function xd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function $u(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function qg(){}function pT(r,s,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var $=Bu(w);g.call($)}}var w=$g(s,h,r,0,null,!1,!1,"",qg);return r._reactRootContainer=w,r[Ir]=w.current,Ca(r.nodeType===8?r.parentNode:r),os(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var A=h;h=function(){var $=Bu(x);A.call($)}}var x=Rd(r,0,!1,null,null,!1,!1,"",qg);return r._reactRootContainer=x,r[Ir]=x.current,Ca(r.nodeType===8?r.parentNode:r),os(function(){ju(s,x,l,h)}),x}function Hu(r,s,l,h,f){var g=l._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var A=f;f=function(){var x=Bu(w);A.call(x)}}ju(s,w,r,f)}else w=pT(l,s,r,f,h);return Bu(w)}jl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Gr(s.pendingLanes);l!==0&&(Xr(s,l|1),on(s,We()),(be&6)===0&&(po=We()+500,oi()))}break;case 13:os(function(){var h=Rr(r,1);if(h!==null){var f=Xt();$n(h,r,1,f)}}),kd(r,1)}},Fs=function(r){if(r.tag===13){var s=Rr(r,134217728);if(s!==null){var l=Xt();$n(s,r,134217728,l)}kd(r,134217728)}},Bl=function(r){if(r.tag===13){var s=di(r),l=Rr(r,s);if(l!==null){var h=Xt();$n(l,r,s,h)}kd(r,s)}},zl=function(){return xe},$l=function(r,s){var l=xe;try{return xe=r,s()}finally{xe=l}},Ps=function(r,s,l){switch(s){case"input":if(Xo(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=au(h);if(!f)throw Error(n(90));Is(h),Xo(h,f)}}}break;case"textarea":Rs(r,l);break;case"select":s=l.value,s!=null&&mr(r,!!l.multiple,s,!1)}},ji=Ed,aa=os;var mT={usingClientEntryPoint:!1,Events:[Pa,eo,au,Kn,oa,Ed]},$a={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gT={bundleType:$a.bundleType,version:$a.version,rendererPackageName:$a.rendererPackageName,rendererConfig:$a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ca(r),r===null?null:r.stateNode},findFiberByHostInstance:$a.findFiberByHostInstance||fT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Wi=Wu.inject(gT),hn=Wu}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mT,an.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(s))throw Error(n(200));return dT(r,s,null,l)},an.createRoot=function(r,s){if(!xd(r))throw Error(n(299));var l=!1,h="",f=Wg;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Rd(r,1,!1,null,null,l,!1,h,f),r[Ir]=s.current,Ca(r.nodeType===8?r.parentNode:r),new Pd(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ca(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return os(r)},an.hydrate=function(r,s,l){if(!$u(s))throw Error(n(200));return Hu(null,r,s,!0,l)},an.hydrateRoot=function(r,s,l){if(!xd(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",w=Wg;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=$g(s,null,r,1,l??null,f,!1,g,w),r[Ir]=s.current,Ca(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new zu(s)},an.render=function(r,s,l){if(!$u(s))throw Error(n(200));return Hu(null,r,s,!1,l)},an.unmountComponentAtNode=function(r){if(!$u(r))throw Error(n(40));return r._reactRootContainer?(os(function(){Hu(null,null,r,!1,function(){r._reactRootContainer=null,r[Ir]=null})}),!0):!1},an.unstable_batchedUpdates=Ed,an.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!$u(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Hu(r,s,l,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var ey;function Fv(){if(ey)return Od.exports;ey=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Od.exports=IT(),Od.exports}var ty;function ST(){if(ty)return qu;ty=1;var t=Fv();return qu.createRoot=t.createRoot,qu.hydrateRoot=t.hydrateRoot,qu}var AT=ST();const CT=Vc(AT);var Vd={exports:{}},Md,ny;function RT(){if(ny)return Md;ny=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Md=t,Md}var Fd,ry;function kT(){if(ry)return Fd;ry=1;var t=RT();function e(){}function n(){}return n.resetWarningCache=e,Fd=function(){function i(c,d,p,y,_,E){if(E!==t){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Fd}var iy;function PT(){return iy||(iy=1,Vd.exports=kT()()),Vd.exports}var xT=PT();const Qe=Vc(xT);var Wa={},sy;function NT(){if(sy)return Wa;sy=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.parse=c,Wa.serialize=y;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,R){const P=new a,j=I.length;if(j<2)return P;const b=(R==null?void 0:R.decode)||_;let W=0;do{const q=I.indexOf("=",W);if(q===-1)break;const ee=I.indexOf(";",W),le=ee===-1?j:ee;if(q>le){W=I.lastIndexOf(";",q-1)+1;continue}const _e=d(I,W,q),we=p(I,q,_e),D=I.slice(_e,we);if(P[D]===void 0){let S=d(I,q+1,le),C=p(I,le,S);const N=b(I.slice(S,C));P[D]=N}W=le+1}while(W<j);return P}function d(I,R,P){do{const j=I.charCodeAt(R);if(j!==32&&j!==9)return R}while(++R<P);return P}function p(I,R,P){for(;R>P;){const j=I.charCodeAt(--R);if(j!==32&&j!==9)return R+1}return P}function y(I,R,P){const j=(P==null?void 0:P.encode)||encodeURIComponent;if(!t.test(I))throw new TypeError(`argument name is invalid: ${I}`);const b=j(R);if(!e.test(b))throw new TypeError(`argument val is invalid: ${R}`);let W=I+"="+b;if(!P)return W;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);W+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);W+="; Domain="+P.domain}if(P.path){if(!i.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);W+="; Path="+P.path}if(P.expires){if(!E(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);W+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(W+="; HttpOnly"),P.secure&&(W+="; Secure"),P.partitioned&&(W+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return W}function _(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function E(I){return o.call(I)==="[object Date]"}return Wa}NT();var oy="popstate";function DT(t={}){function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return tf("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:il(o)}return LT(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OT(){return Math.random().toString(36).substring(2,10)}function ay(t,e){return{usr:t.state,key:t.key,idx:e}}function tf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:n,key:e&&e.key||i||OT()}}function il({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function LT(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d="POP",p=null,y=_();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function _(){return(c.state||{idx:null}).idx}function E(){d="POP";let b=_(),W=b==null?null:b-y;y=b,p&&p({action:d,location:j.location,delta:W})}function I(b,W){d="PUSH";let q=tf(j.location,b,W);y=_()+1;let ee=ay(q,y),le=j.createHref(q);try{c.pushState(ee,"",le)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(le)}a&&p&&p({action:d,location:j.location,delta:1})}function R(b,W){d="REPLACE";let q=tf(j.location,b,W);y=_();let ee=ay(q,y),le=j.createHref(q);c.replaceState(ee,"",le),a&&p&&p({action:d,location:j.location,delta:0})}function P(b){let W=o.location.origin!=="null"?o.location.origin:o.location.href,q=typeof b=="string"?b:il(b);return q=q.replace(/ $/,"%20"),Ze(W,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,W)}let j={get action(){return d},get location(){return t(o,c)},listen(b){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(oy,E),p=b,()=>{o.removeEventListener(oy,E),p=null}},createHref(b){return e(o,b)},createURL:P,encodeLocation(b){let W=P(b);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:I,replace:R,go(b){return c.go(b)}};return j}function Uv(t,e,n="/"){return bT(t,e,n,!1)}function bT(t,e,n,i){let o=typeof e=="string"?jo(e):e,a=Vr(o.pathname||"/",n);if(a==null)return null;let c=jv(t);VT(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=KT(a);d=WT(c[p],y,i)}return d}function jv(t,e=[],n=[],i=""){let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(Ze(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=br([i,p.relativePath]),_=n.concat(p);a.children&&a.children.length>0&&(Ze(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),jv(a.children,e,_,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:$T(y,a.index),routesMeta:_})};return t.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of Bv(a.path))o(a,c,p)}),e}function Bv(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=Bv(i.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function VT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var MT=/^:[\w-]+$/,FT=3,UT=2,jT=1,BT=10,zT=-2,ly=t=>t==="*";function $T(t,e){let n=t.split("/"),i=n.length;return n.some(ly)&&(i+=zT),e&&(i+=UT),n.filter(o=>!ly(o)).reduce((o,a)=>o+(MT.test(a)?FT:a===""?jT:BT),i)}function HT(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function WT(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=hc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),I=p.route;if(!E&&y&&n&&!i[i.length-1].route.index&&(E=hc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:br([a,E.pathname]),pathnameBase:XT(br([a,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(a=br([a,E.pathnameBase]))}return c}function hc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=qT(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:E},I)=>{if(_==="*"){let P=d[I]||"";c=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const R=d[I];return E&&!R?y[_]=void 0:y[_]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:t}}function qT(t,e=!1,n=!0){Hn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function KT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function GT(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?jo(t):t;return{pathname:n?n.startsWith("/")?n:QT(n,e):e,search:JT(i),hash:ZT(o)}}function QT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ud(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bf(t){let e=YT(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Vf(t,e,n,i=!1){let o;typeof t=="string"?o=jo(t):(o={...t},Ze(!o.pathname||!o.pathname.includes("?"),Ud("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Ud("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Ud("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=n;else{let E=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}d=E>=0?e[E]:"/"}let p=GT(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var br=t=>t.join("/").replace(/\/\/+/g,"/"),XT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var zv=["POST","PUT","PATCH","DELETE"];new Set(zv);var tI=["GET",...zv];new Set(tI);var Bo=z.createContext(null);Bo.displayName="DataRouter";var Mc=z.createContext(null);Mc.displayName="DataRouterState";var $v=z.createContext({isTransitioning:!1});$v.displayName="ViewTransition";var nI=z.createContext(new Map);nI.displayName="Fetchers";var rI=z.createContext(null);rI.displayName="Await";var Wn=z.createContext(null);Wn.displayName="Navigation";var yl=z.createContext(null);yl.displayName="Location";var dr=z.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var Mf=z.createContext(null);Mf.displayName="RouteError";function iI(t,{relative:e}={}){Ze(zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=z.useContext(Wn),{hash:o,pathname:a,search:c}=vl(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:br([n,a])),i.createHref({pathname:d,search:c,hash:o})}function zo(){return z.useContext(yl)!=null}function $r(){return Ze(zo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(yl).location}var Hv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wv(t){z.useContext(Wn).static||z.useLayoutEffect(t)}function Ff(){let{isDataRoute:t}=z.useContext(dr);return t?yI():sI()}function sI(){Ze(zo(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(Bo),{basename:e,navigator:n}=z.useContext(Wn),{matches:i}=z.useContext(dr),{pathname:o}=$r(),a=JSON.stringify(bf(i)),c=z.useRef(!1);return Wv(()=>{c.current=!0}),z.useCallback((p,y={})=>{if(Hn(c.current,Hv),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=Vf(p,JSON.parse(a),o,y.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:br([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,a,o,t])}z.createContext(null);function vl(t,{relative:e}={}){let{matches:n}=z.useContext(dr),{pathname:i}=$r(),o=JSON.stringify(bf(n));return z.useMemo(()=>Vf(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function oI(t,e){return qv(t,e)}function qv(t,e,n,i){var q;Ze(zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=z.useContext(Wn),{matches:c}=z.useContext(dr),d=c[c.length-1],p=d?d.params:{},y=d?d.pathname:"/",_=d?d.pathnameBase:"/",E=d&&d.route;{let ee=E&&E.path||"";Kv(y,!E||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let I=$r(),R;if(e){let ee=typeof e=="string"?jo(e):e;Ze(_==="/"||((q=ee.pathname)==null?void 0:q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),R=ee}else R=I;let P=R.pathname||"/",j=P;if(_!=="/"){let ee=_.replace(/^\//,"").split("/");j="/"+P.replace(/^\//,"").split("/").slice(ee.length).join("/")}let b=!a&&n&&n.matches&&n.matches.length>0?n.matches:Uv(t,{pathname:j});Hn(E||b!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Hn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=hI(b&&b.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:br([_,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?_:br([_,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),c,n,i);return e&&W?z.createElement(yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},W):W}function aI(){let t=gI(),e=eI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,c)}var lI=z.createElement(aI,null),uI=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?z.createElement(dr.Provider,{value:this.props.routeContext},z.createElement(Mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cI({routeContext:t,match:e,children:n}){let i=z.useContext(Bo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(dr.Provider,{value:t},n)}function hI(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let p=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);Ze(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:_,errors:E}=n,I=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||I){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let E,I=!1,R=null,P=null;n&&(E=a&&y.route.id?a[y.route.id]:void 0,R=y.route.errorElement||lI,c&&(d<0&&_===0?(Kv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,P=null):d===_&&(I=!0,P=y.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,_+1)),b=()=>{let W;return E?W=R:I?W=P:y.route.Component?W=z.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=p,z.createElement(cI,{match:y,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:W})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?z.createElement(uI,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}function Uf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dI(t){let e=z.useContext(Bo);return Ze(e,Uf(t)),e}function fI(t){let e=z.useContext(Mc);return Ze(e,Uf(t)),e}function pI(t){let e=z.useContext(dr);return Ze(e,Uf(t)),e}function jf(t){let e=pI(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mI(){return jf("useRouteId")}function gI(){var i;let t=z.useContext(Mf),e=fI("useRouteError"),n=jf("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function yI(){let{router:t}=dI("useNavigate"),e=jf("useNavigate"),n=z.useRef(!1);return Wv(()=>{n.current=!0}),z.useCallback(async(o,a={})=>{Hn(n.current,Hv),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var uy={};function Kv(t,e,n){!e&&!uy[t]&&(uy[t]=!0,Hn(!1,n))}z.memo(vI);function vI({routes:t,future:e,state:n}){return qv(t,void 0,n,e)}function _I({to:t,replace:e,state:n,relative:i}){Ze(zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Wn);Hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=z.useContext(dr),{pathname:c}=$r(),d=Ff(),p=Vf(t,bf(a),c,i==="path"),y=JSON.stringify(p);return z.useEffect(()=>{d(JSON.parse(y),{replace:e,state:n,relative:i})},[d,y,i,e,n]),null}function nf(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){Ze(!zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=jo(n));let{pathname:p="/",search:y="",hash:_="",state:E=null,key:I="default"}=n,R=z.useMemo(()=>{let P=Vr(p,c);return P==null?null:{location:{pathname:P,search:y,hash:_,state:E,key:I},navigationType:i}},[c,p,y,_,E,I,i]);return Hn(R!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:z.createElement(Wn.Provider,{value:d},z.createElement(yl.Provider,{children:e,value:R}))}function EI({children:t,location:e}){return oI(rf(t),e)}function rf(t,e=[]){let n=[];return z.Children.forEach(t,(i,o)=>{if(!z.isValidElement(i))return;let a=[...e,o];if(i.type===z.Fragment){n.push.apply(n,rf(i.props.children,a));return}Ze(i.type===nf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=rf(i.props.children,a)),n.push(c)}),n}var Zu="get",ec="application/x-www-form-urlencoded";function Fc(t){return t!=null&&typeof t.tagName=="string"}function TI(t){return Fc(t)&&t.tagName.toLowerCase()==="button"}function II(t){return Fc(t)&&t.tagName.toLowerCase()==="form"}function SI(t){return Fc(t)&&t.tagName.toLowerCase()==="input"}function AI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CI(t,e){return t.button===0&&(!e||e==="_self")&&!AI(t)}var Ku=null;function RI(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var kI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jd(t){return t!=null&&!kI.has(t)?(Hn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ec}"`),null):t}function PI(t,e){let n,i,o,a,c;if(II(t)){let d=t.getAttribute("action");i=d?Vr(d,e):null,n=t.getAttribute("method")||Zu,o=jd(t.getAttribute("enctype"))||ec,a=new FormData(t)}else if(TI(t)||SI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||d.getAttribute("action");if(i=p?Vr(p,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Zu,o=jd(t.getAttribute("formenctype"))||jd(d.getAttribute("enctype"))||ec,a=new FormData(d,t),!RI()){let{name:y,type:_,value:E}=t;if(_==="image"){let I=y?`${y}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else y&&a.append(y,E)}}else{if(Fc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zu,i=null,o=ec,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:c}}function Bf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function xI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DI(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await xI(a,n);return c.links?c.links():[]}return[]}));return VI(i.flat(1).filter(NI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cy(t,e,n,i,o,a){let c=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,d=(p,y)=>{var _;return n[y].pathname!==p.pathname||((_=n[y].route.path)==null?void 0:_.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,y)=>c(p,y)||d(p,y)):a==="data"?e.filter((p,y)=>{var E;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function OI(t,e,{includeHydrateFallback:n}={}){return LI(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function LI(t){return[...new Set(t)]}function bI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function VI(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(bI(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}var MI=new Set([100,101,204,205]);function FI(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Vr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Gv(){let t=z.useContext(Bo);return Bf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UI(){let t=z.useContext(Mc);return Bf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zf=z.createContext(void 0);zf.displayName="FrameworkContext";function Qv(){let t=z.useContext(zf);return Bf(t,"You must render this element inside a <HydratedRouter> element"),t}function jI(t,e){let n=z.useContext(zf),[i,o]=z.useState(!1),[a,c]=z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,I=z.useRef(null);z.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=W=>{W.forEach(q=>{c(q.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return I.current&&b.observe(I.current),()=>{b.disconnect()}}},[t]),z.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let R=()=>{o(!0)},P=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,I,{}]:[a,I,{onFocus:qa(d,R),onBlur:qa(p,P),onMouseEnter:qa(y,R),onMouseLeave:qa(_,P),onTouchStart:qa(E,R)}]:[!1,I,{}]}function qa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function BI({page:t,...e}){let{router:n}=Gv(),i=z.useMemo(()=>Uv(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?z.createElement($I,{page:t,matches:i,...e}):null}function zI(t){let{manifest:e,routeModules:n}=Qv(),[i,o]=z.useState([]);return z.useEffect(()=>{let a=!1;return DI(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),i}function $I({page:t,matches:e,...n}){let i=$r(),{manifest:o,routeModules:a}=Qv(),{basename:c}=Gv(),{loaderData:d,matches:p}=UI(),y=z.useMemo(()=>cy(t,e,p,o,i,"data"),[t,e,p,o,i]),_=z.useMemo(()=>cy(t,e,p,o,i,"assets"),[t,e,p,o,i]),E=z.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let P=new Set,j=!1;if(e.forEach(W=>{var ee;let q=o.routes[W.route.id];!q||!q.hasLoader||(!y.some(le=>le.route.id===W.route.id)&&W.route.id in d&&((ee=a[W.route.id])!=null&&ee.shouldRevalidate)||q.hasClientLoader?j=!0:P.add(W.route.id))}),P.size===0)return[];let b=FI(t,c);return j&&P.size>0&&b.searchParams.set("_routes",e.filter(W=>P.has(W.route.id)).map(W=>W.route.id).join(",")),[b.pathname+b.search]},[c,d,i,o,y,e,t,a]),I=z.useMemo(()=>OI(_,o),[_,o]),R=zI(_);return z.createElement(z.Fragment,null,E.map(P=>z.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),I.map(P=>z.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),R.map(({key:P,link:j})=>z.createElement("link",{key:P,...j})))}function HI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Yv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yv&&(window.__reactRouterVersion="7.5.2")}catch{}function WI({basename:t,children:e,window:n}){let i=z.useRef();i.current==null&&(i.current=DT({window:n,v5Compat:!0}));let o=i.current,[a,c]=z.useState({action:o.action,location:o.location}),d=z.useCallback(p=>{z.startTransition(()=>c(p))},[c]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.createElement(wI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var Xv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jv=z.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:d,target:p,to:y,preventScrollReset:_,viewTransition:E,...I},R){let{basename:P}=z.useContext(Wn),j=typeof y=="string"&&Xv.test(y),b,W=!1;if(typeof y=="string"&&j&&(b=y,Yv))try{let C=new URL(window.location.href),N=y.startsWith("//")?new URL(C.protocol+y):new URL(y),L=Vr(N.pathname,P);N.origin===C.origin&&L!=null?y=L+N.search+N.hash:W=!0}catch{Hn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=iI(y,{relative:o}),[ee,le,_e]=jI(i,I),we=QI(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E});function D(C){e&&e(C),C.defaultPrevented||we(C)}let S=z.createElement("a",{...I,..._e,href:b||q,onClick:W||a?e:D,ref:HI(R,le),target:p,"data-discover":!j&&n==="render"?"true":void 0});return ee&&!j?z.createElement(z.Fragment,null,S,z.createElement(BI,{page:q})):S});Jv.displayName="Link";var qI=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:p,...y},_){let E=vl(c,{relative:y.relative}),I=$r(),R=z.useContext(Mc),{navigator:P,basename:j}=z.useContext(Wn),b=R!=null&&eS(E)&&d===!0,W=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,q=I.pathname,ee=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(q=q.toLowerCase(),ee=ee?ee.toLowerCase():null,W=W.toLowerCase()),ee&&j&&(ee=Vr(ee,j)||ee);const le=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let _e=q===W||!o&&q.startsWith(W)&&q.charAt(le)==="/",we=ee!=null&&(ee===W||!o&&ee.startsWith(W)&&ee.charAt(W.length)==="/"),D={isActive:_e,isPending:we,isTransitioning:b},S=_e?e:void 0,C;typeof i=="function"?C=i(D):C=[i,_e?"active":null,we?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(D):a;return z.createElement(Jv,{...y,"aria-current":S,className:C,ref:_,style:N,to:c,viewTransition:d},typeof p=="function"?p(D):p)});qI.displayName="NavLink";var KI=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:c=Zu,action:d,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:E,...I},R)=>{let P=JI(),j=ZI(d,{relative:y}),b=c.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&Xv.test(d),q=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let le=ee.nativeEvent.submitter,_e=(le==null?void 0:le.getAttribute("formmethod"))||c;P(le||ee.currentTarget,{fetcherKey:e,method:_e,navigate:n,replace:o,state:a,relative:y,preventScrollReset:_,viewTransition:E})};return z.createElement("form",{ref:R,method:b,action:j,onSubmit:i?p:q,...I,"data-discover":!W&&t==="render"?"true":void 0})});KI.displayName="Form";function GI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zv(t){let e=z.useContext(Bo);return Ze(e,GI(t)),e}function QI(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=Ff(),p=$r(),y=vl(t,{relative:a});return z.useCallback(_=>{if(CI(_,e)){_.preventDefault();let E=n!==void 0?n:il(p)===il(y);d(t,{replace:E,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,d,y,n,i,e,t,o,a,c])}var YI=0,XI=()=>`__${String(++YI)}__`;function JI(){let{router:t}=Zv("useSubmit"),{basename:e}=z.useContext(Wn),n=mI();return z.useCallback(async(i,o={})=>{let{action:a,method:c,encType:d,formData:p,body:y}=PI(i,e);if(o.navigate===!1){let _=o.fetcherKey||XI();await t.fetch(_,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function ZI(t,{relative:e}={}){let{basename:n}=z.useContext(Wn),i=z.useContext(dr);Ze(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...vl(t||".",{relative:e})},c=$r();if(t==null){a.search=c.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();a.search=_?`?${_}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:br([n,a.pathname])),il(a)}function eS(t,e={}){let n=z.useContext($v);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Zv("useViewTransitionState"),o=vl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Vr(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Vr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return hc(o.pathname,c)!=null||hc(o.pathname,a)!=null}new TextEncoder;[...MI];var tS=Fv();const nS=Vc(tS);var hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},rS=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],d=t[n++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],c=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},t_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,d=c?t[o+1]:0,p=o+2<t.length,y=p?t[o+2]:0,_=a>>2,E=(a&3)<<4|d>>4;let I=(d&15)<<2|y>>6,R=y&63;p||(R=64,c||(I=64)),i.push(n[_],n[E],n[I],n[R])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||y==null||E==null)throw new iS;const I=a<<2|d>>4;if(i.push(I),y!==64){const R=d<<4&240|y>>2;if(i.push(R),E!==64){const P=y<<6&192|E;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sS=function(t){const e=e_(t);return t_.encodeByteArray(e,!0)},dc=function(t){return sS(t).replace(/\./g,"")},n_=function(t){try{return t_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=()=>oS().__FIREBASE_DEFAULTS__,lS=()=>{if(typeof process>"u"||typeof hy>"u")return;const t=hy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n_(t[1]);return e&&JSON.parse(e)},Uc=()=>{try{return aS()||lS()||uS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},r_=t=>{var e,n;return(n=(e=Uc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cS=t=>{const e=r_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},i_=()=>{var t;return(t=Uc())===null||t===void 0?void 0:t.config},s_=t=>{var e;return(e=Uc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dc(JSON.stringify(n)),dc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function pS(){var t;const e=(t=Uc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vS(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _S(){return!pS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wS(){try{return typeof indexedDB=="object"}catch{return!1}}function ES(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="FirebaseError";class Hr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=TS,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_l.prototype.create)}}class _l{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?IS(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Hr(o,d,i)}}function IS(t,e){return t.replace(SS,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const SS=/\{\$([^}]+)}/g;function AS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],c=e[o];if(dy(a)&&dy(c)){if(!fc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function dy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function CS(t,e){const n=new RS(t,e);return n.subscribe.bind(n)}class RS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");kS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Bd),o.error===void 0&&(o.error=Bd),o.complete===void 0&&(o.complete=Bd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new hS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NS(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xS(t){return t===cs?void 0:t}function NS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const OS={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},LS=Ne.INFO,bS={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},VS=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=bS[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $f{constructor(e){this.name=e,this._logLevel=LS,this._logHandler=VS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const MS=(t,e)=>e.some(n=>t instanceof n);let fy,py;function FS(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function US(){return py||(py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o_=new WeakMap,sf=new WeakMap,a_=new WeakMap,zd=new WeakMap,Hf=new WeakMap;function jS(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Ii(t.result)),o()},c=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&o_.set(n,t)}).catch(()=>{}),Hf.set(e,t),e}function BS(t){if(sf.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});sf.set(t,e)}let of={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zS(t){of=t(of)}function $S(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call($d(this),e,...n);return a_.set(i,e.sort?e.sort():[e]),Ii(i)}:US().includes(t)?function(...e){return t.apply($d(this),e),Ii(o_.get(this))}:function(...e){return Ii(t.apply($d(this),e))}}function HS(t){return typeof t=="function"?$S(t):(t instanceof IDBTransaction&&BS(t),MS(t,FS())?new Proxy(t,of):t)}function Ii(t){if(t instanceof IDBRequest)return jS(t);if(zd.has(t))return zd.get(t);const e=HS(t);return e!==t&&(zd.set(t,e),Hf.set(e,t)),e}const $d=t=>Hf.get(t);function WS(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),d=Ii(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ii(c.result),p.oldVersion,p.newVersion,Ii(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const qS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],Hd=new Map;function my(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=KS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||qS.includes(n)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[n](...d),o&&p.done]))[0]};return Hd.set(e,a),a}zS(t=>({...t,get:(e,n,i)=>my(e,n)||t.get(e,n,i),has:(e,n)=>!!my(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function QS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const af="@firebase/app",gy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new $f("@firebase/app"),YS="@firebase/app-compat",XS="@firebase/analytics-compat",JS="@firebase/analytics",ZS="@firebase/app-check-compat",eA="@firebase/app-check",tA="@firebase/auth",nA="@firebase/auth-compat",rA="@firebase/database",iA="@firebase/data-connect",sA="@firebase/database-compat",oA="@firebase/functions",aA="@firebase/functions-compat",lA="@firebase/installations",uA="@firebase/installations-compat",cA="@firebase/messaging",hA="@firebase/messaging-compat",dA="@firebase/performance",fA="@firebase/performance-compat",pA="@firebase/remote-config",mA="@firebase/remote-config-compat",gA="@firebase/storage",yA="@firebase/storage-compat",vA="@firebase/firestore",_A="@firebase/vertexai-preview",wA="@firebase/firestore-compat",EA="firebase",TA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="[DEFAULT]",IA={[af]:"fire-core",[YS]:"fire-core-compat",[JS]:"fire-analytics",[XS]:"fire-analytics-compat",[eA]:"fire-app-check",[ZS]:"fire-app-check-compat",[tA]:"fire-auth",[nA]:"fire-auth-compat",[rA]:"fire-rtdb",[iA]:"fire-data-connect",[sA]:"fire-rtdb-compat",[oA]:"fire-fn",[aA]:"fire-fn-compat",[lA]:"fire-iid",[uA]:"fire-iid-compat",[cA]:"fire-fcm",[hA]:"fire-fcm-compat",[dA]:"fire-perf",[fA]:"fire-perf-compat",[pA]:"fire-rc",[mA]:"fire-rc-compat",[gA]:"fire-gcs",[yA]:"fire-gcs-compat",[vA]:"fire-fst",[wA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[EA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,SA=new Map,uf=new Map;function yy(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(uf.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;uf.set(e,t);for(const n of pc.values())yy(n,t);for(const n of SA.values())yy(n,t);return!0}function Wf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new _l("app","Firebase",AA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=TA;function l_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:lf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Si.create("bad-app-name",{appName:String(o)});if(n||(n=i_()),!n)throw Si.create("no-options");const a=pc.get(o);if(a){if(fc(n,a.options)&&fc(i,a.config))return a;throw Si.create("duplicate-app",{appName:o})}const c=new DS(o);for(const p of uf.values())c.addComponent(p);const d=new CA(n,i,c);return pc.set(o,d),d}function u_(t=lf){const e=pc.get(t);if(!e&&t===lf&&i_())return l_();if(!e)throw Si.create("no-app",{appName:t});return e}function Ai(t,e,n){var i;let o=(i=IA[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(d.join(" "));return}ko(new ps(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebase-heartbeat-database",kA=1,sl="firebase-heartbeat-store";let Wd=null;function c_(){return Wd||(Wd=WS(RA,kA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),Wd}async function PA(t){try{const n=(await c_()).transaction(sl),i=await n.objectStore(sl).get(h_(t));return await n.done,i}catch(e){if(e instanceof Hr)Mr.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(n.message)}}}async function vy(t,e){try{const i=(await c_()).transaction(sl,"readwrite");await i.objectStore(sl).put(e,h_(t)),await i.done}catch(n){if(n instanceof Hr)Mr.warn(n.message);else{const i=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(i.message)}}}function h_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=1024,NA=30*24*60*60*1e3;class DA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_y();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=NA}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Mr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_y(),{heartbeatsToSend:i,unsentEntries:o}=OA(this._heartbeatsCache.heartbeats),a=dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Mr.warn(n),""}}}function _y(){return new Date().toISOString().substring(0,10)}function OA(t,e=xA){const n=[];let i=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),wy(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),wy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class LA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wS()?ES().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return vy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return vy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function wy(t){return dc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){ko(new ps("platform-logger",e=>new GS(e),"PRIVATE")),ko(new ps("heartbeat",e=>new DA(e),"PRIVATE")),Ai(af,gy,t),Ai(af,gy,"esm2017"),Ai("fire-js","")}bA("");function qf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function d_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VA=d_,f_=new _l("auth","Firebase",d_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new $f("@firebase/auth");function MA(t,...e){mc.logLevel<=Ne.WARN&&mc.warn(`Auth (${$o}): ${t}`,...e)}function tc(t,...e){mc.logLevel<=Ne.ERROR&&mc.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,...e){throw Kf(t,...e)}function rr(t,...e){return Kf(t,...e)}function p_(t,e,n){const i=Object.assign(Object.assign({},VA()),{[e]:n});return new _l("auth","Firebase",i).create(e,{appName:t.name})}function Ci(t){return p_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kf(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return f_.create(t,...e)}function Te(t,e,...n){if(!t)throw Kf(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tc(e),new Error(e)}function Ur(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FA(){return Ey()==="http:"||Ey()==="https:"}function Ey(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FA()||gS()||"connection"in navigator)?navigator.onLine:!0}function jA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=fS()||yS()}get(){return UA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e){Ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new El(3e4,6e4);function jc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ws(t,e,n,i,o={}){return g_(t,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=wl(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const y=Object.assign({method:e,headers:p},a);return mS()||(y.referrerPolicy="no-referrer"),m_.fetch()(v_(t,t.config.apiHost,n,d),y)})}async function g_(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},BA),e);try{const o=new $A(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Gu(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Gu(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Gu(t,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw p_(t,_,y);Fr(t,_)}}catch(o){if(o instanceof Hr)throw o;Fr(t,"network-request-failed",{message:String(o)})}}async function y_(t,e,n,i,o={}){const a=await ws(t,e,n,i,o);return"mfaPendingCredential"in a&&Fr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function v_(t,e,n,i){const o=`${e}${n}?${i}`;return t.config.emulator?Gf(t.config,o):`${t.config.apiScheme}://${o}`}class $A{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(rr(this.auth,"network-request-failed")),zA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=rr(t,e,i);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function __(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WA(t,e=!1){const n=qt(t),i=await n.getIdToken(e),o=Qf(i);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Za(qd(o.auth_time)),issuedAtTime:Za(qd(o.iat)),expirationTime:Za(qd(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function qd(t){return Number(t)*1e3}function Qf(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return tc("JWT malformed, contained fewer than 3 sections"),null;try{const o=n_(n);return o?JSON.parse(o):(tc("Failed to decode base64 JWT payload"),null)}catch(o){return tc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ty(t){const e=Qf(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Hr&&qA(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function qA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){var e;const n=t.auth,i=await t.getIdToken(),o=await Po(t,__(n,{idToken:i}));Te(o==null?void 0:o.users.length,n,"internal-error");const a=o.users[0];t._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?w_(a.providerUserInfo):[],d=QA(t.providerData,c),p=t.isAnonymous,y=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new hf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(t,E)}async function GA(t){const e=qt(t);await gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QA(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function w_(t){return t.map(e=>{var{providerId:n}=e,i=qf(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(t,e){const n=await g_(t,{},async()=>{const i=wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,c=v_(t,o,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",m_.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XA(t,e){return ws(t,"POST","/v2/accounts:revokeToken",jc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ty(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Ty(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:a}=await YA(e,n);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:a}=n,c=new So;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Te(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,a=qf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Po(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WA(this,e)}reload(){return GA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await gc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await Po(this,HA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,a,c,d,p,y,_;const E=(i=n.displayName)!==null&&i!==void 0?i:void 0,I=(o=n.email)!==null&&o!==void 0?o:void 0,R=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,P=(c=n.photoURL)!==null&&c!==void 0?c:void 0,j=(d=n.tenantId)!==null&&d!==void 0?d:void 0,b=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,W=(y=n.createdAt)!==null&&y!==void 0?y:void 0,q=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ee,emailVerified:le,isAnonymous:_e,providerData:we,stsTokenManager:D}=n;Te(ee&&D,e,"internal-error");const S=So.fromJSON(this.name,D);Te(typeof ee=="string",e,"internal-error"),gi(E,e.name),gi(I,e.name),Te(typeof le=="boolean",e,"internal-error"),Te(typeof _e=="boolean",e,"internal-error"),gi(R,e.name),gi(P,e.name),gi(j,e.name),gi(b,e.name),gi(W,e.name),gi(q,e.name);const C=new Or({uid:ee,auth:e,email:I,emailVerified:le,displayName:E,isAnonymous:_e,photoURL:P,phoneNumber:R,tenantId:j,stsTokenManager:S,createdAt:W,lastLoginAt:q});return we&&Array.isArray(we)&&(C.providerData=we.map(N=>Object.assign({},N))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,n,i=!1){const o=new So;o.updateFromServerResponse(n);const a=new Or({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await gc(a),a}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?w_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new So;d.updateFromIdToken(i);const p=new Or({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new hf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new Map;function Lr(t){Ur(t instanceof Function,"Expected a class definition");let e=Iy.get(t);return e?(Ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Iy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E_.type="NONE";const Sy=E_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ao{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=nc(this.userKey,o.apiKey,a),this.fullPersistenceKey=nc("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ao(Lr(Sy),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||Lr(Sy);const c=nc(i,e.config.apiKey,e.name);let d=null;for(const y of n)try{const _=await y._get(c);if(_){const E=Or._fromJSON(e,_);y!==a&&(d=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Ao(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new Ao(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R_(e))return"Blackberry";if(k_(e))return"Webos";if(I_(e))return"Safari";if((e.includes("chrome/")||S_(e))&&!e.includes("edge/"))return"Chrome";if(C_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function T_(t=Wt()){return/firefox\//i.test(t)}function I_(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S_(t=Wt()){return/crios\//i.test(t)}function A_(t=Wt()){return/iemobile/i.test(t)}function C_(t=Wt()){return/android/i.test(t)}function R_(t=Wt()){return/blackberry/i.test(t)}function k_(t=Wt()){return/webos/i.test(t)}function Yf(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JA(t=Wt()){var e;return Yf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZA(){return vS()&&document.documentMode===10}function P_(t=Wt()){return Yf(t)||C_(t)||k_(t)||R_(t)||/windows phone/i.test(t)||A_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t,e=[]){let n;switch(t){case"Browser":n=Ay(Wt());break;case"Worker":n=`${Ay(Wt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(t,e={}){return ws(t,"GET","/v2/passwordPolicy",jc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=6;class r1{constructor(e){var n,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:n1,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cy(this),this.idTokenSubscription=new Cy(this),this.beforeStateQueue=new e1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await __(this,{idToken:e}),i=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(Ci(this));const n=e?qt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t1(this),n=new r1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _l("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await XA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bc(t){return qt(t)}class Cy{constructor(e){this.auth=e,this.observer=null,this.addObserver=CS(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s1(t){Xf=t}function o1(t){return Xf.loadJS(t)}function a1(){return Xf.gapiScript}function l1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t,e){const n=Wf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(fc(a,e??{}))return o;Fr(o,"already-initialized")}return n.initialize({options:e})}function c1(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function h1(t,e,n){const i=Bc(t);Te(i._canInitEmulator,i,"emulator-config-failed"),Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=N_(e),{host:c,port:d}=d1(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),f1()}function N_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d1(t){const e=N_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Ry(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Ry(c)}}}function Ry(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e){return y_(t,"POST","/v1/accounts:signInWithIdp",jc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="http://localhost";class ms extends D_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,a=qf(n,["providerId","signInMethod"]);if(!i||!o)return null;const c=new ms(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Co(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:p1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends O_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Tl{constructor(){super("facebook.com")}static credential(e){return ms._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ms._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return vi.credential(n,i)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Tl{constructor(){super("github.com")}static credential(e){return ms._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Tl{constructor(){super("twitter.com")}static credential(e,n){return ms._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return wi.credential(n,i)}catch{return null}}}wi.TWITTER_SIGN_IN_METHOD="twitter.com";wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(t,e){return y_(t,"POST","/v1/accounts:signUp",jc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const a=await Or._fromIdTokenResponse(e,i,o),c=ky(i);return new xi({user:a,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=ky(i);return new xi({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function ky(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(t){var e;if(Nr(t.app))return Promise.reject(Ci(t));const n=Bc(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new xi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await m1(n,{returnSecureToken:!0}),o=await xi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Hr{constructor(e,n,i,o){var a;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,yc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new yc(e,n,i,o)}}function L_(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?yc._fromErrorAndOperation(t,a,e,i):a})}async function y1(t,e,n=!1){const i=await Po(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xi._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(t,e,n=!1){const{auth:i}=t;if(Nr(i.app))return Promise.reject(Ci(i));const o="reauthenticate";try{const a=await Po(t,L_(i,o,e,t),n);Te(a.idToken,i,"internal-error");const c=Qf(a.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(t.uid===d,i,"user-mismatch"),xi._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Fr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(t,e,n=!1){if(Nr(t.app))return Promise.reject(Ci(t));const i="signIn",o=await L_(t,i,e),a=await xi._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(t,e){return ws(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=qt(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Po(i,w1(i.auth,a));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function T1(t,e,n,i){return qt(t).onIdTokenChanged(e,n,i)}function I1(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function b_(t,e,n,i){return qt(t).onAuthStateChanged(e,n,i)}const vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vc,"1"),this.storage.removeItem(vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=1e3,A1=10;class M_ extends V_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);ZA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A1):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},S1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M_.type="LOCAL";const C1=M_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends V_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F_.type="SESSION";const U_=F_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new zc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:a}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(n.origin,a)),p=await R1(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const y=Jf("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function P1(t){ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function x1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D1(){return j_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="firebaseLocalStorageDb",O1=1,_c="firebaseLocalStorage",z_="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $c(t,e){return t.transaction([_c],e?"readwrite":"readonly").objectStore(_c)}function L1(){const t=indexedDB.deleteDatabase(B_);return new Il(t).toPromise()}function df(){const t=indexedDB.open(B_,O1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(_c,{keyPath:z_})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(_c)?e(i):(i.close(),await L1(),e(await df()))})})}async function Py(t,e,n){const i=$c(t,!0).put({[z_]:e,value:n});return new Il(i).toPromise()}async function b1(t,e){const n=$c(t,!1).get(e),i=await new Il(n).toPromise();return i===void 0?null:i.value}function xy(t,e){const n=$c(t,!0).delete(e);return new Il(n).toPromise()}const V1=800,M1=3;class $_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await df(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>M1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(D1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await x1(),!this.activeServiceWorker)return;this.sender=new k1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await df();return await Py(e,vc,"1"),await xy(e,vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Py(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>b1(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=$c(o,!1).getAll();return new Il(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$_.type="LOCAL";const F1=$_;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e){return e?Lr(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends D_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j1(t){return _1(t.auth,new Zf(t),t.bypassAuthState)}function B1(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),v1(n,new Zf(t),t.bypassAuthState)}async function z1(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),y1(n,new Zf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j1;case"linkViaPopup":case"linkViaRedirect":return z1;case"reauthViaPopup":case"reauthViaRedirect":return B1;default:Fr(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new El(2e3,1e4);class Eo extends H_{constructor(e,n,i,o,a){super(e,n,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=Jf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$1.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="pendingRedirect",rc=new Map;class W1 extends H_{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const i=await q1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q1(t,e){const n=Q1(e),i=G1(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function K1(t,e){rc.set(t._key(),e)}function G1(t){return Lr(t._redirectPersistence)}function Q1(t){return nc(H1,t.config.apiKey,t.name)}async function Y1(t,e,n=!1){if(Nr(t.app))return Promise.reject(Ci(t));const i=Bc(t),o=U1(i,e),c=await new W1(i,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=10*60*1e3;class J1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!W_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ny(e))}saveEventToCache(e){this.cachedEventUids.add(Ny(e)),this.lastProcessedEventTime=Date.now()}}function Ny(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nC=/^https?/;async function rC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eC(t);for(const n of e)try{if(iC(n))return}catch{}Fr(t,"unauthorized-domain")}function iC(t){const e=cf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!nC.test(n))return!1;if(tC.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new El(3e4,6e4);function Dy(){const t=ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oC(t){return new Promise((e,n)=>{var i,o,a;function c(){Dy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dy(),n(rr(t,"network-request-failed"))},timeout:sC.get()})}if(!((o=(i=ir().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ir().gapi)===null||a===void 0)&&a.load)c();else{const d=l1("iframefcb");return ir()[d]=()=>{gapi.load?c():n(rr(t,"network-request-failed"))},o1(`${a1()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw ic=null,e})}let ic=null;function aC(t){return ic=ic||oC(t),ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new El(5e3,15e3),uC="__/auth/iframe",cC="emulator/auth/iframe",hC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fC(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gf(e,cC):`https://${t.config.authDomain}/${uC}`,i={apiKey:e.apiKey,appName:t.name,v:$o},o=dC.get(t.config.apiHost);o&&(i.eid=o);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${wl(i).slice(1)}`}async function pC(t){const e=await aC(t),n=ir().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:fC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hC,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=rr(t,"network-request-failed"),d=ir().setTimeout(()=>{a(c)},lC.get());function p(){ir().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gC=500,yC=600,vC="_blank",_C="http://localhost";class Oy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wC(t,e,n,i=gC,o=yC){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},mC),{width:i.toString(),height:o.toString(),top:a,left:c}),y=Wt().toLowerCase();n&&(d=S_(y)?vC:n),T_(y)&&(e=e||_C,p.scrollbars="yes");const _=Object.entries(p).reduce((I,[R,P])=>`${I}${R}=${P},`,"");if(JA(y)&&d!=="_self")return EC(e||"",d),new Oy(null);const E=window.open(e||"",d,_);Te(E,t,"popup-blocked");try{E.focus()}catch{}return new Oy(E)}function EC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="__/auth/handler",IC="emulator/auth/handler",SC=encodeURIComponent("fac");async function Ly(t,e,n,i,o,a){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:$o,eventId:o};if(e instanceof O_){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",AS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Tl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await t._getAppCheckToken(),y=p?`#${SC}=${encodeURIComponent(p)}`:"";return`${AC(t)}?${wl(d).slice(1)}${y}`}function AC({config:t}){return t.emulator?Gf(t,IC):`https://${t.authDomain}/${TC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class CC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U_,this._completeRedirectFn=Y1,this._overrideRedirectResult=K1}async _openPopup(e,n,i,o){var a;Ur((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Ly(e,n,i,cf(),o);return wC(e,c,Jf())}async _openRedirect(e,n,i,o){await this._originValidation(e);const a=await Ly(e,n,i,cf(),o);return P1(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Ur(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await pC(e),i=new J1(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kd,{type:Kd},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Kd];c!==void 0&&n(!!c),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P_()||I_()||Yf()}}const RC=CC;var by="@firebase/auth",Vy="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xC(t){ko(new ps("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x_(t)},y=new i1(i,o,a,p);return c1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ko(new ps("auth-internal",e=>{const n=Bc(e.getProvider("auth").getImmediate());return(i=>new kC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(by,Vy,PC(t)),Ai(by,Vy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=5*60,DC=s_("authIdTokenMaxAge")||NC;let My=null;const OC=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>DC)return;const o=n==null?void 0:n.token;My!==o&&(My=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LC(t=u_()){const e=Wf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=u1(t,{popupRedirectResolver:RC,persistence:[F1,C1,U_]}),i=s_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=OC(a.toString());I1(n,c,()=>c(n.currentUser)),T1(n,d=>c(d))}}const o=r_("auth");return o&&h1(n,`http://${o}`),n}function bC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}s1({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const a=rr("internal-error");a.customData=o,n(a)},i.type="text/javascript",i.charset="UTF-8",bC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xC("Browser");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,q_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function C(){}C.prototype=S.prototype,D.D=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(N,L,M){for(var k=Array(arguments.length-2),st=2;st<arguments.length;st++)k[st-2]=arguments[st];return S.prototype[L].apply(N,k)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,C){C||(C=0);var N=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)N[L]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(L=0;16>L;++L)N[L]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],L=D.g[2];var M=D.g[3],k=S+(M^C&(L^M))+N[0]+3614090360&4294967295;S=C+(k<<7&4294967295|k>>>25),k=M+(L^S&(C^L))+N[1]+3905402710&4294967295,M=S+(k<<12&4294967295|k>>>20),k=L+(C^M&(S^C))+N[2]+606105819&4294967295,L=M+(k<<17&4294967295|k>>>15),k=C+(S^L&(M^S))+N[3]+3250441966&4294967295,C=L+(k<<22&4294967295|k>>>10),k=S+(M^C&(L^M))+N[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=M+(L^S&(C^L))+N[5]+1200080426&4294967295,M=S+(k<<12&4294967295|k>>>20),k=L+(C^M&(S^C))+N[6]+2821735955&4294967295,L=M+(k<<17&4294967295|k>>>15),k=C+(S^L&(M^S))+N[7]+4249261313&4294967295,C=L+(k<<22&4294967295|k>>>10),k=S+(M^C&(L^M))+N[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=M+(L^S&(C^L))+N[9]+2336552879&4294967295,M=S+(k<<12&4294967295|k>>>20),k=L+(C^M&(S^C))+N[10]+4294925233&4294967295,L=M+(k<<17&4294967295|k>>>15),k=C+(S^L&(M^S))+N[11]+2304563134&4294967295,C=L+(k<<22&4294967295|k>>>10),k=S+(M^C&(L^M))+N[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=M+(L^S&(C^L))+N[13]+4254626195&4294967295,M=S+(k<<12&4294967295|k>>>20),k=L+(C^M&(S^C))+N[14]+2792965006&4294967295,L=M+(k<<17&4294967295|k>>>15),k=C+(S^L&(M^S))+N[15]+1236535329&4294967295,C=L+(k<<22&4294967295|k>>>10),k=S+(L^M&(C^L))+N[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=M+(C^L&(S^C))+N[6]+3225465664&4294967295,M=S+(k<<9&4294967295|k>>>23),k=L+(S^C&(M^S))+N[11]+643717713&4294967295,L=M+(k<<14&4294967295|k>>>18),k=C+(M^S&(L^M))+N[0]+3921069994&4294967295,C=L+(k<<20&4294967295|k>>>12),k=S+(L^M&(C^L))+N[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=M+(C^L&(S^C))+N[10]+38016083&4294967295,M=S+(k<<9&4294967295|k>>>23),k=L+(S^C&(M^S))+N[15]+3634488961&4294967295,L=M+(k<<14&4294967295|k>>>18),k=C+(M^S&(L^M))+N[4]+3889429448&4294967295,C=L+(k<<20&4294967295|k>>>12),k=S+(L^M&(C^L))+N[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=M+(C^L&(S^C))+N[14]+3275163606&4294967295,M=S+(k<<9&4294967295|k>>>23),k=L+(S^C&(M^S))+N[3]+4107603335&4294967295,L=M+(k<<14&4294967295|k>>>18),k=C+(M^S&(L^M))+N[8]+1163531501&4294967295,C=L+(k<<20&4294967295|k>>>12),k=S+(L^M&(C^L))+N[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=M+(C^L&(S^C))+N[2]+4243563512&4294967295,M=S+(k<<9&4294967295|k>>>23),k=L+(S^C&(M^S))+N[7]+1735328473&4294967295,L=M+(k<<14&4294967295|k>>>18),k=C+(M^S&(L^M))+N[12]+2368359562&4294967295,C=L+(k<<20&4294967295|k>>>12),k=S+(C^L^M)+N[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=M+(S^C^L)+N[8]+2272392833&4294967295,M=S+(k<<11&4294967295|k>>>21),k=L+(M^S^C)+N[11]+1839030562&4294967295,L=M+(k<<16&4294967295|k>>>16),k=C+(L^M^S)+N[14]+4259657740&4294967295,C=L+(k<<23&4294967295|k>>>9),k=S+(C^L^M)+N[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=M+(S^C^L)+N[4]+1272893353&4294967295,M=S+(k<<11&4294967295|k>>>21),k=L+(M^S^C)+N[7]+4139469664&4294967295,L=M+(k<<16&4294967295|k>>>16),k=C+(L^M^S)+N[10]+3200236656&4294967295,C=L+(k<<23&4294967295|k>>>9),k=S+(C^L^M)+N[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=M+(S^C^L)+N[0]+3936430074&4294967295,M=S+(k<<11&4294967295|k>>>21),k=L+(M^S^C)+N[3]+3572445317&4294967295,L=M+(k<<16&4294967295|k>>>16),k=C+(L^M^S)+N[6]+76029189&4294967295,C=L+(k<<23&4294967295|k>>>9),k=S+(C^L^M)+N[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=M+(S^C^L)+N[12]+3873151461&4294967295,M=S+(k<<11&4294967295|k>>>21),k=L+(M^S^C)+N[15]+530742520&4294967295,L=M+(k<<16&4294967295|k>>>16),k=C+(L^M^S)+N[2]+3299628645&4294967295,C=L+(k<<23&4294967295|k>>>9),k=S+(L^(C|~M))+N[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=M+(C^(S|~L))+N[7]+1126891415&4294967295,M=S+(k<<10&4294967295|k>>>22),k=L+(S^(M|~C))+N[14]+2878612391&4294967295,L=M+(k<<15&4294967295|k>>>17),k=C+(M^(L|~S))+N[5]+4237533241&4294967295,C=L+(k<<21&4294967295|k>>>11),k=S+(L^(C|~M))+N[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=M+(C^(S|~L))+N[3]+2399980690&4294967295,M=S+(k<<10&4294967295|k>>>22),k=L+(S^(M|~C))+N[10]+4293915773&4294967295,L=M+(k<<15&4294967295|k>>>17),k=C+(M^(L|~S))+N[1]+2240044497&4294967295,C=L+(k<<21&4294967295|k>>>11),k=S+(L^(C|~M))+N[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=M+(C^(S|~L))+N[15]+4264355552&4294967295,M=S+(k<<10&4294967295|k>>>22),k=L+(S^(M|~C))+N[6]+2734768916&4294967295,L=M+(k<<15&4294967295|k>>>17),k=C+(M^(L|~S))+N[13]+1309151649&4294967295,C=L+(k<<21&4294967295|k>>>11),k=S+(L^(C|~M))+N[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=M+(C^(S|~L))+N[11]+3174756917&4294967295,M=S+(k<<10&4294967295|k>>>22),k=L+(S^(M|~C))+N[2]+718787259&4294967295,L=M+(k<<15&4294967295|k>>>17),k=C+(M^(L|~S))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+M&4294967295}i.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var C=S-this.blockSize,N=this.B,L=this.h,M=0;M<S;){if(L==0)for(;M<=C;)o(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<S;)if(N[L++]=D.charCodeAt(M++),L==this.blockSize){o(this,N),L=0;break}}else for(;M<S;)if(N[L++]=D[M++],L==this.blockSize){o(this,N),L=0;break}}this.h=L,this.o+=S},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var C=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=C&255,C/=256;for(this.u(D),D=Array(16),S=C=0;4>S;++S)for(var N=0;32>N;N+=8)D[C++]=this.g[S]>>>N&255;return D};function a(D,S){var C=d;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function c(D,S){this.h=S;for(var C=[],N=!0,L=D.length-1;0<=L;L--){var M=D[L]|0;N&&M==S||(C[L]=M,N=!1)}this.g=C}var d={};function p(D){return-128<=D&&128>D?a(D,function(S){return new c([S|0],0>S?-1:0)}):new c([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return b(y(-D));for(var S=[],C=1,N=0;D>=C;N++)S[N]=D/C|0,C*=4294967296;return new c(S,0)}function _(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return b(_(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),N=E,L=0;L<D.length;L+=8){var M=Math.min(8,D.length-L),k=parseInt(D.substring(L,L+M),S);8>M?(M=y(Math.pow(S,M)),N=N.j(M).add(y(k))):(N=N.j(C),N=N.add(y(k)))}return N}var E=p(0),I=p(1),R=p(16777216);t=c.prototype,t.m=function(){if(j(this))return-b(this).m();for(var D=0,S=1,C=0;C<this.g.length;C++){var N=this.i(C);D+=(0<=N?N:4294967296+N)*S,S*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P(this))return"0";if(j(this))return"-"+b(this).toString(D);for(var S=y(Math.pow(D,6)),C=this,N="";;){var L=le(C,S).g;C=W(C,L.j(S));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=L,P(C))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function P(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function j(D){return D.h==-1}t.l=function(D){return D=W(this,D),j(D)?-1:P(D)?0:1};function b(D){for(var S=D.g.length,C=[],N=0;N<S;N++)C[N]=~D.g[N];return new c(C,~D.h).add(I)}t.abs=function(){return j(this)?b(this):this},t.add=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],N=0,L=0;L<=S;L++){var M=N+(this.i(L)&65535)+(D.i(L)&65535),k=(M>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);N=k>>>16,M&=65535,k&=65535,C[L]=k<<16|M}return new c(C,C[C.length-1]&-2147483648?-1:0)};function W(D,S){return D.add(b(S))}t.j=function(D){if(P(this)||P(D))return E;if(j(this))return j(D)?b(this).j(b(D)):b(b(this).j(D));if(j(D))return b(this.j(b(D)));if(0>this.l(R)&&0>D.l(R))return y(this.m()*D.m());for(var S=this.g.length+D.g.length,C=[],N=0;N<2*S;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<D.g.length;L++){var M=this.i(N)>>>16,k=this.i(N)&65535,st=D.i(L)>>>16,Vt=D.i(L)&65535;C[2*N+2*L]+=k*Vt,q(C,2*N+2*L),C[2*N+2*L+1]+=M*Vt,q(C,2*N+2*L+1),C[2*N+2*L+1]+=k*st,q(C,2*N+2*L+1),C[2*N+2*L+2]+=M*st,q(C,2*N+2*L+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new c(C,0)};function q(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function ee(D,S){this.g=D,this.h=S}function le(D,S){if(P(S))throw Error("division by zero");if(P(D))return new ee(E,E);if(j(D))return S=le(b(D),S),new ee(b(S.g),b(S.h));if(j(S))return S=le(D,b(S)),new ee(b(S.g),S.h);if(30<D.g.length){if(j(D)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var C=I,N=S;0>=N.l(D);)C=_e(C),N=_e(N);var L=we(C,1),M=we(N,1);for(N=we(N,2),C=we(C,2);!P(N);){var k=M.add(N);0>=k.l(D)&&(L=L.add(C),M=k),N=we(N,1),C=we(C,1)}return S=W(D,L.j(S)),new ee(L,S)}for(L=E;0<=D.l(S);){for(C=Math.max(1,Math.floor(D.m()/S.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=y(C),k=M.j(S);j(k)||0<k.l(D);)C-=N,M=y(C),k=M.j(S);P(M)&&(M=I),L=L.add(M),D=W(D,k)}return new ee(L,D)}t.A=function(D){return le(this,D).h},t.and=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)&D.i(N);return new c(C,this.h&D.h)},t.or=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)|D.i(N);return new c(C,this.h|D.h)},t.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)^D.i(N);return new c(C,this.h^D.h)};function _e(D){for(var S=D.g.length+1,C=[],N=0;N<S;N++)C[N]=D.i(N)<<1|D.i(N-1)>>>31;return new c(C,D.h)}function we(D,S){var C=S>>5;S%=32;for(var N=D.g.length-C,L=[],M=0;M<N;M++)L[M]=0<S?D.i(M+C)>>>S|D.i(M+C+1)<<32-S:D.i(M+C);return new c(L,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,q_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,ds=c}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K_,Ga,G_,sc,ff,Q_,Y_,X_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var F=u[T];if(!(F in v))break e;v=v[F]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,T=!1,F={next:function(){if(!T&&v<u.length){var H=v++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,T),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,I.apply(null,arguments)}function R(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function P(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,F,H){for(var ne=Array(arguments.length-2),je=2;je<arguments.length;je++)ne[je-2]=arguments[je];return m.prototype[F].apply(T,ne)}}function j(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function b(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const F=u.length||0,H=T.length||0;u.length=F+H;for(let ne=0;ne<H;ne++)u[F+ne]=T[ne]}else u.push(T)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function q(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function le(u){return le[" "](u),u}le[" "]=function(){};var _e=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function we(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function D(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let v,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(v in T)u[v]=T[v];for(let H=0;H<C.length;H++)v=C[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function L(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function M(u){d.setTimeout(()=>{throw u},0)}function k(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const T=Vt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Vt=new W(()=>new Mt,u=>u.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,re=!1,me=new st,se=()=>{const u=d.Promise.resolve(void 0);ze=()=>{u.then(V)}};var V=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){M(v)}var m=Vt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Re(u,m){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_e){e:{try{le(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}P(Re,de);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function He(u,m,v,T,F){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=F,this.key=++Ue,this.da=this.fa=!1}function Et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fr(u){this.src=u,this.g={},this.h=0}fr.prototype.add=function(u,m,v,T,F){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ne=Wr(u,m,T,F);return-1<ne?(m=u[ne],v||(m.fa=!1)):(m=new He(m,this.src,H,!!T,F),m.fa=v,u.push(m)),m};function Is(u,m){var v=m.type;if(v in u.g){var T=u.g[v],F=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=F)&&Array.prototype.splice.call(T,F,1),H&&(Et(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Wr(u,m,v,T){for(var F=0;F<u.length;++F){var H=u[F];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return F}return-1}var Vi="closure_lm_"+(1e6*Math.random()|0),Ss={};function Yo(u,m,v,T,F){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Yo(u,m[H],v,T,F);return null}return v=Zo(v),u&&u[Fe]?u.K(m,v,y(T)?!!T.capture:!1,F):Xo(u,m,v,!1,T,F)}function Xo(u,m,v,T,F,H){if(!m)throw Error("Invalid event type");var ne=y(F)?!!F.capture:!!F,je=Cs(u);if(je||(u[Vi]=je=new fr(u)),v=je.add(m,v,T,ne,H),v.proxy)return v;if(T=Nl(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)Ce||(F=ne),F===void 0&&(F=!1),u.addEventListener(m.toString(),T,F);else if(u.attachEvent)u.attachEvent(mr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Nl(){function u(v){return m.call(u.src,u.listener,v)}const m=Jo;return u}function As(u,m,v,T,F){if(Array.isArray(m))for(var H=0;H<m.length;H++)As(u,m[H],v,T,F);else T=y(T)?!!T.capture:!!T,v=Zo(v),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],v=Wr(H,v,T,F),-1<v&&(Et(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Cs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Wr(m,v,T,F)),(v=-1<u?m[u]:null)&&pr(v))}function pr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])Is(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(mr(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Cs(m))?(Is(v,u),v.h==0&&(v.src=null,m[Vi]=null)):Et(u)}}}function mr(u){return u in Ss?Ss[u]:Ss[u]="on"+u}function Jo(u,m){if(u.da)u=!0;else{m=new Re(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&pr(u),u=v.call(T,m)}return u}function Cs(u){return u=u[Vi],u instanceof fr?u:null}var Rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zo(u){return typeof u=="function"?u:(u[Rs]||(u[Rs]=function(m){return u.handleEvent(m)}),u[Rs])}function pt(){K.call(this),this.i=new fr(this),this.M=this,this.F=null}P(pt,K),pt.prototype[Fe]=!0,pt.prototype.removeEventListener=function(u,m,v,T){As(this,u,m,v,T)};function mt(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new de(m,u);else if(m instanceof de)m.target=m.target||u;else{var F=m;m=new de(T,u),N(m,F)}if(F=!0,v)for(var H=v.length-1;0<=H;H--){var ne=m.g=v[H];F=gr(ne,T,!0,m)&&F}if(ne=m.g=u,F=gr(ne,T,!0,m)&&F,F=gr(ne,T,!1,m)&&F,v)for(H=0;H<v.length;H++)ne=m.g=v[H],F=gr(ne,T,!1,m)&&F}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)Et(v[T]);delete u.g[m],u.h--}}this.F=null},pt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pt.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function gr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,H=0;H<m.length;++H){var ne=m[H];if(ne&&!ne.da&&ne.capture==v){var je=ne.listener,gt=ne.ha||ne.src;ne.fa&&Is(u.i,ne),F=je.call(gt,T)!==!1&&F}}return F&&!T.defaultPrevented}function ea(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function qr(u){u.g=ea(()=>{u.g=null,u.i&&(u.i=!1,qr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Mi extends K{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(u){K.call(this),this.h=u,this.g={}}P(Fi,K);var ta=[];function na(u){we(u.g,function(m,v){this.g.hasOwnProperty(v)&&pr(m)},u),u.g={}}Fi.prototype.N=function(){Fi.aa.N.call(this),na(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ra=d.JSON.stringify,ia=d.JSON.parse,sa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ui(){}Ui.prototype.h=null;function ks(u){return u.h||(u.h=u.i())}function Ps(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){de.call(this,"d")}P(qn,de);function xs(){de.call(this,"c")}P(xs,de);var Kn={},oa=null;function ji(){return oa=oa||new pt}Kn.La="serverreachability";function aa(u){de.call(this,Kn.La,u)}P(aa,de);function yr(u){const m=ji();mt(m,new aa(m))}Kn.STAT_EVENT="statevent";function la(u,m){de.call(this,Kn.STAT_EVENT,u),this.stat=m}P(la,de);function ot(u){const m=ji();mt(m,new la(m,u))}Kn.Ma="timingevent";function Ns(u,m){de.call(this,Kn.Ma,u),this.size=m}P(Ns,de);function Pn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function zi(u,m,v,T,F,H){u.info(function(){if(u.g)if(H)for(var ne="",je=H.split("&"),gt=0;gt<je.length;gt++){var Oe=je[gt].split("=");if(1<Oe.length){var Tt=Oe[0];Oe=Oe[1];var ut=Tt.split("_");ne=2<=ut.length&&ut[1]=="type"?ne+(Tt+"="+Oe+"&"):ne+(Tt+"=redacted&")}}else ne=null;else ne=H;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+m+`
`+v+`
`+ne})}function Ds(u,m,v,T,F,H,ne){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+m+`
`+v+`
`+H+" "+ne})}function xn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+sh(u,v)+(T?" "+T:"")})}function ua(u,m){u.info(function(){return"TIMEOUT: "+m})}Bi.prototype.info=function(){};function sh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var F=T[1];if(Array.isArray(F)&&!(1>F.length)){var H=F[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ne=1;ne<F.length;ne++)F[ne]=""}}}}return ra(v)}catch{return m}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nn;function $i(){}P($i,Ui),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},Nn=new $i;function Dn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new Fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ol}function Ol(){this.i=null,this.g="",this.h=!1}var ca={},Ls={};function bs(u,m,v){u.L=1,u.v=Xr(dn(m)),u.m=v,u.P=!0,ha(u,null)}function ha(u,m){u.F=Date.now(),We(u),u.A=dn(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Zr(v.i,"t",T),u.C=0,v=u.j.J,u.h=new Ol,u.g=Xl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Mi(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(ta[0]=F.toString()),F=ta);for(var H=0;H<F.length;H++){var ne=Yo(v,F[H],T||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),yr(),zi(u.i,u.u,u.A,u.l,u.R,u.m)}Dn.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},Dn.prototype.Y=function(u){try{if(u==this.g)e:{const ut=en(this.g);var m=this.g.Ba();const Tn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||ya(this.g)))){this.J||ut!=4||m==7||(m==8||0>=Tn?yr(3):yr(2)),Hi(this);var v=this.g.Z();this.X=v;t:if(Ll(this)){var T=ya(this.g);u="";var F=T.length,H=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Kr(this);var ne="";break t}this.h.i=new d.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==F-1)});T.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,Ds(this.i,this.u,this.A,this.l,this.R,ut,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,gt=this.g;if((je=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(je)){var Oe=je;break t}}Oe=null}if(v=Oe)xn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,da(this,v);else{this.o=!1,this.s=3,ot(12),wn(this),Kr(this);break e}}if(this.P){v=!0;let pn;for(;!this.J&&this.C<ne.length;)if(pn=oh(this,ne),pn==Ls){ut==4&&(this.s=4,ot(14),v=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==ca){this.s=4,ot(15),xn(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else xn(this.i,this.l,pn,null),da(this,pn);if(Ll(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||ne.length!=0||this.h.h||(this.s=1,ot(16),v=!1),this.o=this.o&&v,!v)xn(this.i,this.l,ne,"[Invalid Chunked Response]"),wn(this),Kr(this);else if(0<ne.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),_a(Tt),Tt.M=!0,ot(11))}}else xn(this.i,this.l,ne,null),da(this,ne);ut==4&&wn(this),this.o&&!this.J&&(ut==4?qs(this.j,this):(this.o=!1,We(this)))}else Bs(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),wn(this),Kr(this)}}}catch{}finally{}};function Ll(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function oh(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ls:(v=Number(m.substring(v,T)),isNaN(v)?ca:(T+=1,T+v>m.length?Ls:(m=m.slice(T,T+v),u.C=T+v,m)))}Dn.prototype.cancel=function(){this.J=!0,wn(this)};function We(u){u.S=Date.now()+u.I,bl(u,u.I)}function bl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Pn(I(u.ba,u),m)}function Hi(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Dn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ua(this.i,this.A),this.L!=2&&(yr(),ot(17)),wn(this),this.s=2,Kr(this)):bl(this,this.S-u)};function Kr(u){u.j.G==0||u.J||qs(u.j,u)}function wn(u){Hi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,na(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function da(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Gt(v.h,u))){if(!u.K&&Gt(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Ws(v),Mn(v);else break e;Hs(v),ot(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Pn(I(v.Za,v),6e3));if(1>=Ml(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Tr(v,11)}else if((u.K||v.g==u)&&Ws(v),!q(m))for(F=v.Da.g.parse(m),m=0;m<F.length;m++){let Oe=F[m];if(v.T=Oe[0],Oe=Oe[1],v.G==2)if(Oe[0]=="c"){v.K=Oe[1],v.ia=Oe[2];const Tt=Oe[3];Tt!=null&&(v.la=Tt,v.j.info("VER="+v.la));const ut=Oe[4];ut!=null&&(v.Aa=ut,v.j.info("SVER="+v.Aa));const Tn=Oe[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(T=1.5*Tn,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const pn=u.g;if(pn){const Xi=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var H=T.h;H.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(fa(H,H.h),H.h=null))}if(T.D){const Gs=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(T.ya=Gs,$e(T.I,T.D,Gs))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ne=u;if(T.qa=Yl(T,T.J?T.ia:null,T.W),ne.K){Fl(T.h,ne);var je=ne,gt=T.L;gt&&(je.I=gt),je.B&&(Hi(je),We(je)),T.g=ne}else Yi(T);0<v.i.length&&Xn(v)}else Oe[0]!="stop"&&Oe[0]!="close"||Tr(v,7);else v.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Tr(v,7):kt(v):Oe[0]!="noop"&&v.l&&v.l.ta(Oe),v.v=0)}}yr(4)}catch{}}var Vl=class{constructor(u,m){this.g=u,this.map=m}};function Wi(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ml(u){return u.h?1:u.g?u.g.size:0}function Gt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fa(u,m){u.g?u.g.add(m):u.h=m}function Fl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Wi.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ul(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return j(u.i)}function Vs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function Ms(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function Gr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ms(u),T=Vs(u),F=T.length,H=0;H<F;H++)m.call(void 0,T[H],v&&v[H],u)}var qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ah(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),F=null;if(0<=T){var H=u[v].substring(0,T);F=u[v].substring(T+1)}else H=u[v];m(H,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function vr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vr){this.h=u.h,Ki(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.s),this.l=u.l;var m=u.i,v=new Gn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Yr(this,v),this.m=u.m}else u&&(m=String(u).match(qi))?(this.h=!1,Ki(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),Qr(this,m[4]),this.l=xe(m[5]||"",!0),Yr(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}vr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Jr(m,Fs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Jr(m,Fs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Jr(v,v.charAt(0)=="/"?zl:Bl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Jr(v,pa)),u.join("")};function dn(u){return new vr(u)}function Ki(u,m,v){u.j=v?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Yr(u,m,v){m instanceof Gn?(u.i=m,Qn(u.i,u.h)):(v||(m=Jr(m,$l)),u.i=new Gn(m,u.h))}function $e(u,m,v){u.i.set(m,v)}function Xr(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,jl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fs=/[#\/\?@]/g,Bl=/[#\?:]/g,zl=/[#\?]/g,$l=/[#\?@]/g,pa=/#/g;function Gn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rt(u){u.g||(u.g=new Map,u.h=0,u.i&&ah(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=Gn.prototype,t.add=function(u,m){Rt(this),this.i=null,u=En(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function On(u,m){Rt(u),m=En(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ln(u,m){return Rt(u),m=En(u,m),u.g.has(m)}t.forEach=function(u,m){Rt(this),this.g.forEach(function(v,T){v.forEach(function(F){u.call(m,F,T,this)},this)},this)},t.na=function(){Rt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const F=u[T];for(let H=0;H<F.length;H++)v.push(m[T])}return v},t.V=function(u){Rt(this);let m=[];if(typeof u=="string")Ln(this,u)&&(m=m.concat(this.g.get(En(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},t.set=function(u,m){return Rt(this),this.i=null,u=En(this,u),Ln(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Zr(u,m,v){On(u,m),0<v.length&&(u.i=null,u.g.set(En(u,m),j(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const H=encodeURIComponent(String(T)),ne=this.V(T);for(T=0;T<ne.length;T++){var F=H;ne[T]!==""&&(F+="="+encodeURIComponent(String(ne[T]))),u.push(F)}}return this.i=u.join("&")};function En(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qn(u,m){m&&!u.j&&(Rt(u),u.i=null,u.g.forEach(function(v,T){var F=T.toLowerCase();T!=F&&(On(this,T),Zr(this,F,v))},u)),u.j=m}function lh(u,m){const v=new Bi;if(d.Image){const T=new Image;T.onload=R(Zt,v,"TestLoadImage: loaded",!0,m,T),T.onerror=R(Zt,v,"TestLoadImage: error",!1,m,T),T.onabort=R(Zt,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=R(Zt,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Hl(u,m){const v=new Bi,T=new AbortController,F=setTimeout(()=>{T.abort(),Zt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(F),H.ok?Zt(v,"TestPingServer: ok",!0,m):Zt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Zt(v,"TestPingServer: error",!1,m)})}function Zt(u,m,v,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(v)}catch{}}function uh(){this.g=new sa}function Wl(u,m,v){const T=v||"";try{Gr(u,function(F,H){let ne=F;y(F)&&(ne=ra(F)),m.push(T+H+"="+encodeURIComponent(ne))})}catch(F){throw m.push(T+"type="+encodeURIComponent("_badmap")),F}}function _r(u){this.l=u.Ub||null,this.j=u.eb||!1}P(_r,Ui),_r.prototype.g=function(){return new Gi(this.l,this.j)},_r.prototype.i=function(u){return function(){return u}}({});function Gi(u,m){pt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Gi,pt),t=Gi.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Vn(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bn(this):Vn(this),this.readyState==3&&ql(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,bn(this))},t.Qa=function(u){this.g&&(this.response=u,bn(this))},t.ga=function(){this.g&&bn(this)};function bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Vn(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Vn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wr(u){let m="";return we(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ei(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=wr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):$e(u,m,v))}function Ye(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ye,pt);var ch=/^https?$/i,ma=["POST","PUT"];t=Ye.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nn.g(),this.v=this.o?ks(this.o):ks(Nn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Qi(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)v.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),F=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ma,m,void 0))||T||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ne]of v)this.g.setRequestHeader(H,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Qi(this,H)}};function Qi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Us(u),fn(u)}function Us(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),fn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},t.bb=function(){ga(this)};function ga(u){if(u.h&&typeof c<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)ea(u.Ea,0,u);else if(mt(u,"readystatechange"),en(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=ne===0){var F=String(u.D).match(qi)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),T=!ch.test(F?F.toLowerCase():"")}v=T}if(v)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var H=2<en(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Us(u)}}finally{fn(u)}}}}function fn(u,m){if(u.g){js(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||mt(u,"ready");try{v.onreadystatechange=T}catch{}}}function js(u){u.I&&(d.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ia(m)}};function ya(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bs(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(q(u[T]))continue;var v=L(u[T]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[F]||[];m[F]=H,H.push(v)}D(m,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function va(u){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yn("baseRetryDelayMs",5e3,u),this.cb=Yn("retryDelaySeedMs",1e4,u),this.Wa=Yn("forwardChannelMaxRetries",2,u),this.wa=Yn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(u&&u.concurrentRequestLimit),this.Da=new uh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=va.prototype,t.la=8,t.G=1,t.connect=function(u,m,v,T){ot(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Yl(this,null,this.W),Xn(this)};function kt(u){if(zs(u),u.G==3){var m=u.U++,v=dn(u.I);if($e(v,"SID",u.K),$e(v,"RID",m),$e(v,"TYPE","terminate"),Er(u,v),m=new Dn(u,u.j,m),m.L=2,m.v=Xr(dn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Xl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),We(m)}Ql(u)}function Mn(u){u.g&&(_a(u),u.g.cancel(),u.g=null)}function zs(u){Mn(u),u.u&&(d.clearTimeout(u.u),u.u=null),Ws(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Xn(u){if(!hn(u.h)&&!u.s){u.s=!0;var m=u.Ga;ze||se(),re||(ze(),re=!0),me.add(m,u),u.B=0}}function hh(u,m){return Ml(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Pn(I(u.Ga,u,m),Gl(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Dn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(F.H=H,H=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ti(this,F,m),v=dn(this.I),$e(v,"RID",u),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),Er(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(wr(H)))+"&"+m:this.m&&ei(v,this.m,H)),fa(this.h,F),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",m),$e(v,"SID","null"),F.T=!0,bs(F,v,null)):bs(F,v,m),this.G=2}}else this.G==3&&(u?$s(this,u):this.i.length==0||hn(this.h)||$s(this))};function $s(u,m){var v;m?v=m.l:v=u.U++;const T=dn(u.I);$e(T,"SID",u.K),$e(T,"RID",v),$e(T,"AID",u.T),Er(u,T),u.m&&u.o&&ei(T,u.m,u.o),v=new Dn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ti(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fa(u.h,v),bs(v,T,m)}function Er(u,m){u.H&&we(u.H,function(v,T){$e(m,T,v)}),u.l&&Gr({},function(v,T){$e(m,T,v)})}function ti(u,m,v){v=Math.min(u.i.length,v);var T=u.l?I(u.l.Na,u.l,u):null;e:{var F=u.i;let H=-1;for(;;){const ne=["count="+v];H==-1?0<v?(H=F[0].g,ne.push("ofs="+H)):H=0:ne.push("ofs="+H);let je=!0;for(let gt=0;gt<v;gt++){let Oe=F[gt].g;const Tt=F[gt].map;if(Oe-=H,0>Oe)H=Math.max(0,F[gt].g-100),je=!1;else try{Wl(Tt,ne,"req"+Oe+"_")}catch{T&&T(Tt)}}if(je){T=ne.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function Yi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ze||se(),re||(ze(),re=!0),me.add(m,u),u.v=0}}function Hs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Pn(I(u.Fa,u),Gl(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Pn(I(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Mn(this),Kl(this))};function _a(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Kl(u){u.g=new Dn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=dn(u.qa);$e(m,"RID","rpc"),$e(m,"SID",u.K),$e(m,"AID",u.T),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(m,"TO",u.ja),$e(m,"TYPE","xmlhttp"),Er(u,m),u.m&&u.o&&ei(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Xr(dn(m)),v.m=null,v.P=!0,ha(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Mn(this),Hs(this),ot(19))};function Ws(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function qs(u,m){var v=null;if(u.g==m){Ws(u),_a(u),u.g=null;var T=2}else if(Gt(u.h,m))v=m.D,Fl(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;T=ji(),mt(T,new Ns(T,v)),Xn(u)}else Yi(u);else if(F=m.s,F==3||F==0&&0<m.X||!(T==1&&hh(u,m)||T==2&&Hs(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),F){case 1:Tr(u,5);break;case 4:Tr(u,10);break;case 3:Tr(u,6);break;default:Tr(u,2)}}}function Gl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Tr(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),T=u.Xa;const F=!T;T=new vr(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ki(T,"https"),Xr(T),F?lh(T.toString(),v):Hl(T.toString(),v)}else ot(2);u.G=0,u.l&&u.l.sa(m),Ql(u),zs(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Ql(u){if(u.G=0,u.ka=[],u.l){const m=Ul(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Yl(u,m,v){var T=v instanceof vr?dn(v):new vr(v);if(T.g!="")m&&(T.g=m+"."+T.g),Qr(T,T.s);else{var F=d.location;T=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var H=new vr(null);T&&Ki(H,T),m&&(H.g=m),F&&Qr(H,F),v&&(H.l=v),T=H}return v=u.D,m=u.ya,v&&m&&$e(T,v,m),$e(T,"VER",u.la),Er(u,T),T}function Xl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ye(new _r({eb:v})):new Ye(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wa(){}t=wa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ks(){}Ks.prototype.g=function(u,m){return new Qt(u,m)};function Qt(u,m){pt.call(this),this.g=new va(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!q(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!q(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}P(Qt,pt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){kt(this.g)},Qt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ra(u),u=v);m.i.push(new Vl(m.Ya++,u)),m.G==3&&Xn(m)},Qt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Qt.aa.N.call(this)};function Jl(u){qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}P(Jl,qn);function Zl(){xs.call(this),this.status=1}P(Zl,xs);function Jn(u){this.g=u}P(Jn,wa),Jn.prototype.ua=function(){mt(this.g,"a")},Jn.prototype.ta=function(u){mt(this.g,new Jl(u))},Jn.prototype.sa=function(u){mt(this.g,new Zl)},Jn.prototype.ra=function(){mt(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,X_=function(){return new Ks},Y_=function(){return ji()},Q_=Kn,ff={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,sc=Os,Dl.COMPLETE="complete",G_=Dl,Ps.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ga=Ps,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,K_=Ye}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new $f("@firebase/firestore");function Ka(){return gs.logLevel}function ce(t,...e){if(gs.logLevel<=Ne.DEBUG){const n=e.map(ep);gs.debug(`Firestore (${Ho}): ${t}`,...n)}}function jr(t,...e){if(gs.logLevel<=Ne.ERROR){const n=e.map(ep);gs.error(`Firestore (${Ho}): ${t}`,...n)}}function xo(t,...e){if(gs.logLevel<=Ne.WARN){const n=e.map(ep);gs.warn(`Firestore (${Ho}): ${t}`,...n)}}function ep(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Be(t,e){t||Ie()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class MC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let a=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ri,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ri)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string"),new J_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new $t(e)}}class UC{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jC{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new UC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Be(this.o===void 0);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new BC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=$C(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%e.length))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function No(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ft(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ft(0,0))}static max(){return new Se(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ie(),i===void 0?i=e.length-n:i>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ol.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ol?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=e.get(o),c=n.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends ol{construct(e,n,i){return new it(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const HC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends ol{construct(e,n,i){return new Dt(e,n,i)}static isValidIdentifier(e){return HC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}function WC(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new ft(n+1,0):new ft(n,i));return new Ni(o,ve.empty(),e)}function qC(t){return new Ni(t.readTime,t.key,-1)}class Ni{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ni(Se.min(),ve.empty(),-1)}static max(){return new Ni(Se.max(),ve.empty(),-1)}}function KC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==GC)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,i)=>{n(e)})}static reject(e){return new X((n,i)=>{i(e)})}static waitFor(e){return new X((n,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&n()},p=>i(p))}),c=!0,a===o&&n()})}static or(e){let n=X.resolve(!1);for(const i of e)n=n.next(o=>o?X.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,a)=>{i.push(n.call(this,o,a))}),this.waitFor(i)}static mapArray(e,n){return new X((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;n(e[y]).next(_=>{c[y]=_,++d,d===a&&i(c)},_=>o(_))}})}static doWhile(e,n){return new X((i,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):i()};a()})}}function YC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}tp.oe=-1;function Hc(t){return t==null}function wc(t){return t===0&&1/t==-1/0}function XC(t){return typeof t=="number"&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function e0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Nt.RED,this.left=o??Nt.EMPTY,this.right=a??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Nt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,i,o,a){return this}insert(e,n,i){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new By(this.data.getIterator())}getIteratorFrom(e){return new By(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class By{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new Ot(Dt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new t0("Invalid base64 string: "+a):a}}(e);return new bt(n)}static fromUint8Array(e){const n=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const JC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Be(!!t),typeof t=="string"){let e=0;const n=JC.exec(t);if(Be(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rp(t){const e=t.mapValue.fields.__previous_value__;return np(e)?rp(e):e}function al(t){const e=Di(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,i,o,a,c,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class ll{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu={mapValue:{}};function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?np(t)?4:tR(t)?9007199254740991:eR(t)?10:11:Ie()}function cr(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return al(t).isEqual(al(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Di(o.timestampValue),d=Di(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return ys(o.bytesValue).isEqual(ys(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return lt(o.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return lt(o.integerValue)===lt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=lt(o.doubleValue),d=lt(a.doubleValue);return c===d?wc(c)===wc(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return No(t.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(jy(c)!==jy(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!cr(c[p],d[p])))return!1;return!0}(t,e);default:return Ie()}}function ul(t,e){return(t.values||[]).find(n=>cr(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=vs(t),i=vs(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(a,c){const d=lt(a.integerValue||a.doubleValue),p=lt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return zy(t.timestampValue,e.timestampValue);case 4:return zy(al(t),al(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(a,c){const d=ys(a),p=ys(c);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Me(d[y],p[y]);if(_!==0)return _}return Me(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Me(lt(a.latitude),lt(c.latitude));return d!==0?d:Me(lt(a.longitude),lt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $y(t.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,y,_;const E=a.fields||{},I=c.fields||{},R=(d=E.value)===null||d===void 0?void 0:d.arrayValue,P=(p=I.value)===null||p===void 0?void 0:p.arrayValue,j=Me(((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0,((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:$y(R,P)}(t.mapValue,e.mapValue);case 11:return function(a,c){if(a===Xu.mapValue&&c===Xu.mapValue)return 0;if(a===Xu.mapValue)return 1;if(c===Xu.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const I=Me(p[E],_[E]);if(I!==0)return I;const R=Do(d[p[E]],y[_[E]]);if(R!==0)return R}return Me(p.length,_.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function zy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Di(t),i=Di(e),o=Me(n.seconds,i.seconds);return o!==0?o:Me(n.nanos,i.nanos)}function $y(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Do(n[o],i[o]);if(a)return a}return Me(n.length,i.length)}function Oo(t){return pf(t)}function pf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Di(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=pf(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${pf(n.fields[c])}`;return o+"}"}(t.mapValue):Ie()}function mf(t){return!!t&&"integerValue"in t}function ip(t){return!!t&&"arrayValue"in t}function Hy(t){return!!t&&"nullValue"in t}function Wy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oc(t){return!!t&&"mapValue"in t}function eR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function el(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Es(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=el(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=Dt.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=d.popLast()}c?i[d.lastSegment()]=el(c):o.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Es(n,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new ln(el(this.value))}}function n0(t){const e=[];return Es(t.fields,(n,i)=>{const o=new Dt([n]);if(oc(i)){const a=n0(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,i,o,a,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Ht(e,0,Se.min(),Se.min(),Se.min(),ln.empty(),0)}static newFoundDocument(e,n,i,o){return new Ht(e,1,n,Se.min(),i,o,0)}static newNoDocument(e,n){return new Ht(e,2,n,Se.min(),Se.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,Se.min(),Se.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.position=e,this.inclusive=n}}function qy(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),n.key):i=Do(c,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ky(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function nR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{}class _t extends r0{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new iR(e,n,i):n==="array-contains"?new aR(e,i):n==="in"?new lR(e,i):n==="not-in"?new uR(e,i):n==="array-contains-any"?new cR(e,i):new _t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new sR(e,i):new oR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Do(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends r0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hr(e,n)}matches(e){return i0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function i0(t){return t.op==="and"}function s0(t){return rR(t)&&i0(t)}function rR(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function gf(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(s0(t))return t.filters.map(e=>gf(e)).join(",");{const e=t.filters.map(n=>gf(n)).join(",");return`${t.op}(${e})`}}function o0(t,e){return t instanceof _t?function(i,o){return o instanceof _t&&i.op===o.op&&i.field.isEqual(o.field)&&cr(i.value,o.value)}(t,e):t instanceof hr?function(i,o){return o instanceof hr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&o0(c,o.filters[d]),!0):!1}(t,e):void Ie()}function a0(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(a0).join(" ,")+"}"}(t):"Filter"}class iR extends _t{constructor(e,n,i){super(e,n,i),this.key=ve.fromName(i.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class sR extends _t{constructor(e,n){super(e,"in",n),this.keys=l0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oR extends _t{constructor(e,n){super(e,"not-in",n),this.keys=l0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function l0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ve.fromName(i.referenceValue))}class aR extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ip(n)&&ul(n.arrayValue,this.value)}}class lR extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ul(this.value.arrayValue,n)}}class uR extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ul(this.value.arrayValue,n)}}class cR extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ul(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.ue=null}}function Gy(t,e=null,n=[],i=[],o=null,a=null,c=null){return new hR(t,e,n,i,o,a,c)}function sp(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>gf(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Hc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Oo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Oo(i)).join(",")),e.ue=n}return e.ue}function op(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ky(t.startAt,e.startAt)&&Ky(t.endAt,e.endAt)}function yf(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function dR(t,e,n,i,o,a,c,d){return new Wc(t,e,n,i,o,a,c,d)}function qc(t){return new Wc(t)}function Qy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fR(t){return t.collectionGroup!==null}function tl(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ot(Dt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Tc(a,i))}),n.has(Dt.keyField().canonicalString())||e.ce.push(new Tc(Dt.keyField(),i))}return e.ce}function sr(t){const e=Ae(t);return e.le||(e.le=pR(e,tl(t))),e.le}function pR(t,e){if(t.limitType==="F")return Gy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Tc(o.field,a)});const n=t.endAt?new Ec(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ec(t.startAt.position,t.startAt.inclusive):null;return Gy(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function vf(t,e,n){return new Wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kc(t,e){return op(sr(t),sr(e))&&t.limitType===e.limitType}function u0(t){return`${sp(sr(t))}|lt:${t.limitType}`}function yo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>a0(o)).join(", ")}]`),Hc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Oo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Oo(o)).join(",")),`Target(${i})`}(sr(t))}; limitType=${t.limitType})`}function Gc(t,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ve.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,o){for(const a of tl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=qy(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,tl(i),o)||i.endAt&&!function(c,d,p){const y=qy(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,tl(i),o))}(t,e)}function mR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function c0(t){return(e,n)=>{let i=!1;for(const o of tl(t)){const a=gR(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function gR(t,e,n){const i=t.field.isKeyField()?ve.comparator(e.key,n.key):function(a,c,d){const p=c.data.field(a),y=d.data.field(a);return p!==null&&y!==null?Do(p,y):Ie()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return e0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new nt(ve.comparator);function Br(){return yR}const h0=new nt(ve.comparator);function Qa(...t){let e=h0;for(const n of t)e=e.insert(n.key,n);return e}function d0(t){let e=h0;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function hs(){return nl()}function f0(){return nl()}function nl(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const vR=new nt(ve.comparator),_R=new Ot(ve.comparator);function Pe(...t){let e=_R;for(const n of t)e=e.add(n);return e}const wR=new Ot(Me);function ER(){return wR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function p0(t){return{integerValue:""+t}}function TR(t,e){return XC(e)?p0(e):ap(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function IR(t,e,n){return t instanceof Ic?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&np(a)&&(a=rp(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(n,e):t instanceof cl?g0(t,e):t instanceof hl?y0(t,e):function(o,a){const c=m0(o,a),d=Yy(c)+Yy(o.Pe);return mf(c)&&mf(o.Pe)?p0(d):ap(o.serializer,d)}(t,e)}function SR(t,e,n){return t instanceof cl?g0(t,e):t instanceof hl?y0(t,e):n}function m0(t,e){return t instanceof Sc?function(i){return mf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Ic extends Qc{}class cl extends Qc{constructor(e){super(),this.elements=e}}function g0(t,e){const n=v0(e);for(const i of t.elements)n.some(o=>cr(o,i))||n.push(i);return{arrayValue:{values:n}}}class hl extends Qc{constructor(e){super(),this.elements=e}}function y0(t,e){let n=v0(e);for(const i of t.elements)n=n.filter(o=>!cr(o,i));return{arrayValue:{values:n}}}class Sc extends Qc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Yy(t){return lt(t.integerValue||t.doubleValue)}function v0(t){return ip(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AR(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof cl&&o instanceof cl||i instanceof hl&&o instanceof hl?No(i.elements,o.elements,cr):i instanceof Sc&&o instanceof Sc?cr(i.Pe,o.Pe):i instanceof Ic&&o instanceof Ic}(t.transform,e.transform)}class CR{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yc{}function _0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new E0(t.key,or.none()):new Cl(t.key,t.data,or.none());{const n=t.data,i=ln.empty();let o=new Ot(Dt.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new bi(t.key,i,new vn(o.toArray()),or.none())}}function RR(t,e,n){t instanceof Cl?function(o,a,c){const d=o.value.clone(),p=Jy(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof bi?function(o,a,c){if(!ac(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=Jy(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(w0(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function rl(t,e,n,i){return t instanceof Cl?function(a,c,d,p){if(!ac(a.precondition,c))return d;const y=a.value.clone(),_=Zy(a.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(t,e,n,i):t instanceof bi?function(a,c,d,p){if(!ac(a.precondition,c))return d;const y=Zy(a.fieldTransforms,p,c),_=c.data;return _.setAll(w0(a)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(t,e,n,i):function(a,c,d){return ac(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function kR(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=m0(i.transform,o||null);a!=null&&(n===null&&(n=ln.empty()),n.set(i.field,a))}return n||null}function Xy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&No(i,o,(a,c)=>AR(a,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cl extends Yc{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bi extends Yc{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function w0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Jy(t,e,n){const i=new Map;Be(t.length===n.length);for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,SR(c,d,n[o]))}return i}function Zy(t,e,n){const i=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);i.set(o.field,IR(a,c,e))}return i}class E0 extends Yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PR extends Yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&RR(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=rl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=rl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=f0();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=n.has(o.key)?null:d;const p=_0(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,i)=>Xy(n,i))&&No(this.baseMutations,e.baseMutations,(n,i)=>Xy(n,i))}}class lp{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Be(e.mutations.length===i.length);let o=function(){return vR}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new lp(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Le;function OR(t){switch(t){default:return Ie();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function T0(t){if(t===void 0)return jr("GRPC error has no .code"),J.UNKNOWN;switch(t){case ht.OK:return J.OK;case ht.CANCELLED:return J.CANCELLED;case ht.UNKNOWN:return J.UNKNOWN;case ht.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ht.INTERNAL:return J.INTERNAL;case ht.UNAVAILABLE:return J.UNAVAILABLE;case ht.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ht.NOT_FOUND:return J.NOT_FOUND;case ht.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ht.ABORTED:return J.ABORTED;case ht.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ht.DATA_LOSS:return J.DATA_LOSS;default:return Ie()}}(Le=ht||(ht={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new ds([4294967295,4294967295],0);function ev(t){const e=LR().encode(t),n=new q_;return n.update(e),new Uint8Array(n.digest())}function tv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ds([n,i],0),new ds([o,a],0)]}class up{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ya(`Invalid padding: ${n}`);if(i<0)throw new Ya(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ya(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ya(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ds.fromNumber(this.Ie)}Ee(e,n,i){let o=e.add(n.multiply(ds.fromNumber(i)));return o.compare(bR)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=ev(e),[i,o]=tv(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new up(a,o,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ie===0)return;const n=ev(e),[i,o]=tv(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Xc(Se.min(),o,new nt(Me),Br(),Pe())}}class Rl{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Rl(i,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,i,o){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=o}}class I0{constructor(e,n){this.targetId=e,this.me=n}}class S0{constructor(e,n,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class nv{constructor(){this.fe=0,this.ge=iv(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),i=Pe();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ie()}}),new Rl(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=iv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=rv(),this.Qe=new nt(Me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,i=e.me.count,o=this.Je(n);if(o){const a=o.target;if(yf(a))if(i===0){const c=new ve(a.path);this.Ue(n,c,Ht.newNoDocument(c,Se.min()))}else Be(i===1);else{const c=this.Ye(n);if(c!==i){const d=this.Ze(e),p=d?this.Xe(d,e,c):1;if(p!==0){this.je(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,y)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let c,d;try{c=ys(i).toUint8Array()}catch(p){if(p instanceof t0)return xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new up(c,o,a)}catch(p){return xo(p instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ie===0?null:d}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let o=0;return i.forEach(a=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,a,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((a,c)=>{const d=this.Je(c);if(d){if(a.current&&yf(d.target)){const p=new ve(d.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,Ht.newNoDocument(p,e))}a.be&&(n.set(c,a.ve()),a.Ce())}});let i=Pe();this.qe.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Je(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new Xc(e,n,this.Qe,this.ke,i);return this.ke=Br(),this.qe=rv(),this.Qe=new nt(Me),o}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new nv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rv(){return new nt(ve.comparator)}function iv(){return new nt(ve.comparator)}const MR={asc:"ASCENDING",desc:"DESCENDING"},FR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class jR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _f(t,e){return t.useProto3Json||Hc(e)?e:{value:e}}function Ac(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BR(t,e){return Ac(t,e.toTimestamp())}function ar(t){return Be(!!t),Se.fromTimestamp(function(n){const i=Di(n);return new ft(i.seconds,i.nanos)}(t))}function cp(t,e){return wf(t,e).canonicalString()}function wf(t,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function C0(t){const e=it.fromString(t);return Be(N0(e)),e}function Ef(t,e){return cp(t.databaseId,e.path)}function Gd(t,e){const n=C0(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(k0(n))}function R0(t,e){return cp(t.databaseId,e)}function zR(t){const e=C0(t);return e.length===4?it.emptyPath():k0(e)}function Tf(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k0(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sv(t,e,n){return{name:Ef(t,e),fields:n.value.mapValue.fields}}function $R(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,_){return y.useProto3Json?(Be(_===void 0||typeof _=="string"),bt.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),bt.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?J.UNKNOWN:T0(y.code);return new pe(_,y.message||"")}(c);n=new S0(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Gd(t,i.document.name),a=ar(i.document.updateTime),c=i.document.createTime?ar(i.document.createTime):Se.min(),d=new ln({mapValue:{fields:i.document.fields}}),p=Ht.newFoundDocument(o,a,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];n=new lc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Gd(t,i.document),a=i.readTime?ar(i.readTime):Se.min(),c=Ht.newNoDocument(o,a),d=i.removedTargetIds||[];n=new lc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Gd(t,i.document),a=i.removedTargetIds||[];n=new lc([],a,o,null)}else{if(!("filter"in e))return Ie();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new DR(o,a),d=i.targetId;n=new I0(d,c)}}return n}function HR(t,e){let n;if(e instanceof Cl)n={update:sv(t,e.key,e.value)};else if(e instanceof E0)n={delete:Ef(t,e.key)};else if(e instanceof bi)n={update:sv(t,e.key,e.data),updateMask:ZR(e.fieldMask)};else{if(!(e instanceof PR))return Ie();n={verify:Ef(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof Ic)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof cl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof hl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Ie()}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:BR(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie()}(t,e.precondition)),n}function WR(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(o,a){let c=o.updateTime?ar(o.updateTime):ar(a);return c.isEqual(Se.min())&&(c=ar(a)),new CR(c,o.transformResults||[])}(n,e))):[]}function qR(t,e){return{documents:[R0(t,e.path)]}}function KR(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=R0(t,o);const a=function(y){if(y.length!==0)return x0(hr.create(y,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(_=>function(I){return{field:vo(I.field),direction:YR(I.dir)}}(_))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=_f(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{_t:n,parent:o}}function GR(t){let e=zR(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Be(i===1);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];n.where&&(a=function(E){const I=P0(E);return I instanceof hr&&s0(I)?I.getFilters():[I]}(n.where));let c=[];n.orderBy&&(c=function(E){return E.map(I=>function(P){return new Tc(_o(P.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(I))}(n.orderBy));let d=null;n.limit&&(d=function(E){let I;return I=typeof E=="object"?E.value:E,Hc(I)?null:I}(n.limit));let p=null;n.startAt&&(p=function(E){const I=!!E.before,R=E.values||[];return new Ec(R,I)}(n.startAt));let y=null;return n.endAt&&(y=function(E){const I=!E.before,R=E.values||[];return new Ec(R,I)}(n.endAt)),dR(e,o,c,a,d,"F",p,y)}function QR(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function P0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=_o(n.unaryFilter.field);return _t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(n.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_o(n.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_o(n.unaryFilter.field);return _t.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return _t.create(_o(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(i=>P0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function YR(t){return MR[t]}function XR(t){return FR[t]}function JR(t){return UR[t]}function vo(t){return{fieldPath:t.canonicalString()}}function _o(t){return Dt.fromServerFormat(t.fieldPath)}function x0(t){return t instanceof _t?function(n){if(n.op==="=="){if(Wy(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(Hy(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wy(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(Hy(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:XR(n.op),value:n.value}}}(t):t instanceof hr?function(n){const i=n.getFilters().map(o=>x0(o));return i.length===1?i[0]:{compositeFilter:{op:JR(n.op),filters:i}}}(t):Ie()}function ZR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function N0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,i,o,a=Se.min(),c=Se.min(),d=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.ct=e}}function tk(t){const e=GR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.un=new rk}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Ni.min())}updateCollectionGroup(e,n,i){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class rk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Ot(it.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ot(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Lo(0)}static kn(){return new Lo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?X.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&rl(i.mutation,o,vn.empty(),ft.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Pe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Pe()){const o=hs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(a=>{let c=Qa();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Pe()))}populateOverlays(e,n,i){const o=[];return i.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,o){let a=Br();const c=nl(),d=function(){return nl()}();return n.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof bi)?a=a.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),rl(_.mutation,y,_.mutation.getFieldMask(),ft.now())):c.set(y.key,vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,_)=>c.set(y,_)),n.forEach((y,_)=>{var E;return d.set(y,new sk(_,(E=c.get(y))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,n){const i=nl();let o=new nt((c,d)=>c-d),a=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let _=i.get(p)||vn.empty();_=d.applyToLocalView(y,_),i.set(p,_);const E=(o.get(d.batchId)||Pe()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,E=f0();_.forEach(I=>{if(!a.has(I)){const R=_0(n.get(I),i.get(I));R!==null&&E.set(I,R),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):X.resolve(hs());let d=-1,p=a;return c.next(y=>X.forEach(y,(_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{p=p.insert(_,I)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,Pe())).next(_=>({batchId:d,changes:d0(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(i=>{let o=Qa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let c=Qa();return this.indexManager.getCollectionParents(e,a).next(d=>X.forEach(d,p=>{const y=function(E,I){return new Wc(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((E,I)=>{c=c.insert(E,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o))).next(c=>{a.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,Ht.newInvalidDocument(_)))});let d=Qa();return c.forEach((p,y)=>{const _=a.get(p);_!==void 0&&rl(_.mutation,y,vn.empty(),ft.now()),Gc(n,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ar(o.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:tk(o.bundledQuery),readTime:ar(o.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.overlays=new nt(ve.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const i=hs();return X.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,a)=>{this.ht(e,n,a)}),X.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(i)),X.resolve()}getOverlaysForCollection(e,n,i){const o=hs(),a=n.length+1,c=new ve(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new nt((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let _=a.get(y.largestBatchId);_===null&&(_=hs(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=hs(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return X.resolve(d)}ht(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new NR(n,i));let a=this.Ir.get(n);a===void 0&&(a=Pe(),this.Ir.set(n,a)),this.Ir.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.Tr=new Ot(Ct.Er),this.dr=new Ot(Ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new Ct(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new Ct(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new ve(new it([])),i=new Ct(n,e),o=new Ct(n,e+1),a=[];return this.dr.forEachInRange([i,o],c=>{this.Vr(c),a.push(c.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ve(new it([])),i=new Ct(n,e),o=new Ct(n,e+1);let a=Pe();return this.dr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new Ct(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ve.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ot(Ct.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new xR(a,n,i,o);this.mutationQueue.push(c);for(const d of o)this.br=this.br.add(new Ct(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.vr(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ct(n,0),o=new Ct(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],c=>{const d=this.Dr(c.wr);a.push(d)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ot(Me);return n.forEach(o=>{const a=new Ct(o,0),c=new Ct(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],d=>{i=i.add(d.wr)})}),X.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;ve.isDocumentKey(a)||(a=a.child(""));const c=new Ct(new ve(a),0);let d=new Ot(Me);return this.br.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.wr)),!0)},c),X.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach(i=>{const o=this.Dr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return X.forEach(n.mutations,o=>{const a=new Ct(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new Ct(n,0),o=this.br.firstAfterOrEqual(i);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.Mr=e,this.docs=function(){return new nt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return X.resolve(i?i.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let i=Br();return n.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Ht.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=Br();const c=n.path,d=new ve(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||KC(qC(_),i)<=0||(o.has(_.key)||Gc(n,_))&&(a=a.insert(_.key,_.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Ie()}Or(e,n){return X.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new dk(this)}getSize(e){return X.resolve(this.size)}}class dk extends ik{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.persistence=e,this.Nr=new Wo(n=>sp(n),op),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hp,this.targetCount=0,this.kr=Lo.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,o)=>n(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Lo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.Nr.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),X.waitFor(a).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return X.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),X.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return X.resolve(i)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n){this.qr={},this.overlays={},this.Qr=new tp(0),this.Kr=!1,this.Kr=!0,this.$r=new uk,this.referenceDelegate=e(this),this.Ur=new fk(this),this.indexManager=new nk,this.remoteDocumentCache=function(o){return new hk(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new ek(n),this.Gr=new ak(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new ck(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new mk(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(a=>this.referenceDelegate.jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Hr(e,n){return X.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class mk extends QC{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Jr=new hp,this.Yr=null}static Zr(e){return new dp(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),X.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.Xr.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,i=>{const o=ve.fromPath(i);return this.ei(e,o).next(a=>{a||n.removeEntry(o,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=o}static Wi(e,n){let i=Pe(),o=Pe();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new fp(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _S()?8:YC(Wt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.Yi(e,n).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Zi(e,n,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new gk;return this.Xi(e,n,c).next(d=>{if(a.result=d,this.zi)return this.es(e,n,c,d.size)})}).next(()=>a.result)}es(e,n,i,o){return i.documentReadCount<this.ji?(Ka()<=Ne.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(Ka()<=Ne.DEBUG&&ce("QueryEngine","Query:",yo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Ka()<=Ne.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):X.resolve())}Yi(e,n){if(Qy(n))return X.resolve(null);let i=sr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=vf(n,null,"F"),i=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Pe(...a);return this.Ji.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.ts(n,d);return this.ns(n,y,c,p.readTime)?this.Yi(e,vf(n,null,"F")):this.rs(e,y,n,p)}))})))}Zi(e,n,i,o){return Qy(n)||o.isEqual(Se.min())?X.resolve(null):this.Ji.getDocuments(e,i).next(a=>{const c=this.ts(n,a);return this.ns(n,c,i,o)?X.resolve(null):(Ka()<=Ne.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.rs(e,c,n,WC(o,-1)).next(d=>d))})}ts(e,n){let i=new Ot(c0(e));return n.forEach((o,a)=>{Gc(e,a)&&(i=i.add(a))}),i}ns(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,n,i){return Ka()<=Ne.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",yo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ni.min(),i)}rs(e,n,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,i,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new nt(Me),this._s=new Wo(a=>sp(a),op),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ok(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function _k(t,e,n,i){return new vk(t,e,n,i)}async function D0(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let p=Pe();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of a){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(i,p).next(y=>({hs:y,removedBatchIds:c,addedBatchIds:d}))})})}function wk(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const E=y.batch,I=E.keys();let R=X.resolve();return I.forEach(P=>{R=R.next(()=>_.getEntry(p,P)).next(j=>{const b=y.docVersions.get(P);Be(b!==null),j.version.compareTo(b)<0&&(E.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),_.addEntry(j)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Pe();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function O0(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Ek(t,e){const n=Ae(t),i=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const d=[];e.targetChanges.forEach((_,E)=>{const I=o.get(E);if(!I)return;d.push(n.Ur.removeMatchingKeys(a,_.removedDocuments,E).next(()=>n.Ur.addMatchingKeys(a,_.addedDocuments,E)));let R=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(bt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),o=o.insert(E,R),function(j,b,W){return j.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(I,R,_)&&d.push(n.Ur.updateTargetData(a,R))});let p=Br(),y=Pe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(Tk(a,c,e.documentUpdates).next(_=>{p=_.Ps,y=_.Is})),!i.isEqual(Se.min())){const _=n.Ur.getLastRemoteSnapshotVersion(a).next(E=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return X.waitFor(d).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(n.os=o,a))}function Tk(t,e,n){let i=Pe(),o=Pe();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let c=Br();return n.forEach((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ce("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Ps:c,Is:o}})}function Ik(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Sk(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Ur.getTargetData(i,e).next(a=>a?(o=a,X.resolve(o)):n.Ur.allocateTargetId(i).next(c=>(o=new Ei(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function If(t,e,n){const i=Ae(t),o=i.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Al(c))throw c;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function ov(t,e,n){const i=Ae(t);let o=Se.min(),a=Pe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const E=Ae(p),I=E._s.get(_);return I!==void 0?X.resolve(E.os.get(I)):E.Ur.getTargetData(y,_)}(i,c,sr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>i.ss.getDocumentsMatchingQuery(c,e,n?o:Se.min(),n?a:Pe())).next(d=>(Ak(i,mR(e),d),{documents:d,Ts:a})))}function Ak(t,e,n){let i=t.us.get(e)||Se.min();n.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.us.set(e,i)}class av{constructor(){this.activeTargetIds=ER()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ck{constructor(){this.so=new av,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new av,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Qd(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class xk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(n,i,o,a,c){const d=Qd(),p=this.xo(n,i.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(y,a,c),this.No(n,p,y,o).then(_=>(ce("RestConnection",`Received RPC '${n}' ${d}: `,_),_),_=>{throw xo("RestConnection",`RPC '${n}' ${d} failed with error: `,_,"url: ",p,"request:",o),_})}Lo(n,i,o,a,c,d){return this.Mo(n,i,o,a,c)}Oo(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>n[c]=a),o&&o.headers.forEach((a,c)=>n[c]=a)}xo(n,i){const o=kk[n];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,o){const a=Qd();return new Promise((c,d)=>{const p=new K_;p.setWithCredentials(!0),p.listenOnce(G_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case sc.NO_ERROR:const _=p.getResponseJson();ce(zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case sc.TIMEOUT:ce(zt,`RPC '${e}' ${a} timed out`),d(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const E=p.getStatus();if(ce(zt,`RPC '${e}' ${a} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I==null?void 0:I.error;if(R&&R.status&&R.message){const P=function(b){const W=b.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN}(R.status);d(new pe(P,R.message))}else d(new pe(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ce(zt,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);ce(zt,`RPC '${e}' ${a} sending request:`,o),p.send(n,"POST",y,i,15)})}Bo(e,n,i){const o=Qd(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=X_(),d=Y_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const _=a.join("");ce(zt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);let I=!1,R=!1;const P=new Pk({Io:b=>{R?ce(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(I||(ce(zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),ce(zt,`RPC '${e}' stream ${o} sending:`,b),E.send(b))},To:()=>E.close()}),j=(b,W,q)=>{b.listen(W,ee=>{try{q(ee)}catch(le){setTimeout(()=>{throw le},0)}})};return j(E,Ga.EventType.OPEN,()=>{R||(ce(zt,`RPC '${e}' stream ${o} transport opened.`),P.yo())}),j(E,Ga.EventType.CLOSE,()=>{R||(R=!0,ce(zt,`RPC '${e}' stream ${o} transport closed`),P.So())}),j(E,Ga.EventType.ERROR,b=>{R||(R=!0,xo(zt,`RPC '${e}' stream ${o} transport errored:`,b),P.So(new pe(J.UNAVAILABLE,"The operation could not be completed")))}),j(E,Ga.EventType.MESSAGE,b=>{var W;if(!R){const q=b.data[0];Be(!!q);const ee=q,le=ee.error||((W=ee[0])===null||W===void 0?void 0:W.error);if(le){ce(zt,`RPC '${e}' stream ${o} received error:`,le);const _e=le.status;let we=function(C){const N=ht[C];if(N!==void 0)return T0(N)}(_e),D=le.message;we===void 0&&(we=J.INTERNAL,D="Unknown error status: "+_e+" with message "+le.message),R=!0,P.So(new pe(we,D)),E.close()}else ce(zt,`RPC '${e}' stream ${o} received:`,q),P.bo(q)}}),j(d,Q_.STAT_EVENT,b=>{b.stat===ff.PROXY?ce(zt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===ff.NOPROXY&&ce(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){return new jR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,i,o,a,c,d,p){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new L0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===n&&this.P_(i,o)},i=>{e(()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nk extends b0{constructor(e,n,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,c),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=$R(this.serializer,e),i=function(a){if(!("targetChange"in a))return Se.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?ar(c.readTime):Se.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=Tf(this.serializer),n.addTarget=function(a,c){let d;const p=c.target;if(d=yf(p)?{documents:qR(a,p)}:{query:KR(a,p)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=A0(a,c.resumeToken);const y=_f(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=Ac(a,c.snapshotVersion.toTimestamp());const y=_f(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=QR(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=Tf(this.serializer),n.removeTarget=e,this.a_(n)}}class Dk extends b0{constructor(e,n,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=WR(e.writeResults,e.commitTime),i=ar(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=Tf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>HR(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok extends class{}{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Mo(e,wf(n,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(J.UNKNOWN,a.toString())})}Lo(e,n,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Lo(e,wf(n,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(J.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Lk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jr(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(c=>{i.enqueueAndForget(async()=>{Ts(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Ae(p);y.L_.add(4),await kl(y),y.q_.set("Unknown"),y.L_.delete(4),await Zc(y)}(this))})}),this.q_=new Lk(i,o)}}async function Zc(t){if(Ts(t))for(const e of t.B_)await e(!0)}async function kl(t){for(const e of t.B_)await e(!1)}function V0(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),yp(n)?gp(n):qo(n).r_()&&mp(n,e))}function pp(t,e){const n=Ae(t),i=qo(n);n.N_.delete(e),i.r_()&&M0(n,e),n.N_.size===0&&(i.r_()?i.o_():Ts(n)&&n.q_.set("Unknown"))}function mp(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(t).A_(e)}function M0(t,e){t.Q_.xe(e),qo(t).R_(e)}function gp(t){t.Q_=new VR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qo(t).start(),t.q_.v_()}function yp(t){return Ts(t)&&!qo(t).n_()&&t.N_.size>0}function Ts(t){return Ae(t).L_.size===0}function F0(t){t.Q_=void 0}async function Vk(t){t.q_.set("Online")}async function Mk(t){t.N_.forEach((e,n)=>{mp(t,e)})}async function Fk(t,e){F0(t),yp(t)?(t.q_.M_(e),gp(t)):t.q_.set("Unknown")}async function Uk(t,e,n){if(t.q_.set("Online"),e instanceof S0&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.N_.delete(d),o.Q_.removeTarget(d))}(t,e)}catch(i){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Cc(t,i)}else if(e instanceof lc?t.Q_.Ke(e):e instanceof I0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const i=await O0(t.localStore);n.compareTo(i)>=0&&await function(a,c){const d=a.Q_.rt(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.N_.get(y);_&&a.N_.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=a.N_.get(p);if(!_)return;a.N_.set(p,_.withResumeToken(bt.EMPTY_BYTE_STRING,_.snapshotVersion)),M0(a,p);const E=new Ei(_.target,p,y,_.sequenceNumber);mp(a,E)}),a.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){ce("RemoteStore","Failed to raise snapshot:",i),await Cc(t,i)}}async function Cc(t,e,n){if(!Al(e))throw e;t.L_.add(1),await kl(t),t.q_.set("Offline"),n||(n=()=>O0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Zc(t)})}function U0(t,e){return e().catch(n=>Cc(t,n,e))}async function eh(t){const e=Ae(t),n=Oi(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jk(e);)try{const o=await Ik(e.localStore,i);if(o===null){e.O_.length===0&&n.o_();break}i=o.batchId,Bk(e,o)}catch(o){await Cc(e,o)}j0(e)&&B0(e)}function jk(t){return Ts(t)&&t.O_.length<10}function Bk(t,e){t.O_.push(e);const n=Oi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function j0(t){return Ts(t)&&!Oi(t).n_()&&t.O_.length>0}function B0(t){Oi(t).start()}async function zk(t){Oi(t).p_()}async function $k(t){const e=Oi(t);for(const n of t.O_)e.m_(n.mutations)}async function Hk(t,e,n){const i=t.O_.shift(),o=lp.from(i,e,n);await U0(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await eh(t)}async function Wk(t,e){e&&Oi(t).V_&&await async function(i,o){if(function(c){return OR(c)&&c!==J.ABORTED}(o.code)){const a=i.O_.shift();Oi(i).s_(),await U0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await eh(i)}}(t,e),j0(t)&&B0(t)}async function uv(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const i=Ts(n);n.L_.add(3),await kl(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Zc(n)}async function qk(t,e){const n=Ae(t);e?(n.L_.delete(2),await Zc(n)):e||(n.L_.add(2),await kl(n),n.q_.set("Unknown"))}function qo(t){return t.K_||(t.K_=function(n,i,o){const a=Ae(n);return a.w_(),new Nk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Eo:Vk.bind(null,t),Ro:Mk.bind(null,t),mo:Fk.bind(null,t),d_:Uk.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),yp(t)?gp(t):t.q_.set("Unknown")):(await t.K_.stop(),F0(t))})),t.K_}function Oi(t){return t.U_||(t.U_=function(n,i,o){const a=Ae(n);return a.w_(),new Dk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zk.bind(null,t),mo:Wk.bind(null,t),f_:$k.bind(null,t),g_:Hk.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await eh(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const c=Date.now()+i,d=new vp(e,n,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(t,e){if(jr("AsyncQueue",`${e}: ${t}`),Al(t))return new pe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ve.comparator(n.key,i.key):(n,i)=>ve.comparator(n.key,i.key),this.keyedMap=Qa(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new Ro(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ro;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.W_=new nt(ve.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class bo{constructor(e,n,i,o,a,c,d,p,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,a){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new bo(e,n,Ro.emptySet(n),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Gk{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const o=Ae(n),a=o.queries;o.queries=hv(),a.forEach((c,d)=>{for(const p of d.j_)p.onError(i)})})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function hv(){return new Wo(t=>u0(t),Kc)}async function z0(t,e){const n=Ae(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new Kk,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await n.onListen(o,!0);break;case 1:a.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=_p(c,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&wp(n)}async function $0(t,e){const n=Ae(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Qk(t,e){const n=Ae(t);let i=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const d of c.j_)d.X_(o)&&(i=!0);c.z_=o}}i&&wp(n)}function Yk(t,e,n){const i=Ae(t),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(n);i.queries.delete(e)}function wp(t){t.Y_.forEach(e=>{e.next()})}var Sf,dv;(dv=Sf||(Sf={})).ea="default",dv.Cache="cache";class H0{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new bo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Sf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.key=e}}class q0{constructor(e){this.key=e}}class Xk{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=c0(e),this.Ra=new Ro(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new cv,o=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const I=o.get(_),R=Gc(this.query,E)?E:null,P=!!I&&this.mutatedKeys.has(I.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let b=!1;I&&R?I.data.isEqual(R.data)?P!==j&&(i.track({type:3,doc:R}),b=!0):this.ga(I,R)||(i.track({type:2,doc:R}),b=!0,(p&&this.Aa(R,p)>0||y&&this.Aa(R,y)<0)&&(d=!0)):!I&&R?(i.track({type:0,doc:R}),b=!0):I&&!R&&(i.track({type:1,doc:I}),b=!0,(p||y)&&(d=!0)),b&&(R?(c=c.add(R),a=j?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{Ra:c,fa:i,ns:d,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort((_,E)=>function(R,P){const j=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return j(R)-j(P)}(_.type,E.type)||this.Aa(_.doc,E.doc)),this.pa(i),o=o!=null&&o;const d=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,y=p!==this.Ea;return this.Ea=p,c.length!==0||y?{snapshot:new bo(this.query,e.Ra,a,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new q0(i))}),this.da.forEach(i=>{e.has(i)||n.push(new W0(i))}),n}ba(e){this.Ta=e.Ts,this.da=Pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return bo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Jk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Zk{constructor(e){this.key=e,this.va=!1}}class eP{constructor(e,n,i,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Wo(d=>u0(d),Kc),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(ve.comparator),this.Na=new Map,this.La=new hp,this.Ba={},this.ka=new Map,this.qa=Lo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function tP(t,e,n=!0){const i=J0(t);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await K0(i,e,n,!0),o}async function nP(t,e){const n=J0(t);await K0(n,e,!0,!1)}async function K0(t,e,n,i){const o=await Sk(t.localStore,sr(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let d;return i&&(d=await rP(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&V0(t.remoteStore,o),d}async function rP(t,e,n,i,o){t.Ka=(E,I,R)=>async function(j,b,W,q){let ee=b.view.ma(W);ee.ns&&(ee=await ov(j.localStore,b.query,!1).then(({documents:D})=>b.view.ma(D,ee)));const le=q&&q.targetChanges.get(b.targetId),_e=q&&q.targetMismatches.get(b.targetId)!=null,we=b.view.applyChanges(ee,j.isPrimaryClient,le,_e);return pv(j,b.targetId,we.wa),we.snapshot}(t,E,I,R);const a=await ov(t.localStore,e,!0),c=new Xk(e,a.Ts),d=c.ma(a.documents),p=Rl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),y=c.applyChanges(d,t.isPrimaryClient,p);pv(t,n,y.wa);const _=new Jk(e,n,c);return t.Fa.set(e,_),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),y.snapshot}async function iP(t,e,n){const i=Ae(t),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter(c=>!Kc(c,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await If(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&pp(i.remoteStore,o.targetId),Af(i,o.targetId)}).catch(Sl)):(Af(i,o.targetId),await If(i.localStore,o.targetId,!0))}async function sP(t,e){const n=Ae(t),i=n.Fa.get(e),o=n.Ma.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),pp(n.remoteStore,i.targetId))}async function oP(t,e,n){const i=fP(t);try{const o=await function(c,d){const p=Ae(c),y=ft.now(),_=d.reduce((R,P)=>R.add(P.key),Pe());let E,I;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let P=Br(),j=Pe();return p.cs.getEntries(R,_).next(b=>{P=b,P.forEach((W,q)=>{q.isValidDocument()||(j=j.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,P)).next(b=>{E=b;const W=[];for(const q of d){const ee=kR(q,E.get(q.key).overlayedDocument);ee!=null&&W.push(new bi(q.key,ee,n0(ee.value.mapValue),or.exists(!0)))}return p.mutationQueue.addMutationBatch(R,y,W,d)}).next(b=>{I=b;const W=b.applyToLocalDocumentSet(E,j);return p.documentOverlayCache.saveOverlays(R,b.batchId,W)})}).then(()=>({batchId:I.batchId,changes:d0(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.Ba[c.currentUser.toKey()];y||(y=new nt(Me)),y=y.insert(d,p),c.Ba[c.currentUser.toKey()]=y}(i,o.batchId,n),await Pl(i,o.changes),await eh(i.remoteStore)}catch(o){const a=_p(o,"Failed to persist write");n.reject(a)}}async function G0(t,e){const n=Ae(t);try{const i=await Ek(n.localStore,e);e.targetChanges.forEach((o,a)=>{const c=n.Na.get(a);c&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Be(c.va):o.removedDocuments.size>0&&(Be(c.va),c.va=!1))}),await Pl(n,i,e)}catch(i){await Sl(i)}}function fv(t,e,n){const i=Ae(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Fa.forEach((a,c)=>{const d=c.view.Z_(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Ae(c);p.onlineState=d;let y=!1;p.queries.forEach((_,E)=>{for(const I of E.j_)I.Z_(d)&&(y=!0)}),y&&wp(p)}(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function aP(t,e,n){const i=Ae(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Na.get(e),a=o&&o.key;if(a){let c=new nt(ve.comparator);c=c.insert(a,Ht.newNoDocument(a,Se.min()));const d=Pe().add(a),p=new Xc(Se.min(),new Map,new nt(Me),c,d);await G0(i,p),i.Oa=i.Oa.remove(a),i.Na.delete(e),Ep(i)}else await If(i.localStore,e,!1).then(()=>Af(i,e,n)).catch(Sl)}async function lP(t,e){const n=Ae(t),i=e.batch.batchId;try{const o=await wk(n.localStore,e);Y0(n,i,null),Q0(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pl(n,o)}catch(o){await Sl(o)}}async function uP(t,e,n){const i=Ae(t);try{const o=await function(c,d){const p=Ae(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(E=>(Be(E!==null),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);Y0(i,e,n),Q0(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pl(i,o)}catch(o){await Sl(o)}}function Q0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Y0(t,e,n){const i=Ae(t);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function Af(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||X0(t,i)})}function X0(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(pp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ep(t))}function pv(t,e,n){for(const i of n)i instanceof W0?(t.La.addReference(i.key,e),cP(t,i)):i instanceof q0?(ce("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||X0(t,i.key)):Ie()}function cP(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(ce("SyncEngine","New document in limbo: "+n),t.xa.add(i),Ep(t))}function Ep(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ve(it.fromString(e)),i=t.qa.next();t.Na.set(i,new Zk(n)),t.Oa=t.Oa.insert(n,i),V0(t.remoteStore,new Ei(sr(qc(n.path)),i,"TargetPurposeLimboResolution",tp.oe))}}async function Pl(t,e,n){const i=Ae(t),o=[],a=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach((d,p)=>{c.push(i.Ka(p,e,n).then(y=>{var _;if((y||n)&&i.isPrimaryClient){const E=y?!y.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=fp.Wi(p.targetId,y);a.push(E)}}))}),await Promise.all(c),i.Ca.d_(o),await async function(p,y){const _=Ae(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>X.forEach(y,I=>X.forEach(I.$i,R=>_.persistence.referenceDelegate.addReference(E,I.targetId,R)).next(()=>X.forEach(I.Ui,R=>_.persistence.referenceDelegate.removeReference(E,I.targetId,R)))))}catch(E){if(!Al(E))throw E;ce("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const I=E.targetId;if(!E.fromCache){const R=_.os.get(I),P=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(P);_.os=_.os.insert(I,j)}}}(i.localStore,a))}async function hP(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const i=await D0(n.localStore,e);n.currentUser=e,function(a,c){a.ka.forEach(d=>{d.forEach(p=>{p.reject(new pe(J.CANCELLED,c))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pl(n,i.hs)}}function dP(t,e){const n=Ae(t),i=n.Na.get(e);if(i&&i.va)return Pe().add(i.key);{let o=Pe();const a=n.Ma.get(e);if(!a)return o;for(const c of a){const d=n.Fa.get(c);o=o.unionWith(d.view.Va)}return o}}function J0(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aP.bind(null,e),e.Ca.d_=Qk.bind(null,e.eventManager),e.Ca.$a=Yk.bind(null,e.eventManager),e}function fP(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uP.bind(null,e),e}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return _k(this.persistence,new yk,e.initialUser,this.serializer)}Ga(e){return new pk(dp.Zr,this.serializer)}Wa(e){return new Ck}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class Cf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hP.bind(null,this.syncEngine),await qk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Gk}()}createDatastore(e){const n=Jc(e.databaseInfo.databaseId),i=function(a){return new xk(a)}(e.databaseInfo);return function(a,c,d,p){return new Ok(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,a,c,d){return new bk(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>fv(this.syncEngine,n,0),function(){return lv.D()?new lv:new Rk}())}createSyncEngine(e,n){return function(o,a,c,d,p,y,_){const E=new eP(o,a,c,d,p,y);return _&&(E.Qa=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=Ae(o);ce("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await kl(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cf.provider={build:()=>new Cf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Z_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{ce("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ce("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=_p(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Xd(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await D0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mP(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>uv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>uv(e.remoteStore,o)),t._onlineComponents=e}async function mP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Xd(t,new Rc)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Xd(t,new Rc);return t._offlineComponents}async function ew(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await mv(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await mv(t,new Cf))),t._onlineComponents}function gP(t){return ew(t).then(e=>e.syncEngine)}async function Rf(t){const e=await ew(t),n=e.eventManager;return n.onListen=tP.bind(null,e.syncEngine),n.onUnlisten=iP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sP.bind(null,e.syncEngine),n}function yP(t,e,n={}){const i=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,y){const _=new Z0({next:I=>{_.Za(),c.enqueueAndForget(()=>$0(a,E));const R=I.docs.has(d);!R&&I.fromCache?y.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&I.fromCache&&p&&p.source==="server"?y.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new H0(qc(d.path),_,{includeMetadataChanges:!0,_a:!0});return z0(a,E)}(await Rf(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e,n){if(!n)throw new pe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _P(t,e,n,i){if(e===!0&&i===!0)throw new pe(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yv(t){if(!ve.isDocumentKey(t))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tp(t);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_P("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ip{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new VC;switch(i.type){case"firstParty":return new jC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=gv.get(n);i&&(ce("ComponentProvider","Removing Datastore"),gv.delete(n),i.terminate())}(this),Promise.resolve()}}function wP(t,e,n,i={}){var o;const a=(t=lr(t,Ip))._getSettings(),c=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=$t.MOCK_USER;else{d=dS(i.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new $t(y)}t._authCredentials=new MC(new J_(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new th(this.firestore,e,this._query)}}class cn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class dl extends th{constructor(e,n,i){super(e,n,qc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ve(e))}withConverter(e){return new dl(this.firestore,e,this._path)}}function Ko(t,e,...n){if(t=qt(t),arguments.length===1&&(e=Z_.newId()),vP("doc","path",e),t instanceof Ip){const i=it.fromString(e,...n);return yv(i),new cn(t,null,new ve(i))}{if(!(t instanceof cn||t instanceof dl))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return yv(i),new cn(t.firestore,t instanceof dl?t.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new L0(this,"async_queue_retry"),this.Vu=()=>{const i=Yd();i&&ce("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=Yd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ri;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Al(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw jr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=vp.createAndSchedule(this,e,n,i,a=>this.yu(a));return this.Tu.push(o),o}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function wv(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Vo extends Ip{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new _v,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _v(e),this._firestoreClient=void 0,await e}}}function EP(t,e){const n=typeof t=="object"?t:u_(),i=typeof t=="string"?t:"(default)",o=Wf(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=cS("firestore");a&&wP(o,...a)}return o}function Sp(t){if(t._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TP(t),t._firestoreClient}function TP(t){var e,n,i;const o=t._freezeSettings(),a=function(d,p,y,_){return new ZC(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,tw(_.experimentalLongPollingOptions),_.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new pP(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(bt.fromBase64String(e))}catch(n){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=/^__.*__$/;class SP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cl(e,this.data,n,this.fieldTransforms)}}class nw{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class kp{constructor(e,n,i,o,a,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return kc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rw(this.Cu)&&IP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AP{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Jc(e)}Qu(e,n,i,o=!1){return new kp({Cu:e,methodName:n,qu:i,path:Dt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iw(t){const e=t._freezeSettings(),n=Jc(t._databaseId);return new AP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CP(t,e,n,i,o,a={}){const c=t.Qu(a.merge||a.mergeFields?2:0,e,n,o);Pp("Data must be an object, but it was:",c,i);const d=sw(i,c);let p,y;if(a.merge)p=new vn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const I=kf(e,E,n);if(!c.contains(I))throw new pe(J.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);aw(_,I)||_.push(I)}p=new vn(_),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new SP(new ln(d),p,y)}class xl extends Ap{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xl}}function RP(t,e,n,i){const o=t.Qu(1,e,n);Pp("Data must be an object, but it was:",o,i);const a=[],c=ln.empty();Es(i,(p,y)=>{const _=xp(e,p,n);y=qt(y);const E=o.Nu(_);if(y instanceof xl)a.push(_);else{const I=rh(y,E);I!=null&&(a.push(_),c.set(_,I))}});const d=new vn(a);return new nw(c,d,o.fieldTransforms)}function kP(t,e,n,i,o,a){const c=t.Qu(1,e,n),d=[kf(e,i,n)],p=[o];if(a.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)d.push(kf(e,a[I])),p.push(a[I+1]);const y=[],_=ln.empty();for(let I=d.length-1;I>=0;--I)if(!aw(y,d[I])){const R=d[I];let P=p[I];P=qt(P);const j=c.Nu(R);if(P instanceof xl)y.push(R);else{const b=rh(P,j);b!=null&&(y.push(R),_.set(R,b))}}const E=new vn(y);return new nw(_,E,c.fieldTransforms)}function rh(t,e){if(ow(t=qt(t)))return Pp("Unsupported field value:",e,t),sw(t,e);if(t instanceof Ap)return function(i,o){if(!rw(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let p=rh(d,o.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(t,e)}return function(i,o){if((i=qt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=ft.fromDate(i);return{timestampValue:Ac(o.serializer,a)}}if(i instanceof ft){const a=new ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ac(o.serializer,a)}}if(i instanceof Cp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mo)return{bytesValue:A0(o.serializer,i._byteString)};if(i instanceof cn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:cp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Rp)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Bu("VectorValues must only contain numeric values.");return ap(d.serializer,p)})}}}}}}(i,o);throw o.Bu(`Unsupported field value: ${Tp(i)}`)}(t,e)}function sw(t,e){const n={};return e0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(t,(i,o)=>{const a=rh(o,e.Mu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function ow(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Cp||t instanceof Mo||t instanceof cn||t instanceof Ap||t instanceof Rp)}function Pp(t,e,n){if(!ow(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=Tp(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function kf(t,e,n){if((e=qt(e))instanceof nh)return e._internalPath;if(typeof e=="string")return xp(t,e);throw kc("Field path arguments must be of type string or ",t,!1,void 0,n)}const PP=new RegExp("[~\\*/\\[\\]]");function xp(t,e,n){if(e.search(PP)>=0)throw kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nh(...e.split("."))._internalPath}catch{throw kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kc(t,e,n,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new pe(J.INVALID_ARGUMENT,d+t+p)}function aw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xP extends lw{data(){return super.data()}}function uw(t,e){return typeof e=="string"?xp(t,e):e instanceof nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DP{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Es(e,(o,a)=>{i[o]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,o;const a=(o=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>lt(c.doubleValue));return new Rp(a)}convertGeoPoint(e){return new Cp(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=rp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){const n=Di(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=it.fromString(e);Be(N0(i));const o=new ll(i.get(1),i.get(3)),a=new ve(i.popFirst(5));return o.isEqual(n)||jr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cw extends lw{constructor(e,n,i,o,a,c){super(e,n,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(uw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class uc extends cw{data(e={}){return super.data(e)}}class LP{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xa(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new uc(this._firestore,this._userDataWriter,i.key,i,new Xa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new uc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Xa(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new uc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Xa(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:bP(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){t=lr(t,cn);const e=lr(t.firestore,Vo);return yP(Sp(e),t._key).then(n=>mw(e,t,n))}class hw extends DP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function dw(t,e,n){t=lr(t,cn);const i=lr(t.firestore,Vo),o=OP(t.converter,e);return pw(i,[CP(iw(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,or.none())])}function fw(t,e,n,...i){t=lr(t,cn);const o=lr(t.firestore,Vo),a=iw(o);let c;return c=typeof(e=qt(e))=="string"||e instanceof nh?kP(a,"updateDoc",t._key,e,n,i):RP(a,"updateDoc",t._key,e),pw(o,[c.toMutation(t._key,or.exists(!0))])}function VP(t,...e){var n,i,o;t=qt(t);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||wv(e[c])||(a=e[c],c++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(wv(e[c])){const E=e[c];e[c]=(n=E.next)===null||n===void 0?void 0:n.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let p,y,_;if(t instanceof cn)y=lr(t.firestore,Vo),_=qc(t._key.path),p={next:E=>{e[c]&&e[c](mw(y,t,E))},error:e[c+1],complete:e[c+2]};else{const E=lr(t,th);y=lr(E.firestore,Vo),_=E._query;const I=new hw(y);p={next:R=>{e[c]&&e[c](new LP(y,I,E,R))},error:e[c+1],complete:e[c+2]},NP(t._query)}return function(I,R,P,j){const b=new Z0(j),W=new H0(R,b,P);return I.asyncQueue.enqueueAndForget(async()=>z0(await Rf(I),W)),()=>{b.Za(),I.asyncQueue.enqueueAndForget(async()=>$0(await Rf(I),W))}}(Sp(y),_,d,p)}function pw(t,e){return function(i,o){const a=new Ri;return i.asyncQueue.enqueueAndForget(async()=>oP(await gP(i),o,a)),a.promise}(Sp(t),e)}function mw(t,e,n){const i=n.docs.get(e._key),o=new hw(t);return new cw(t,o,e._key,i,new Xa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){return new xl("deleteField")}(function(e,n=!0){(function(o){Ho=o})($o),ko(new ps("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new Vo(new FC(i.getProvider("auth-internal")),new zC(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(y.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ai(Uy,"4.7.3",e),Ai(Uy,"4.7.3","esm2017")})();var FP="firebase",UP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(FP,UP,"app");const jP={apiKey:"AIzaSyCAYOYDuMKGGjTSJL5uDzG5hjQ6y_vYPiI",authDomain:"auction-website-b12fc.firebaseapp.com",databaseURL:"https://auction-website-b12fc.firebaseio.com",projectId:"auction-website-b12fc",storageBucket:"auction-website-b12fc.appspot.com",messagingSenderId:"791747024664",appId:"1:791747024664:web:215a222a81c6d0c2aeb06d"},gw=l_(jP),Go=EP(gw),Fo=LC(gw),BP=()=>{const[t,e]=z.useState(null),[n,i]=z.useState(!1);return z.useEffect(()=>{const o=b_(Fo,a=>{if(a&&a.displayName){console.debug(`Signed-in: name=${a.displayName}, uid=${a.uid}`),e(a);const c=Ko(Go,"users",a.uid);Np(c).then(d=>{d.exists()&&d.data().admin&&(console.debug("User is admin"),i(!0))})}else g1(Fo)});return()=>o()},[]),{user:t,admin:n}};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function yw(t){return typeof t>"u"||t===null}function zP(t){return typeof t=="object"&&t!==null}function $P(t){return Array.isArray(t)?t:yw(t)?[]:[t]}function HP(t,e){var n,i,o,a;if(e)for(a=Object.keys(e),n=0,i=a.length;n<i;n+=1)o=a[n],t[o]=e[o];return t}function WP(t,e){var n="",i;for(i=0;i<e;i+=1)n+=t;return n}function qP(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var KP=yw,GP=zP,QP=$P,YP=WP,XP=qP,JP=HP,wt={isNothing:KP,isObject:GP,toArray:QP,repeat:YP,isNegativeZero:XP,extend:JP};function vw(t,e){var n="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),i+" "+n):i}function fl(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=vw(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}fl.prototype=Object.create(Error.prototype);fl.prototype.constructor=fl;fl.prototype.toString=function(e){return this.name+": "+vw(this,e)};var Jt=fl;function Jd(t,e,n,i,o){var a="",c="",d=Math.floor(o/2)-1;return i-e>d&&(a=" ... ",e=i-d+a.length),n-i>d&&(c=" ...",n=i+d-c.length),{str:a+t.slice(e,n).replace(/\t/g,"")+c,pos:i-e+a.length}}function Zd(t,e){return wt.repeat(" ",e-t.length)+t}function ZP(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],o=[],a,c=-1;a=n.exec(t.buffer);)o.push(a.index),i.push(a.index+a[0].length),t.position<=a.index&&c<0&&(c=i.length-2);c<0&&(c=i.length-1);var d="",p,y,_=Math.min(t.line+e.linesAfter,o.length).toString().length,E=e.maxLength-(e.indent+_+3);for(p=1;p<=e.linesBefore&&!(c-p<0);p++)y=Jd(t.buffer,i[c-p],o[c-p],t.position-(i[c]-i[c-p]),E),d=wt.repeat(" ",e.indent)+Zd((t.line-p+1).toString(),_)+" | "+y.str+`
`+d;for(y=Jd(t.buffer,i[c],o[c],t.position,E),d+=wt.repeat(" ",e.indent)+Zd((t.line+1).toString(),_)+" | "+y.str+`
`,d+=wt.repeat("-",e.indent+_+3+y.pos)+`^
`,p=1;p<=e.linesAfter&&!(c+p>=o.length);p++)y=Jd(t.buffer,i[c+p],o[c+p],t.position-(i[c]-i[c+p]),E),d+=wt.repeat(" ",e.indent)+Zd((t.line+p+1).toString(),_)+" | "+y.str+`
`;return d.replace(/\n$/,"")}var ex=ZP,tx=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],nx=["scalar","sequence","mapping"];function rx(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(i){e[String(i)]=n})}),e}function ix(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(tx.indexOf(n)===-1)throw new Jt('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=rx(e.styleAliases||null),nx.indexOf(this.kind)===-1)throw new Jt('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Lt=ix;function Ev(t,e){var n=[];return t[e].forEach(function(i){var o=n.length;n.forEach(function(a,c){a.tag===i.tag&&a.kind===i.kind&&a.multi===i.multi&&(o=c)}),n[o]=i}),n}function sx(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function i(o){o.multi?(t.multi[o.kind].push(o),t.multi.fallback.push(o)):t[o.kind][o.tag]=t.fallback[o.tag]=o}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(i);return t}function Pf(t){return this.extend(t)}Pf.prototype.extend=function(e){var n=[],i=[];if(e instanceof Lt)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new Jt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof Lt))throw new Jt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Jt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Jt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(a){if(!(a instanceof Lt))throw new Jt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(Pf.prototype);return o.implicit=(this.implicit||[]).concat(n),o.explicit=(this.explicit||[]).concat(i),o.compiledImplicit=Ev(o,"implicit"),o.compiledExplicit=Ev(o,"explicit"),o.compiledTypeMap=sx(o.compiledImplicit,o.compiledExplicit),o};var _w=Pf,ww=new Lt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),Ew=new Lt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),Tw=new Lt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Iw=new _w({explicit:[ww,Ew,Tw]});function ox(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function ax(){return null}function lx(t){return t===null}var Sw=new Lt("tag:yaml.org,2002:null",{kind:"scalar",resolve:ox,construct:ax,predicate:lx,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function ux(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function cx(t){return t==="true"||t==="True"||t==="TRUE"}function hx(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Aw=new Lt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:ux,construct:cx,predicate:hx,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function dx(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function fx(t){return 48<=t&&t<=55}function px(t){return 48<=t&&t<=57}function mx(t){if(t===null)return!1;var e=t.length,n=0,i=!1,o;if(!e)return!1;if(o=t[n],(o==="-"||o==="+")&&(o=t[++n]),o==="0"){if(n+1===e)return!0;if(o=t[++n],o==="b"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(o!=="0"&&o!=="1")return!1;i=!0}return i&&o!=="_"}if(o==="x"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(!dx(t.charCodeAt(n)))return!1;i=!0}return i&&o!=="_"}if(o==="o"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(!fx(t.charCodeAt(n)))return!1;i=!0}return i&&o!=="_"}}if(o==="_")return!1;for(;n<e;n++)if(o=t[n],o!=="_"){if(!px(t.charCodeAt(n)))return!1;i=!0}return!(!i||o==="_")}function gx(t){var e=t,n=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function yx(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!wt.isNegativeZero(t)}var Cw=new Lt("tag:yaml.org,2002:int",{kind:"scalar",resolve:mx,construct:gx,predicate:yx,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),vx=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function _x(t){return!(t===null||!vx.test(t)||t[t.length-1]==="_")}function wx(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var Ex=/^[-+]?[0-9]+e/;function Tx(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(wt.isNegativeZero(t))return"-0.0";return n=t.toString(10),Ex.test(n)?n.replace("e",".e"):n}function Ix(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||wt.isNegativeZero(t))}var Rw=new Lt("tag:yaml.org,2002:float",{kind:"scalar",resolve:_x,construct:wx,predicate:Ix,represent:Tx,defaultStyle:"lowercase"}),kw=Iw.extend({implicit:[Sw,Aw,Cw,Rw]}),Pw=kw,xw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Nw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Sx(t){return t===null?!1:xw.exec(t)!==null||Nw.exec(t)!==null}function Ax(t){var e,n,i,o,a,c,d,p=0,y=null,_,E,I;if(e=xw.exec(t),e===null&&(e=Nw.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],i=+e[2]-1,o=+e[3],!e[4])return new Date(Date.UTC(n,i,o));if(a=+e[4],c=+e[5],d=+e[6],e[7]){for(p=e[7].slice(0,3);p.length<3;)p+="0";p=+p}return e[9]&&(_=+e[10],E=+(e[11]||0),y=(_*60+E)*6e4,e[9]==="-"&&(y=-y)),I=new Date(Date.UTC(n,i,o,a,c,d,p)),y&&I.setTime(I.getTime()-y),I}function Cx(t){return t.toISOString()}var Dw=new Lt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Sx,construct:Ax,instanceOf:Date,represent:Cx});function Rx(t){return t==="<<"||t===null}var Ow=new Lt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Rx}),Dp=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function kx(t){if(t===null)return!1;var e,n,i=0,o=t.length,a=Dp;for(n=0;n<o;n++)if(e=a.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function Px(t){var e,n,i=t.replace(/[\r\n=]/g,""),o=i.length,a=Dp,c=0,d=[];for(e=0;e<o;e++)e%4===0&&e&&(d.push(c>>16&255),d.push(c>>8&255),d.push(c&255)),c=c<<6|a.indexOf(i.charAt(e));return n=o%4*6,n===0?(d.push(c>>16&255),d.push(c>>8&255),d.push(c&255)):n===18?(d.push(c>>10&255),d.push(c>>2&255)):n===12&&d.push(c>>4&255),new Uint8Array(d)}function xx(t){var e="",n=0,i,o,a=t.length,c=Dp;for(i=0;i<a;i++)i%3===0&&i&&(e+=c[n>>18&63],e+=c[n>>12&63],e+=c[n>>6&63],e+=c[n&63]),n=(n<<8)+t[i];return o=a%3,o===0?(e+=c[n>>18&63],e+=c[n>>12&63],e+=c[n>>6&63],e+=c[n&63]):o===2?(e+=c[n>>10&63],e+=c[n>>4&63],e+=c[n<<2&63],e+=c[64]):o===1&&(e+=c[n>>2&63],e+=c[n<<4&63],e+=c[64],e+=c[64]),e}function Nx(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Lw=new Lt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:kx,construct:Px,predicate:Nx,represent:xx}),Dx=Object.prototype.hasOwnProperty,Ox=Object.prototype.toString;function Lx(t){if(t===null)return!0;var e=[],n,i,o,a,c,d=t;for(n=0,i=d.length;n<i;n+=1){if(o=d[n],c=!1,Ox.call(o)!=="[object Object]")return!1;for(a in o)if(Dx.call(o,a))if(!c)c=!0;else return!1;if(!c)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}function bx(t){return t!==null?t:[]}var bw=new Lt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Lx,construct:bx}),Vx=Object.prototype.toString;function Mx(t){if(t===null)return!0;var e,n,i,o,a,c=t;for(a=new Array(c.length),e=0,n=c.length;e<n;e+=1){if(i=c[e],Vx.call(i)!=="[object Object]"||(o=Object.keys(i),o.length!==1))return!1;a[e]=[o[0],i[o[0]]]}return!0}function Fx(t){if(t===null)return[];var e,n,i,o,a,c=t;for(a=new Array(c.length),e=0,n=c.length;e<n;e+=1)i=c[e],o=Object.keys(i),a[e]=[o[0],i[o[0]]];return a}var Vw=new Lt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Mx,construct:Fx}),Ux=Object.prototype.hasOwnProperty;function jx(t){if(t===null)return!0;var e,n=t;for(e in n)if(Ux.call(n,e)&&n[e]!==null)return!1;return!0}function Bx(t){return t!==null?t:{}}var Mw=new Lt("tag:yaml.org,2002:set",{kind:"mapping",resolve:jx,construct:Bx}),Op=Pw.extend({implicit:[Dw,Ow],explicit:[Lw,bw,Vw,Mw]}),Li=Object.prototype.hasOwnProperty,Pc=1,Fw=2,Uw=3,xc=4,ef=1,zx=2,Tv=3,$x=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Hx=/[\x85\u2028\u2029]/,Wx=/[,\[\]\{\}]/,jw=/^(?:!|!!|![a-z\-]+!)$/i,Bw=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Iv(t){return Object.prototype.toString.call(t)}function ur(t){return t===10||t===13}function fs(t){return t===9||t===32}function un(t){return t===9||t===32||t===10||t===13}function To(t){return t===44||t===91||t===93||t===123||t===125}function qx(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function Kx(t){return t===120?2:t===117?4:t===85?8:0}function Gx(t){return 48<=t&&t<=57?t-48:-1}function Sv(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}function Qx(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var zw=new Array(256),$w=new Array(256);for(var go=0;go<256;go++)zw[go]=Sv(go)?1:0,$w[go]=Sv(go);function Yx(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||Op,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Hw(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=ex(n),new Jt(e,n)}function fe(t,e){throw Hw(t,e)}function Nc(t,e){t.onWarning&&t.onWarning.call(null,Hw(t,e))}var Av={YAML:function(e,n,i){var o,a,c;e.version!==null&&fe(e,"duplication of %YAML directive"),i.length!==1&&fe(e,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),o===null&&fe(e,"ill-formed argument of the YAML directive"),a=parseInt(o[1],10),c=parseInt(o[2],10),a!==1&&fe(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=c<2,c!==1&&c!==2&&Nc(e,"unsupported YAML version of the document")},TAG:function(e,n,i){var o,a;i.length!==2&&fe(e,"TAG directive accepts exactly two arguments"),o=i[0],a=i[1],jw.test(o)||fe(e,"ill-formed tag handle (first argument) of the TAG directive"),Li.call(e.tagMap,o)&&fe(e,'there is a previously declared suffix for "'+o+'" tag handle'),Bw.test(a)||fe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{fe(e,"tag prefix is malformed: "+a)}e.tagMap[o]=a}};function ki(t,e,n,i){var o,a,c,d;if(e<n){if(d=t.input.slice(e,n),i)for(o=0,a=d.length;o<a;o+=1)c=d.charCodeAt(o),c===9||32<=c&&c<=1114111||fe(t,"expected valid JSON character");else $x.test(d)&&fe(t,"the stream contains non-printable characters");t.result+=d}}function Cv(t,e,n,i){var o,a,c,d;for(wt.isObject(n)||fe(t,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(n),c=0,d=o.length;c<d;c+=1)a=o[c],Li.call(e,a)||(e[a]=n[a],i[a]=!0)}function Io(t,e,n,i,o,a,c,d,p){var y,_;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),y=0,_=o.length;y<_;y+=1)Array.isArray(o[y])&&fe(t,"nested arrays are not supported inside keys"),typeof o=="object"&&Iv(o[y])==="[object Object]"&&(o[y]="[object Object]");if(typeof o=="object"&&Iv(o)==="[object Object]"&&(o="[object Object]"),o=String(o),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(y=0,_=a.length;y<_;y+=1)Cv(t,e,a[y],n);else Cv(t,e,a,n);else!t.json&&!Li.call(n,o)&&Li.call(e,o)&&(t.line=c||t.line,t.lineStart=d||t.lineStart,t.position=p||t.position,fe(t,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(e,o,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[o]=a,delete n[o];return e}function Lp(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):fe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function dt(t,e,n){for(var i=0,o=t.input.charCodeAt(t.position);o!==0;){for(;fs(o);)o===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),o=t.input.charCodeAt(++t.position);if(e&&o===35)do o=t.input.charCodeAt(++t.position);while(o!==10&&o!==13&&o!==0);if(ur(o))for(Lp(t),o=t.input.charCodeAt(t.position),i++,t.lineIndent=0;o===32;)t.lineIndent++,o=t.input.charCodeAt(++t.position);else break}return n!==-1&&i!==0&&t.lineIndent<n&&Nc(t,"deficient indentation"),i}function ih(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||un(n)))}function bp(t,e){e===1?t.result+=" ":e>1&&(t.result+=wt.repeat(`
`,e-1))}function Xx(t,e,n){var i,o,a,c,d,p,y,_,E=t.kind,I=t.result,R;if(R=t.input.charCodeAt(t.position),un(R)||To(R)||R===35||R===38||R===42||R===33||R===124||R===62||R===39||R===34||R===37||R===64||R===96||(R===63||R===45)&&(o=t.input.charCodeAt(t.position+1),un(o)||n&&To(o)))return!1;for(t.kind="scalar",t.result="",a=c=t.position,d=!1;R!==0;){if(R===58){if(o=t.input.charCodeAt(t.position+1),un(o)||n&&To(o))break}else if(R===35){if(i=t.input.charCodeAt(t.position-1),un(i))break}else{if(t.position===t.lineStart&&ih(t)||n&&To(R))break;if(ur(R))if(p=t.line,y=t.lineStart,_=t.lineIndent,dt(t,!1,-1),t.lineIndent>=e){d=!0,R=t.input.charCodeAt(t.position);continue}else{t.position=c,t.line=p,t.lineStart=y,t.lineIndent=_;break}}d&&(ki(t,a,c,!1),bp(t,t.line-p),a=c=t.position,d=!1),fs(R)||(c=t.position+1),R=t.input.charCodeAt(++t.position)}return ki(t,a,c,!1),t.result?!0:(t.kind=E,t.result=I,!1)}function Jx(t,e){var n,i,o;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=o=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(ki(t,i,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)i=t.position,t.position++,o=t.position;else return!0;else ur(n)?(ki(t,i,o,!0),bp(t,dt(t,!1,e)),i=o=t.position):t.position===t.lineStart&&ih(t)?fe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);fe(t,"unexpected end of the stream within a single quoted scalar")}function Zx(t,e){var n,i,o,a,c,d;if(d=t.input.charCodeAt(t.position),d!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(d=t.input.charCodeAt(t.position))!==0;){if(d===34)return ki(t,n,t.position,!0),t.position++,!0;if(d===92){if(ki(t,n,t.position,!0),d=t.input.charCodeAt(++t.position),ur(d))dt(t,!1,e);else if(d<256&&zw[d])t.result+=$w[d],t.position++;else if((c=Kx(d))>0){for(o=c,a=0;o>0;o--)d=t.input.charCodeAt(++t.position),(c=qx(d))>=0?a=(a<<4)+c:fe(t,"expected hexadecimal character");t.result+=Qx(a),t.position++}else fe(t,"unknown escape sequence");n=i=t.position}else ur(d)?(ki(t,n,i,!0),bp(t,dt(t,!1,e)),n=i=t.position):t.position===t.lineStart&&ih(t)?fe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}fe(t,"unexpected end of the stream within a double quoted scalar")}function e2(t,e){var n=!0,i,o,a,c=t.tag,d,p=t.anchor,y,_,E,I,R,P=Object.create(null),j,b,W,q;if(q=t.input.charCodeAt(t.position),q===91)_=93,R=!1,d=[];else if(q===123)_=125,R=!0,d={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),q=t.input.charCodeAt(++t.position);q!==0;){if(dt(t,!0,e),q=t.input.charCodeAt(t.position),q===_)return t.position++,t.tag=c,t.anchor=p,t.kind=R?"mapping":"sequence",t.result=d,!0;n?q===44&&fe(t,"expected the node content, but found ','"):fe(t,"missed comma between flow collection entries"),b=j=W=null,E=I=!1,q===63&&(y=t.input.charCodeAt(t.position+1),un(y)&&(E=I=!0,t.position++,dt(t,!0,e))),i=t.line,o=t.lineStart,a=t.position,Uo(t,e,Pc,!1,!0),b=t.tag,j=t.result,dt(t,!0,e),q=t.input.charCodeAt(t.position),(I||t.line===i)&&q===58&&(E=!0,q=t.input.charCodeAt(++t.position),dt(t,!0,e),Uo(t,e,Pc,!1,!0),W=t.result),R?Io(t,d,P,b,j,W,i,o,a):E?d.push(Io(t,null,P,b,j,W,i,o,a)):d.push(j),dt(t,!0,e),q=t.input.charCodeAt(t.position),q===44?(n=!0,q=t.input.charCodeAt(++t.position)):n=!1}fe(t,"unexpected end of the stream within a flow collection")}function t2(t,e){var n,i,o=ef,a=!1,c=!1,d=e,p=0,y=!1,_,E;if(E=t.input.charCodeAt(t.position),E===124)i=!1;else if(E===62)i=!0;else return!1;for(t.kind="scalar",t.result="";E!==0;)if(E=t.input.charCodeAt(++t.position),E===43||E===45)ef===o?o=E===43?Tv:zx:fe(t,"repeat of a chomping mode identifier");else if((_=Gx(E))>=0)_===0?fe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?fe(t,"repeat of an indentation width identifier"):(d=e+_-1,c=!0);else break;if(fs(E)){do E=t.input.charCodeAt(++t.position);while(fs(E));if(E===35)do E=t.input.charCodeAt(++t.position);while(!ur(E)&&E!==0)}for(;E!==0;){for(Lp(t),t.lineIndent=0,E=t.input.charCodeAt(t.position);(!c||t.lineIndent<d)&&E===32;)t.lineIndent++,E=t.input.charCodeAt(++t.position);if(!c&&t.lineIndent>d&&(d=t.lineIndent),ur(E)){p++;continue}if(t.lineIndent<d){o===Tv?t.result+=wt.repeat(`
`,a?1+p:p):o===ef&&a&&(t.result+=`
`);break}for(i?fs(E)?(y=!0,t.result+=wt.repeat(`
`,a?1+p:p)):y?(y=!1,t.result+=wt.repeat(`
`,p+1)):p===0?a&&(t.result+=" "):t.result+=wt.repeat(`
`,p):t.result+=wt.repeat(`
`,a?1+p:p),a=!0,c=!0,p=0,n=t.position;!ur(E)&&E!==0;)E=t.input.charCodeAt(++t.position);ki(t,n,t.position,!1)}return!0}function Rv(t,e){var n,i=t.tag,o=t.anchor,a=[],c,d=!1,p;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),p=t.input.charCodeAt(t.position);p!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,fe(t,"tab characters must not be used in indentation")),!(p!==45||(c=t.input.charCodeAt(t.position+1),!un(c))));){if(d=!0,t.position++,dt(t,!0,-1)&&t.lineIndent<=e){a.push(null),p=t.input.charCodeAt(t.position);continue}if(n=t.line,Uo(t,e,Uw,!1,!0),a.push(t.result),dt(t,!0,-1),p=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&p!==0)fe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return d?(t.tag=i,t.anchor=o,t.kind="sequence",t.result=a,!0):!1}function n2(t,e,n){var i,o,a,c,d,p,y=t.tag,_=t.anchor,E={},I=Object.create(null),R=null,P=null,j=null,b=!1,W=!1,q;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=E),q=t.input.charCodeAt(t.position);q!==0;){if(!b&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,fe(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),a=t.line,(q===63||q===58)&&un(i))q===63?(b&&(Io(t,E,I,R,P,null,c,d,p),R=P=j=null),W=!0,b=!0,o=!0):b?(b=!1,o=!0):fe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,q=i;else{if(c=t.line,d=t.lineStart,p=t.position,!Uo(t,n,Fw,!1,!0))break;if(t.line===a){for(q=t.input.charCodeAt(t.position);fs(q);)q=t.input.charCodeAt(++t.position);if(q===58)q=t.input.charCodeAt(++t.position),un(q)||fe(t,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Io(t,E,I,R,P,null,c,d,p),R=P=j=null),W=!0,b=!1,o=!1,R=t.tag,P=t.result;else if(W)fe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=y,t.anchor=_,!0}else if(W)fe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=y,t.anchor=_,!0}if((t.line===a||t.lineIndent>e)&&(b&&(c=t.line,d=t.lineStart,p=t.position),Uo(t,e,xc,!0,o)&&(b?P=t.result:j=t.result),b||(Io(t,E,I,R,P,j,c,d,p),R=P=j=null),dt(t,!0,-1),q=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&q!==0)fe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return b&&Io(t,E,I,R,P,null,c,d,p),W&&(t.tag=y,t.anchor=_,t.kind="mapping",t.result=E),W}function r2(t){var e,n=!1,i=!1,o,a,c;if(c=t.input.charCodeAt(t.position),c!==33)return!1;if(t.tag!==null&&fe(t,"duplication of a tag property"),c=t.input.charCodeAt(++t.position),c===60?(n=!0,c=t.input.charCodeAt(++t.position)):c===33?(i=!0,o="!!",c=t.input.charCodeAt(++t.position)):o="!",e=t.position,n){do c=t.input.charCodeAt(++t.position);while(c!==0&&c!==62);t.position<t.length?(a=t.input.slice(e,t.position),c=t.input.charCodeAt(++t.position)):fe(t,"unexpected end of the stream within a verbatim tag")}else{for(;c!==0&&!un(c);)c===33&&(i?fe(t,"tag suffix cannot contain exclamation marks"):(o=t.input.slice(e-1,t.position+1),jw.test(o)||fe(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),c=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),Wx.test(a)&&fe(t,"tag suffix cannot contain flow indicator characters")}a&&!Bw.test(a)&&fe(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{fe(t,"tag name is malformed: "+a)}return n?t.tag=a:Li.call(t.tagMap,o)?t.tag=t.tagMap[o]+a:o==="!"?t.tag="!"+a:o==="!!"?t.tag="tag:yaml.org,2002:"+a:fe(t,'undeclared tag handle "'+o+'"'),!0}function i2(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&fe(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!un(n)&&!To(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&fe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function s2(t){var e,n,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!un(i)&&!To(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&fe(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Li.call(t.anchorMap,n)||fe(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],dt(t,!0,-1),!0}function Uo(t,e,n,i,o){var a,c,d,p=1,y=!1,_=!1,E,I,R,P,j,b;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=c=d=xc===n||Uw===n,i&&dt(t,!0,-1)&&(y=!0,t.lineIndent>e?p=1:t.lineIndent===e?p=0:t.lineIndent<e&&(p=-1)),p===1)for(;r2(t)||i2(t);)dt(t,!0,-1)?(y=!0,d=a,t.lineIndent>e?p=1:t.lineIndent===e?p=0:t.lineIndent<e&&(p=-1)):d=!1;if(d&&(d=y||o),(p===1||xc===n)&&(Pc===n||Fw===n?j=e:j=e+1,b=t.position-t.lineStart,p===1?d&&(Rv(t,b)||n2(t,b,j))||e2(t,j)?_=!0:(c&&t2(t,j)||Jx(t,j)||Zx(t,j)?_=!0:s2(t)?(_=!0,(t.tag!==null||t.anchor!==null)&&fe(t,"alias node should not have any properties")):Xx(t,j,Pc===n)&&(_=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):p===0&&(_=d&&Rv(t,b))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&fe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),E=0,I=t.implicitTypes.length;E<I;E+=1)if(P=t.implicitTypes[E],P.resolve(t.result)){t.result=P.construct(t.result),t.tag=P.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Li.call(t.typeMap[t.kind||"fallback"],t.tag))P=t.typeMap[t.kind||"fallback"][t.tag];else for(P=null,R=t.typeMap.multi[t.kind||"fallback"],E=0,I=R.length;E<I;E+=1)if(t.tag.slice(0,R[E].tag.length)===R[E].tag){P=R[E];break}P||fe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&P.kind!==t.kind&&fe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+P.kind+'", not "'+t.kind+'"'),P.resolve(t.result,t.tag)?(t.result=P.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):fe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||_}function o2(t){var e=t.position,n,i,o,a=!1,c;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(c=t.input.charCodeAt(t.position))!==0&&(dt(t,!0,-1),c=t.input.charCodeAt(t.position),!(t.lineIndent>0||c!==37));){for(a=!0,c=t.input.charCodeAt(++t.position),n=t.position;c!==0&&!un(c);)c=t.input.charCodeAt(++t.position);for(i=t.input.slice(n,t.position),o=[],i.length<1&&fe(t,"directive name must not be less than one character in length");c!==0;){for(;fs(c);)c=t.input.charCodeAt(++t.position);if(c===35){do c=t.input.charCodeAt(++t.position);while(c!==0&&!ur(c));break}if(ur(c))break;for(n=t.position;c!==0&&!un(c);)c=t.input.charCodeAt(++t.position);o.push(t.input.slice(n,t.position))}c!==0&&Lp(t),Li.call(Av,i)?Av[i](t,i,o):Nc(t,'unknown document directive "'+i+'"')}if(dt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,dt(t,!0,-1)):a&&fe(t,"directives end mark is expected"),Uo(t,t.lineIndent-1,xc,!1,!0),dt(t,!0,-1),t.checkLineBreaks&&Hx.test(t.input.slice(e,t.position))&&Nc(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&ih(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,dt(t,!0,-1));return}if(t.position<t.length-1)fe(t,"end of the stream or a document separator is expected");else return}function Ww(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new Yx(t,e),i=t.indexOf("\0");for(i!==-1&&(n.position=i,fe(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)o2(n);return n.documents}function a2(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var i=Ww(t,n);if(typeof e!="function")return i;for(var o=0,a=i.length;o<a;o+=1)e(i[o])}function l2(t,e){var n=Ww(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Jt("expected a single document in the stream, but found more")}}var u2=a2,c2=l2,qw={loadAll:u2,load:c2},Kw=Object.prototype.toString,Gw=Object.prototype.hasOwnProperty,Vp=65279,h2=9,pl=10,d2=13,f2=32,p2=33,m2=34,xf=35,g2=37,y2=38,v2=39,_2=42,Qw=44,w2=45,Dc=58,E2=61,T2=62,I2=63,S2=64,Yw=91,Xw=93,A2=96,Jw=123,C2=124,Zw=125,Kt={};Kt[0]="\\0";Kt[7]="\\a";Kt[8]="\\b";Kt[9]="\\t";Kt[10]="\\n";Kt[11]="\\v";Kt[12]="\\f";Kt[13]="\\r";Kt[27]="\\e";Kt[34]='\\"';Kt[92]="\\\\";Kt[133]="\\N";Kt[160]="\\_";Kt[8232]="\\L";Kt[8233]="\\P";var R2=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],k2=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function P2(t,e){var n,i,o,a,c,d,p;if(e===null)return{};for(n={},i=Object.keys(e),o=0,a=i.length;o<a;o+=1)c=i[o],d=String(e[c]),c.slice(0,2)==="!!"&&(c="tag:yaml.org,2002:"+c.slice(2)),p=t.compiledTypeMap.fallback[c],p&&Gw.call(p.styleAliases,d)&&(d=p.styleAliases[d]),n[c]=d;return n}function x2(t){var e,n,i;if(e=t.toString(16).toUpperCase(),t<=255)n="x",i=2;else if(t<=65535)n="u",i=4;else if(t<=4294967295)n="U",i=8;else throw new Jt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+wt.repeat("0",i-e.length)+e}var N2=1,ml=2;function D2(t){this.schema=t.schema||Op,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=wt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=P2(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?ml:N2,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function kv(t,e){for(var n=wt.repeat(" ",e),i=0,o=-1,a="",c,d=t.length;i<d;)o=t.indexOf(`
`,i),o===-1?(c=t.slice(i),i=d):(c=t.slice(i,o+1),i=o+1),c.length&&c!==`
`&&(a+=n),a+=c;return a}function Nf(t,e){return`
`+wt.repeat(" ",t.indent*e)}function O2(t,e){var n,i,o;for(n=0,i=t.implicitTypes.length;n<i;n+=1)if(o=t.implicitTypes[n],o.resolve(e))return!0;return!1}function Oc(t){return t===f2||t===h2}function gl(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Vp||65536<=t&&t<=1114111}function Pv(t){return gl(t)&&t!==Vp&&t!==d2&&t!==pl}function xv(t,e,n){var i=Pv(t),o=i&&!Oc(t);return(n?i:i&&t!==Qw&&t!==Yw&&t!==Xw&&t!==Jw&&t!==Zw)&&t!==xf&&!(e===Dc&&!o)||Pv(e)&&!Oc(e)&&t===xf||e===Dc&&o}function L2(t){return gl(t)&&t!==Vp&&!Oc(t)&&t!==w2&&t!==I2&&t!==Dc&&t!==Qw&&t!==Yw&&t!==Xw&&t!==Jw&&t!==Zw&&t!==xf&&t!==y2&&t!==_2&&t!==p2&&t!==C2&&t!==E2&&t!==T2&&t!==v2&&t!==m2&&t!==g2&&t!==S2&&t!==A2}function b2(t){return!Oc(t)&&t!==Dc}function Ja(t,e){var n=t.charCodeAt(e),i;return n>=55296&&n<=56319&&e+1<t.length&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function eE(t){var e=/^\n* /;return e.test(t)}var tE=1,Df=2,nE=3,rE=4,wo=5;function V2(t,e,n,i,o,a,c,d){var p,y=0,_=null,E=!1,I=!1,R=i!==-1,P=-1,j=L2(Ja(t,0))&&b2(Ja(t,t.length-1));if(e||c)for(p=0;p<t.length;y>=65536?p+=2:p++){if(y=Ja(t,p),!gl(y))return wo;j=j&&xv(y,_,d),_=y}else{for(p=0;p<t.length;y>=65536?p+=2:p++){if(y=Ja(t,p),y===pl)E=!0,R&&(I=I||p-P-1>i&&t[P+1]!==" ",P=p);else if(!gl(y))return wo;j=j&&xv(y,_,d),_=y}I=I||R&&p-P-1>i&&t[P+1]!==" "}return!E&&!I?j&&!c&&!o(t)?tE:a===ml?wo:Df:n>9&&eE(t)?wo:c?a===ml?wo:Df:I?rE:nE}function M2(t,e,n,i,o){t.dump=function(){if(e.length===0)return t.quotingType===ml?'""':"''";if(!t.noCompatMode&&(R2.indexOf(e)!==-1||k2.test(e)))return t.quotingType===ml?'"'+e+'"':"'"+e+"'";var a=t.indent*Math.max(1,n),c=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),d=i||t.flowLevel>-1&&n>=t.flowLevel;function p(y){return O2(t,y)}switch(V2(e,d,t.indent,c,p,t.quotingType,t.forceQuotes&&!i,o)){case tE:return e;case Df:return"'"+e.replace(/'/g,"''")+"'";case nE:return"|"+Nv(e,t.indent)+Dv(kv(e,a));case rE:return">"+Nv(e,t.indent)+Dv(kv(F2(e,c),a));case wo:return'"'+U2(e)+'"';default:throw new Jt("impossible error: invalid scalar style")}}()}function Nv(t,e){var n=eE(t)?String(e):"",i=t[t.length-1]===`
`,o=i&&(t[t.length-2]===`
`||t===`
`),a=o?"+":i?"":"-";return n+a+`
`}function Dv(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function F2(t,e){for(var n=/(\n+)([^\n]*)/g,i=function(){var y=t.indexOf(`
`);return y=y!==-1?y:t.length,n.lastIndex=y,Ov(t.slice(0,y),e)}(),o=t[0]===`
`||t[0]===" ",a,c;c=n.exec(t);){var d=c[1],p=c[2];a=p[0]===" ",i+=d+(!o&&!a&&p!==""?`
`:"")+Ov(p,e),o=a}return i}function Ov(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,i,o=0,a,c=0,d=0,p="";i=n.exec(t);)d=i.index,d-o>e&&(a=c>o?c:d,p+=`
`+t.slice(o,a),o=a+1),c=d;return p+=`
`,t.length-o>e&&c>o?p+=t.slice(o,c)+`
`+t.slice(c+1):p+=t.slice(o),p.slice(1)}function U2(t){for(var e="",n=0,i,o=0;o<t.length;n>=65536?o+=2:o++)n=Ja(t,o),i=Kt[n],!i&&gl(n)?(e+=t[o],n>=65536&&(e+=t[o+1])):e+=i||x2(n);return e}function j2(t,e,n){var i="",o=t.tag,a,c,d;for(a=0,c=n.length;a<c;a+=1)d=n[a],t.replacer&&(d=t.replacer.call(n,String(a),d)),(zr(t,e,d,!1,!1)||typeof d>"u"&&zr(t,e,null,!1,!1))&&(i!==""&&(i+=","+(t.condenseFlow?"":" ")),i+=t.dump);t.tag=o,t.dump="["+i+"]"}function Lv(t,e,n,i){var o="",a=t.tag,c,d,p;for(c=0,d=n.length;c<d;c+=1)p=n[c],t.replacer&&(p=t.replacer.call(n,String(c),p)),(zr(t,e+1,p,!0,!0,!1,!0)||typeof p>"u"&&zr(t,e+1,null,!0,!0,!1,!0))&&((!i||o!=="")&&(o+=Nf(t,e)),t.dump&&pl===t.dump.charCodeAt(0)?o+="-":o+="- ",o+=t.dump);t.tag=a,t.dump=o||"[]"}function B2(t,e,n){var i="",o=t.tag,a=Object.keys(n),c,d,p,y,_;for(c=0,d=a.length;c<d;c+=1)_="",i!==""&&(_+=", "),t.condenseFlow&&(_+='"'),p=a[c],y=n[p],t.replacer&&(y=t.replacer.call(n,p,y)),zr(t,e,p,!1,!1)&&(t.dump.length>1024&&(_+="? "),_+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),zr(t,e,y,!1,!1)&&(_+=t.dump,i+=_));t.tag=o,t.dump="{"+i+"}"}function z2(t,e,n,i){var o="",a=t.tag,c=Object.keys(n),d,p,y,_,E,I;if(t.sortKeys===!0)c.sort();else if(typeof t.sortKeys=="function")c.sort(t.sortKeys);else if(t.sortKeys)throw new Jt("sortKeys must be a boolean or a function");for(d=0,p=c.length;d<p;d+=1)I="",(!i||o!=="")&&(I+=Nf(t,e)),y=c[d],_=n[y],t.replacer&&(_=t.replacer.call(n,y,_)),zr(t,e+1,y,!0,!0,!0)&&(E=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,E&&(t.dump&&pl===t.dump.charCodeAt(0)?I+="?":I+="? "),I+=t.dump,E&&(I+=Nf(t,e)),zr(t,e+1,_,!0,E)&&(t.dump&&pl===t.dump.charCodeAt(0)?I+=":":I+=": ",I+=t.dump,o+=I));t.tag=a,t.dump=o||"{}"}function bv(t,e,n){var i,o,a,c,d,p;for(o=n?t.explicitTypes:t.implicitTypes,a=0,c=o.length;a<c;a+=1)if(d=o[a],(d.instanceOf||d.predicate)&&(!d.instanceOf||typeof e=="object"&&e instanceof d.instanceOf)&&(!d.predicate||d.predicate(e))){if(n?d.multi&&d.representName?t.tag=d.representName(e):t.tag=d.tag:t.tag="?",d.represent){if(p=t.styleMap[d.tag]||d.defaultStyle,Kw.call(d.represent)==="[object Function]")i=d.represent(e,p);else if(Gw.call(d.represent,p))i=d.represent[p](e,p);else throw new Jt("!<"+d.tag+'> tag resolver accepts not "'+p+'" style');t.dump=i}return!0}return!1}function zr(t,e,n,i,o,a,c){t.tag=null,t.dump=n,bv(t,n,!1)||bv(t,n,!0);var d=Kw.call(t.dump),p=i,y;i&&(i=t.flowLevel<0||t.flowLevel>e);var _=d==="[object Object]"||d==="[object Array]",E,I;if(_&&(E=t.duplicates.indexOf(n),I=E!==-1),(t.tag!==null&&t.tag!=="?"||I||t.indent!==2&&e>0)&&(o=!1),I&&t.usedDuplicates[E])t.dump="*ref_"+E;else{if(_&&I&&!t.usedDuplicates[E]&&(t.usedDuplicates[E]=!0),d==="[object Object]")i&&Object.keys(t.dump).length!==0?(z2(t,e,t.dump,o),I&&(t.dump="&ref_"+E+t.dump)):(B2(t,e,t.dump),I&&(t.dump="&ref_"+E+" "+t.dump));else if(d==="[object Array]")i&&t.dump.length!==0?(t.noArrayIndent&&!c&&e>0?Lv(t,e-1,t.dump,o):Lv(t,e,t.dump,o),I&&(t.dump="&ref_"+E+t.dump)):(j2(t,e,t.dump),I&&(t.dump="&ref_"+E+" "+t.dump));else if(d==="[object String]")t.tag!=="?"&&M2(t,t.dump,e,a,p);else{if(d==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Jt("unacceptable kind of an object to dump "+d)}t.tag!==null&&t.tag!=="?"&&(y=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?y="!"+y:y.slice(0,18)==="tag:yaml.org,2002:"?y="!!"+y.slice(18):y="!<"+y+">",t.dump=y+" "+t.dump)}return!0}function $2(t,e){var n=[],i=[],o,a;for(Of(t,n,i),o=0,a=i.length;o<a;o+=1)e.duplicates.push(n[i[o]]);e.usedDuplicates=new Array(a)}function Of(t,e,n){var i,o,a;if(t!==null&&typeof t=="object")if(o=e.indexOf(t),o!==-1)n.indexOf(o)===-1&&n.push(o);else if(e.push(t),Array.isArray(t))for(o=0,a=t.length;o<a;o+=1)Of(t[o],e,n);else for(i=Object.keys(t),o=0,a=i.length;o<a;o+=1)Of(t[i[o]],e,n)}function H2(t,e){e=e||{};var n=new D2(e);n.noRefs||$2(t,n);var i=t;return n.replacer&&(i=n.replacer.call({"":i},"",i)),zr(n,0,i,!0,!0)?n.dump+`
`:""}var W2=H2,q2={dump:W2};function Mp(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var K2=Lt,G2=_w,Q2=Iw,Y2=kw,X2=Pw,J2=Op,Z2=qw.load,eN=qw.loadAll,tN=q2.dump,nN=Jt,rN={binary:Lw,float:Rw,map:Tw,null:Sw,pairs:Vw,set:Mw,timestamp:Dw,bool:Aw,int:Cw,merge:Ow,omap:bw,seq:Ew,str:ww},iN=Mp("safeLoad","load"),sN=Mp("safeLoadAll","loadAll"),oN=Mp("safeDump","dump"),aN={Type:K2,Schema:G2,FAILSAFE_SCHEMA:Q2,JSON_SCHEMA:Y2,CORE_SCHEMA:X2,DEFAULT_SCHEMA:J2,load:Z2,loadAll:eN,dump:tN,YAMLException:nN,types:rN,safeLoad:iN,safeLoadAll:sN,safeDump:oN};const lN=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),Fp=(t,e)=>`${t}${lN(e)}`,iE=t=>{const e=t/1e3,n=Math.floor(e/86400),i=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),a=e%60,c=o>9||i||n?Math.round(a):a.toFixed(1);let d="";return n&&(d+=`${n}d `),i&&(d+=`${i}h `),o&&(d+=`${o}m `),a&&(d+=`${c}s`),d.trim()},sE=(t,e)=>{const n=t.toString().padStart(5,"0"),i=e.toString().padStart(5,"0");return`item${n}_bid${i}`},cc=t=>{const e=t.match(/item(\d+)_bid(\d+)/);return{item:Number(e[1]),bid:Number(e[2])}},uN=(t,e)=>{let n={};for(const[i,o]of Object.entries(t.data())){const{item:a,bid:c}=cc(i);if(a in n||(n[a]={bids:{}}),c===0){const{amount:d,endTime:p,...y}=o;if(n[a]={...n[a],...y,startingPrice:d,endTime:p.toDate()},e){const _=new Date;n[a].endTime=new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes()+n[a].endTime.getMinutes(),n[a].endTime.getSeconds())}}else n[a].bids[c]=o}return Object.values(n)},Lc=(t=void 0,e=!1,n=!1)=>{fetch("/auction-website/items.yml").then(i=>i.text()).then(i=>aN.load(i)).then(i=>{t!==void 0&&(i=[i.find(d=>d.id===t)]);let o=e?"update item data":n?"delete all bids":"",a=t===void 0?"all items":`item ${t}`;if(confirm(`You are about to ${o} for ${a}, are you sure?`)==!1)return;const c=Ko(Go,"auction","items");Np(c).then(d=>{console.debug("editItems() read from auction/items");let p=Object.keys(d.data());p.length===0&&(p=i.map(_=>sE(_.id,0)));const y={};return i.forEach(_=>{_.endTime=ft.fromDate(new Date(_.endTime)),p.filter(E=>cc(E).item===_.id).forEach(E=>{e&&cc(E).bid===0&&(y[E]=_),n&&cc(E).bid&&(y[E]=MP())})}),y}).then(d=>{fw(c,d),console.debug("editItems() write to from auction/items")})})},Up=z.createContext(),oE=({demo:t,children:e})=>{const[n,i]=z.useState([]);return z.useEffect(()=>{const o=Ko(Go,"auction","items"),a=VP(o,c=>{c.exists()?(console.debug("<ItemsProvider /> read from auction/items"),i(uN(c,t))):(console.debug("<ItemsProvider /> write to auction/items"),dw(o,{}))});return()=>a()},[t]),Q.jsx(Up.Provider,{value:{items:n},children:e})};oE.propTypes={demo:Qe.bool,children:Qe.object};const _s={ITEM:"item",SIGN_UP:"signUp",NONE:null},Qo=z.createContext(),aE=({children:t})=>{const[e,n]=z.useState({}),[i,o]=z.useState(_s.NONE),a=(d,p={})=>{n(p),o(d)},c=()=>{o(_s.NONE),n({})};return Q.jsx(Qo.Provider,{value:{activeItem:e,currentModal:i,openModal:a,closeModal:c},children:t})};aE.propTypes={children:Qe.arrayOf(Qe.element)};const lE=({admin:t})=>{const e=z.useContext(Qo).openModal,n=Ff(),[i,o]=z.useState(""),[a,c]=z.useState("Sign up"),[d,p]=z.useState("Admin"),y=$r();z.useEffect(()=>{const I=b_(Fo,R=>{R&&R.displayName!=null&&(o(`Hi ${R.displayName}`),c("Sign out"))});return()=>I()},[i.displayName]);const _=()=>{y.pathname.includes("admin")?(n("/auction-website/"),p("Admin")):(n("/auction-website/admin"),p("Home"))},E=()=>{i?(o(""),c("Sign up")):e(_s.SIGN_UP)};return Q.jsx("nav",{className:"navbar navbar-dark bg-primary",children:Q.jsxs("div",{className:"container-fluid",children:[Q.jsxs("div",{className:"navbar-brand mb-0 h1 me-auto",children:[Q.jsx("img",{src:"/auction-website/logo.png",alt:"Logo",width:"30",height:"24",className:"d-inline-block align-text-top"}),"The Markatplace"]}),Q.jsxs("div",{className:"row row-cols-auto",children:[Q.jsx("div",{className:"navbar-brand",children:i}),t&&Q.jsx("button",{onClick:_,className:"btn btn-secondary me-2",children:d}),Q.jsx("button",{onClick:E,className:"btn btn-secondary me-2",children:a})]})]})})};lE.propTypes={admin:Qe.bool};const cN="modulepreload",hN=function(t){return"/auction-website/"+t},Vv={},Je=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let c=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=c(n.map(y=>{if(y=hN(y),y in Vv)return;Vv[y]=!0;const _=y.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const I=document.createElement("link");if(I.rel=_?"stylesheet":cN,_||(I.as="script"),I.crossOrigin="",I.href=y,p&&I.setAttribute("nonce",p),document.head.appendChild(I),_)return new Promise((R,P)=>{I.addEventListener("load",R),I.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${y}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},uE=(t,e,n)=>{const i=t[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((o,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},bc=t=>{const e=Object.keys(t.bids??{}).length,n=e?t.bids[e].amount:t.startingPrice??0,i=e?t.bids[e].uid:"";return{bids:e,amount:n,winner:i}},jp=({type:t,title:e,children:n})=>{const{closeModal:i,currentModal:o}=z.useContext(Qo);return t!==o?null:nS.createPortal(Q.jsx("div",{className:"modal fade show",style:{display:"block"},onClick:i,children:Q.jsx("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",onClick:a=>a.stopPropagation(),children:Q.jsxs("div",{className:"modal-content",children:[Q.jsxs("div",{className:"modal-header",children:[Q.jsx("h5",{className:"modal-title",children:e}),Q.jsx("button",{className:"btn-close",onClick:i})]}),n]})})}),document.body)};jp.propTypes={type:Qe.string,title:Qe.string,children:Qe.arrayOf(Qe.element)};const dN=()=>{const{activeItem:t,openModal:e,closeModal:n}=z.useContext(Qo),[i,o]=z.useState(""),a=1,c=10,[d,p]=z.useState(),[y,_]=z.useState(""),[E,I]=z.useState(""),[R,P]=z.useState(""),[j,b]=z.useState("-.--");z.useEffect(()=>{t.secondaryImage!==void 0&&uE(Object.assign({"../assets/DALLE 2023-12-17 17.21.27 - A whimsical cat wearing a tiny wizard hat and cape, standing on its hind legs, with a background of twinkling stars and a crescent moon.png":()=>Je(()=>import("./DALLE 2023-12-17 17.21.27 - A whimsical cat wearing a tiny wizard hat and cape_ standing on its hind legs_ with a background of twinkling stars and a crescent moon-DubEStEM.js"),[]),"../assets/DALLE 2023-12-17 17.21.44 - A playful cat lounging in a hammock, surrounded by lush green plants, with a relaxed expression and a tropical drink beside it.png":()=>Je(()=>import("./DALLE 2023-12-17 17.21.44 - A playful cat lounging in a hammock_ surrounded by lush green plants_ with a relaxed expression and a tropical drink beside it-CCqSZ5s3.js"),[]),"../assets/DALLE 2023-12-17 17.21.50 - A curious cat peering out of a spaceship window, with distant planets and stars visible in the background, giving a sense of wonder and explorat.png":()=>Je(()=>import("./DALLE 2023-12-17 17.21.50 - A curious cat peering out of a spaceship window_ with distant planets and stars visible in the background_ giving a sense of wonder and explorat-CDDjbYJQ.js"),[]),"../assets/DALLE 2023-12-17 17.21.53 - A cat dressed as a detective, complete with a trench coat and magnifying glass, standing in a dimly lit alleyway, looking mysterious and ready t.png":()=>Je(()=>import("./DALLE 2023-12-17 17.21.53 - A cat dressed as a detective_ complete with a trench coat and magnifying glass_ standing in a dimly lit alleyway_ looking mysterious and ready t-DAoF_dNN.js"),[]),"../assets/DALLE 2023-12-17 17.21.58 - A cat artist painting a masterpiece, surrounded by colorful paint tubes and brushes, with a beret on its head and a look of deep concentration.png":()=>Je(()=>import("./DALLE 2023-12-17 17.21.58 - A cat artist painting a masterpiece_ surrounded by colorful paint tubes and brushes_ with a beret on its head and a look of deep concentration-eWNUom53.js"),[]),"../assets/DALLE 2023-12-17 17.22.00 - A majestic cat wearing a king's crown and robe, sitting on a luxurious throne with an expression of regal dignity, in a grand castle hall.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.00 - A majestic cat wearing a king's crown and robe_ sitting on a luxurious throne with an expression of regal dignity_ in a grand castle hall-lbNsJ28U.js"),[]),"../assets/DALLE 2023-12-17 17.22.03 - A cat astronaut floating in space, with a tiny space helmet and a backdrop of a colorful nebula and twinkling stars, looking amazed by the cosmi.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.03 - A cat astronaut floating in space_ with a tiny space helmet and a backdrop of a colorful nebula and twinkling stars_ looking amazed by the cosmi-Dez1-pKQ.js"),[]),"../assets/DALLE 2023-12-17 17.22.07 - A cat chef cooking in a bustling kitchen, wearing a chef's hat and apron, surrounded by delicious food and kitchen utensils, looking focused and.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.07 - A cat chef cooking in a bustling kitchen_ wearing a chef's hat and apron_ surrounded by delicious food and kitchen utensils_ looking focused and-8ibcyYtY.js"),[]),"../assets/DALLE 2023-12-17 17.22.10 - A cat ninja stealthily moving through a moonlit garden, with a small sword and a mask, surrounded by blooming cherry blossoms and a tranquil pon.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.10 - A cat ninja stealthily moving through a moonlit garden_ with a small sword and a mask_ surrounded by blooming cherry blossoms and a tranquil pon-DDWt8hbs.js"),[]),"../assets/DALLE 2023-12-17 17.22.12 - A cat pirate standing on the deck of a ship, with a pirate hat and an eye patch, holding a treasure map, with the ocean and a tropical island in.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.12 - A cat pirate standing on the deck of a ship_ with a pirate hat and an eye patch_ holding a treasure map_ with the ocean and a tropical island in-3f6gIbFI.js"),[]),"../assets/DALLE 2023-12-17 17.22.15 - A cat superhero flying through the city skyline, wearing a cape and a mask, with tall buildings and a setting sun in the background, looking her.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.15 - A cat superhero flying through the city skyline_ wearing a cape and a mask_ with tall buildings and a setting sun in the background_ looking her-DgvE_vMF.js"),[]),"../assets/DALLE 2023-12-17 17.22.17 - A cat relaxing on a sunny beach, with sunglasses, a sunhat, and a beach ball, surrounded by palm trees, with a clear blue ocean and a bright sky.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.17 - A cat relaxing on a sunny beach_ with sunglasses_ a sunhat_ and a beach ball_ surrounded by palm trees_ with a clear blue ocean and a bright sky-BulFWkcu.js"),[])}),`../assets/${t.secondaryImage}.png`,3).then(_e=>{o(_e.default)})},[t.secondaryImage]),z.useEffect(()=>{const _e=bc(t);b(Fp(t.currency,_e.amount+a))},[t]);const W=()=>{setTimeout(()=>{n(),P(""),_("")},1e3)},q=()=>{let _e=new Date().getTime();if(I(!0),t.endTime-_e<0){P("Sorry, this item has ended!"),_("is-invalid"),W(),I(!1);return}if(Fo.currentUser.displayName==null){P("You must provide a username before bidding!"),_("is-invalid"),setTimeout(()=>{e(_s.SIGN_UP),I(!1),_("")},1e3);return}if(!/^\d+(\.\d{1,2})?$/.test(d)){P("Please enter a valid monetary amount!"),_("is-invalid"),I(!1);return}const we=parseFloat(d),D=bc(t);if(we<D.amount+a){P("You did not bid enough!"),_("is-invalid"),I(!1);return}if(we>D.amount+c){P(`For the demo you can only increase the price up to ${t.currency}${c} per bid.`),_("is-invalid"),I(!1);return}fw(Ko(Go,"auction","items"),{[sE(t.id,D.bids+1)]:{amount:we,uid:Fo.currentUser.uid}}),console.debug("handleSubmidBid() write to auction/items"),_("is-valid"),W()},ee=_e=>{p(_e.target.value),I(!1),_("")},le=_e=>{_e.key==="Enter"&&!E&&q()};return Q.jsxs(jp,{type:_s.ITEM,title:t.title,children:[Q.jsxs("div",{className:"modal-body",children:[Q.jsx("p",{children:t.detail}),Q.jsx("img",{src:i,className:"img-fluid",alt:t.title})]}),Q.jsxs("div",{className:"modal-footer justify-content-start",children:[Q.jsxs("div",{className:"input-group mb-2",children:[Q.jsx("span",{className:"input-group-text",children:t.currency}),Q.jsx("input",{className:`form-control ${y}`,onChange:ee,onKeyDown:le}),Q.jsx("button",{type:"submit",className:"btn btn-primary",onClick:q,disabled:E,children:"Submit bid"}),Q.jsx("div",{className:"invalid-feedback",children:R})]}),Q.jsxs("label",{className:"form-label",children:["Enter ",j," or more"]}),Q.jsx("p",{className:"text-muted",children:"(This is just a demo, you're not bidding real money)"})]})]})},fN=()=>{const{closeModal:t}=z.useContext(Qo),[e,n]=z.useState(""),[i,o]=z.useState(""),a=()=>{const d=Fo.currentUser;E1(d,{displayName:e}),dw(Ko(Go,"users",d.uid),{name:e,admin:""}),console.debug(`signUp() write to users/${d.uid}`),o("is-valid"),setTimeout(()=>{t(),o("")},1e3)},c=d=>{d.key==="Enter"&&a()};return Q.jsxs(jp,{type:_s.SIGN_UP,title:"Sign up for Markatplace Auction",children:[Q.jsxs("div",{className:"modal-body",children:[Q.jsx("p",{children:"We use anonymous authentication provided by Google. Your account is attached to your device signature."}),Q.jsx("p",{children:"The username just lets us know who's bidding!"}),Q.jsx("form",{onSubmit:d=>d.preventDefault(),children:Q.jsxs("div",{className:"form-floating mb-3",children:[Q.jsx("input",{autoFocus:!0,id:"username-input",type:"username",className:`form-control ${i}`,value:e,onChange:d=>n(d.target.value),onKeyDown:c}),Q.jsx("label",{children:"Username"})]})})]}),Q.jsxs("div",{className:"modal-footer",children:[Q.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Cancel"}),Q.jsx("button",{type:"submit",className:"btn btn-primary",onClick:a,children:"Sign up"})]})]})},cE=({item:t})=>{const{openModal:e}=z.useContext(Qo),[n,i]=z.useState(""),[o,a]=z.useState(0),[c,d]=z.useState(t.startingPrice),[p,y]=z.useState("");return z.useEffect(()=>{const _=bc(t);a(_.bids),d(Fp(t.currency,_.amount))},[t]),z.useEffect(()=>{const _=()=>{const E=Date.now(),I=t.endTime-E;I>0?(y(iE(I)),requestAnimationFrame(_)):y("Item Ended")};requestAnimationFrame(_)},[t.endTime]),z.useEffect(()=>{uE(Object.assign({"../assets/DALLE 2023-12-17 17.21.27 - A whimsical cat wearing a tiny wizard hat and cape, standing on its hind legs, with a background of twinkling stars and a crescent moon.png":()=>Je(()=>import("./DALLE 2023-12-17 17.21.27 - A whimsical cat wearing a tiny wizard hat and cape_ standing on its hind legs_ with a background of twinkling stars and a crescent moon-DubEStEM.js"),[]),"../assets/DALLE 2023-12-17 17.21.44 - A playful cat lounging in a hammock, surrounded by lush green plants, with a relaxed expression and a tropical drink beside it.png":()=>Je(()=>import("./DALLE 2023-12-17 17.21.44 - A playful cat lounging in a hammock_ surrounded by lush green plants_ with a relaxed expression and a tropical drink beside it-CCqSZ5s3.js"),[]),"../assets/DALLE 2023-12-17 17.21.50 - A curious cat peering out of a spaceship window, with distant planets and stars visible in the background, giving a sense of wonder and explorat.png":()=>Je(()=>import("./DALLE 2023-12-17 17.21.50 - A curious cat peering out of a spaceship window_ with distant planets and stars visible in the background_ giving a sense of wonder and explorat-CDDjbYJQ.js"),[]),"../assets/DALLE 2023-12-17 17.21.53 - A cat dressed as a detective, complete with a trench coat and magnifying glass, standing in a dimly lit alleyway, looking mysterious and ready t.png":()=>Je(()=>import("./DALLE 2023-12-17 17.21.53 - A cat dressed as a detective_ complete with a trench coat and magnifying glass_ standing in a dimly lit alleyway_ looking mysterious and ready t-DAoF_dNN.js"),[]),"../assets/DALLE 2023-12-17 17.21.58 - A cat artist painting a masterpiece, surrounded by colorful paint tubes and brushes, with a beret on its head and a look of deep concentration.png":()=>Je(()=>import("./DALLE 2023-12-17 17.21.58 - A cat artist painting a masterpiece_ surrounded by colorful paint tubes and brushes_ with a beret on its head and a look of deep concentration-eWNUom53.js"),[]),"../assets/DALLE 2023-12-17 17.22.00 - A majestic cat wearing a king's crown and robe, sitting on a luxurious throne with an expression of regal dignity, in a grand castle hall.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.00 - A majestic cat wearing a king's crown and robe_ sitting on a luxurious throne with an expression of regal dignity_ in a grand castle hall-lbNsJ28U.js"),[]),"../assets/DALLE 2023-12-17 17.22.03 - A cat astronaut floating in space, with a tiny space helmet and a backdrop of a colorful nebula and twinkling stars, looking amazed by the cosmi.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.03 - A cat astronaut floating in space_ with a tiny space helmet and a backdrop of a colorful nebula and twinkling stars_ looking amazed by the cosmi-Dez1-pKQ.js"),[]),"../assets/DALLE 2023-12-17 17.22.07 - A cat chef cooking in a bustling kitchen, wearing a chef's hat and apron, surrounded by delicious food and kitchen utensils, looking focused and.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.07 - A cat chef cooking in a bustling kitchen_ wearing a chef's hat and apron_ surrounded by delicious food and kitchen utensils_ looking focused and-8ibcyYtY.js"),[]),"../assets/DALLE 2023-12-17 17.22.10 - A cat ninja stealthily moving through a moonlit garden, with a small sword and a mask, surrounded by blooming cherry blossoms and a tranquil pon.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.10 - A cat ninja stealthily moving through a moonlit garden_ with a small sword and a mask_ surrounded by blooming cherry blossoms and a tranquil pon-DDWt8hbs.js"),[]),"../assets/DALLE 2023-12-17 17.22.12 - A cat pirate standing on the deck of a ship, with a pirate hat and an eye patch, holding a treasure map, with the ocean and a tropical island in.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.12 - A cat pirate standing on the deck of a ship_ with a pirate hat and an eye patch_ holding a treasure map_ with the ocean and a tropical island in-3f6gIbFI.js"),[]),"../assets/DALLE 2023-12-17 17.22.15 - A cat superhero flying through the city skyline, wearing a cape and a mask, with tall buildings and a setting sun in the background, looking her.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.15 - A cat superhero flying through the city skyline_ wearing a cape and a mask_ with tall buildings and a setting sun in the background_ looking her-DgvE_vMF.js"),[]),"../assets/DALLE 2023-12-17 17.22.17 - A cat relaxing on a sunny beach, with sunglasses, a sunhat, and a beach ball, surrounded by palm trees, with a clear blue ocean and a bright sky.png":()=>Je(()=>import("./DALLE 2023-12-17 17.22.17 - A cat relaxing on a sunny beach_ with sunglasses_ a sunhat_ and a beach ball_ surrounded by palm trees_ with a clear blue ocean and a bright sky-BulFWkcu.js"),[])}),`../assets/${t.primaryImage}.png`,3).then(_=>{i(_.default)})},[t.primaryImage]),Q.jsx("div",{className:"col",children:Q.jsxs("div",{className:"card h-100",onClick:()=>e(_s.ITEM,t),children:[Q.jsx("img",{src:n,className:"card-img-top",alt:t.title}),Q.jsxs("div",{className:"card-body",children:[Q.jsx("h5",{className:"title",children:t.title}),Q.jsx("h6",{className:"card-subtitle mb-2 text-body-secondary",children:t.subtitle})]}),Q.jsxs("ul",{className:"list-group list-group-flush",children:[Q.jsx("li",{className:"list-group-item",children:Q.jsx("strong",{children:c})}),Q.jsxs("li",{className:"list-group-item",children:[o," bids  ",p]})]})]})})};cE.propTypes={item:Qe.shape({startingPrice:Qe.number.isRequired,currency:Qe.string.isRequired,endTime:Qe.object.isRequired,primaryImage:Qe.string.isRequired,title:Qe.string.isRequired,subtitle:Qe.string.isRequired})};const pN=()=>{const{items:t}=z.useContext(Up);return Q.jsx("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:t.map(e=>Q.jsx(cE,{item:e},e.id))})};function mN(){return Q.jsxs("div",{className:"container mt-3",children:[Q.jsx(pN,{}),Q.jsx(dN,{})]})}const hE=({item:t})=>{const[e,n]=z.useState(t.startingPrice),[i,o]=z.useState(0),[a,c]=z.useState(""),[d,p]=z.useState("");return z.useEffect(()=>{const y=bc(t);n(Fp(t.currency,y.amount)),o(y.bids),y.winner?Np(Ko(Go,"users",y.winner)).then(_=>{c(_.get("name"))}):c("")},[t]),z.useEffect(()=>{const y=()=>{const _=Date.now(),E=t.endTime-_;E>0?(p(iE(E)),requestAnimationFrame(y)):p("Item Ended")};requestAnimationFrame(y)},[t.endTime]),Q.jsxs("tr",{children:[Q.jsx("td",{children:t.id}),Q.jsx("td",{children:t.title}),Q.jsx("td",{children:e}),Q.jsx("td",{children:i}),Q.jsx("td",{children:a}),Q.jsx("td",{children:d}),Q.jsxs("td",{children:[Q.jsx("button",{className:"btn btn-warning me-3",onClick:()=>Lc(t.id,!0,!1),children:"Update item"}),Q.jsx("button",{className:"btn btn-danger me-3",onClick:()=>Lc(t.id,!1,!0),children:"Delete bids"})]})]})};hE.propTypes={item:Qe.shape({startingPrice:Qe.number.isRequired,currency:Qe.string.isRequired,endTime:Qe.object.isRequired,id:Qe.number.isRequired,title:Qe.string.isRequired})};const gN=()=>{const{items:t}=z.useContext(Up);return Q.jsxs("table",{className:"table table-striped",children:[Q.jsx("thead",{children:Q.jsxs("tr",{children:[Q.jsx("th",{children:"ID"}),Q.jsx("th",{children:"Title"}),Q.jsx("th",{children:"Price"}),Q.jsx("th",{children:"Bids"}),Q.jsx("th",{children:"Winning"}),Q.jsx("th",{children:"Time Left"}),Q.jsx("th",{children:"Actions"})]})}),Q.jsx("tbody",{children:t.map(e=>Q.jsx(hE,{item:e},e.id))})]})};function yN(){return Q.jsxs("div",{className:"container mt-3",children:[Q.jsxs("div",{className:"d-flex justify-content-left mb-3",children:[Q.jsx("button",{className:"btn btn-danger me-3",onClick:()=>Lc(void 0,!0,!1),children:"Update all items"}),Q.jsx("button",{className:"btn btn-danger me-3",onClick:()=>Lc(void 0,!1,!0),children:"Delete all bids"})]}),Q.jsx(gN,{})]})}var dE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Mv=Ti.createContext&&Ti.createContext(dE),Pi=function(){return Pi=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Pi.apply(this,arguments)},vN=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function fE(t){return t&&t.map(function(e,n){return Ti.createElement(e.tag,Pi({key:n},e.attr),fE(e.child))})}function _N(t){return function(e){return Ti.createElement(wN,Pi({attr:Pi({},t.attr)},e),fE(t.child))}}function wN(t){var e=function(n){var i=t.attr,o=t.size,a=t.title,c=vN(t,["attr","size","title"]),d=o||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),Ti.createElement("svg",Pi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:p,style:Pi(Pi({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Ti.createElement("title",null,a),t.children)};return Mv!==void 0?Ti.createElement(Mv.Consumer,null,function(n){return e(n)}):e(dE)}function EN(t){return _N({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(t)}const TN=()=>{const t=new Date().getFullYear();return Q.jsxs("footer",{className:"container d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top",children:[Q.jsx("div",{className:"col-md-4 d-flex align-items-center",children:Q.jsxs("span",{className:"text-muted",children:[" ",t," Harry Mellor"]})}),Q.jsx("ul",{className:"nav col-md-4 justify-content-end list-unstyled d-flex",children:Q.jsx("li",{className:"ms-3",children:Q.jsx("a",{className:"bi bi-github text-muted",href:"https://github.com/HMellor/",width:"24",height:"24",children:Q.jsx(EN,{})})})})]})};function pE(){const{admin:e}=BP(),n=({children:o})=>Q.jsx(oE,{demo:!0,children:Q.jsx(aE,{children:o})});function i({children:o,condition:a}){return a?o:Q.jsx(_I,{to:"/auction-website/"})}return Q.jsxs(n,{children:[Q.jsxs(WI,{children:[Q.jsx(lE,{admin:e}),Q.jsx(fN,{}),Q.jsxs(EI,{children:[Q.jsx(nf,{path:"/auction-website/",Component:mN}),Q.jsx(nf,{exact:!0,path:"/auction-website/admin",element:Q.jsx(i,{condition:e,children:Q.jsx(yN,{})})})]})]}),Q.jsx(TN,{})]})}pE.propTypes={children:Qe.arrayOf(Qe.element),condition:Qe.bool};CT.createRoot(document.getElementById("root")).render(Q.jsx(Ti.StrictMode,{children:Q.jsx(pE,{})}));
